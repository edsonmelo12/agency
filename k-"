Binary file [35m.venv/lib/python3.12/site-packages/pip/_vendor/cachecontrol/__pycache__/filewrapper.cpython-312.pyc[m matches
[35m.venv/lib/python3.12/site-packages/pip/_vendor/cachecontrol/filewrapper.py[m[36m:[m[32m26[m[36m:[m    as the temporary files directory is di[1;31msk-[mbased (sometimes it's a
Binary file [35m.venv/lib/python3.12/site-packages/pip/_vendor/distro/__pycache__/distro.cpython-312.pyc[m matches
[35m.venv/lib/python3.12/site-packages/pip/_vendor/distro/distro.py[m[36m:[m[32m152[m[36m:[m    "ple[1;31msk-[mrelease",
[35mCONTEXT.md[m[36m:[m[32m40[m[36m:[mVITE_GEMINI_API_KEY=[1;31msk-[m...
[35mCONTEXT.md[m[36m:[m[32m41[m[36m:[mVITE_OPENROUTER_KEY=[1;31msk-[m...
[35mcomponents/sidebar/StudioModule.tsx[m[36m:[m[32m316[m[36m:[m      await loadCanvasFont('Space Grotesk', '/canvas-fonts/SpaceGrote[1;31msk-[mMedium.woff2');
[35mdist/assets/index-BynseJQT.js[m[36m:[m[32m530[m[36m:[m    ${n}`,config:{responseMimeType:"application/json",responseSchema:{type:We.ARRAY,items:{type:We.OBJECT,properties:{text:{type:We.STRING},score:{type:We.NUMBER},type:{type:We.STRING}}}}}});return JSON.parse(eo(A.text))},HF=async(t,e)=>{const n=ui();return((await ea(()=>n.models.generateContent({model:"gemini-3-flash-preview",contents:`Texto original: "${t}". InstruÃ§Ã£o: "${e}".`,config:{systemInstruction:"Reescreva apenas o texto solicitado em PT-BR. Retorne somente o texto final, sem aspas, sem markdown."}}),2,600)).text||"").trim()},DF=async(t,e)=>{const n=ui(),A=t.map(o=>o.content.replace(/<[^>]+>/g," ")).join(" ").replace(/\s+/g," ").trim().slice(0,6e3),i=await ea(()=>n.models.generateContent({model:"gemini-3-flash-preview",contents:`Gere SEO para a landing page do produto "${e.name}". ConteÃºdo: ${A}`,config:{responseMimeType:"application/json",responseSchema:{type:We.OBJECT,properties:{title:{type:We.STRING},description:{type:We.STRING},keywords:{type:We.STRING}},required:["title","description","keywords"]}}}),2,600);return JSON.parse(eo(i.text||"{}"))},PF=({activeExpert:t,activeProduct:e,onSelectProduct:n,isLoading:A,editData:i,setEditData:o})=>{const[l,c]=Te.useState([]),[u,f]=Te.useState(!1),[h,y]=Te.useState(""),[B,x]=Te.useState("base"),_=Te.useRef(null);Te.useEffect(()=>{t&&Ef(t.id).then(c)},[t]),Te.useEffect(()=>{const P=V=>{V.key==="Escape"&&(i&&o(null),B!=="base"&&x("base"))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[i,B,o]);const S=async()=>{var P,V,k,W,L,q,re;if(!t)return alert("Selecione um Expert primeiro!");if(!h.startsWith("http"))return alert("Insira uma URL vÃ¡lida.");f(!0);try{const Ae=await _F(h),ve={id:`prod-${Date.now()}`,producerId:t.id,name:Ae.name||"",description:Ae.description||"",price:Ae.price||"",anchorPrice:Ae.anchorPrice||"",anchorSavings:Ae.anchorSavings||"",learningGoals:Ae.learningGoals||"",imageUrl:"",guaranteeDays:Ae.guaranteeDays||7,bonusDescription:Ae.bonusDescription||"",uniqueMechanism:Ae.uniqueMechanism||"",testimonials:Ae.testimonials||[],proofStats:Ae.proofStats||"",scarcityText:Ae.scarcityText||"",faq:Ae.faq||[],isExternal:!0,externalUrl:h,persona:{niche:((P=Ae.persona)==null?void 0:P.niche)||"",ageRange:((V=Ae.persona)==null?void 0:V.ageRange)||"",gender:((k=Ae.persona)==null?void 0:k.gender)||"Ambos",audience:((W=Ae.persona)==null?void 0:W.audience)||"",pains:((L=Ae.persona)==null?void 0:L.pains)||"",desires:((q=Ae.persona)==null?void 0:q.desires)||"",objections:((re=Ae.persona)==null?void 0:re.objections)||""},orderBump:{active:!1,name:"",price:"",description:""},upsell:{active:!1,name:"",price:"",description:""},createdAt:Date.now()};o(ve)}catch{alert("Erro ao analisar URL.")}finally{f(!1)}},Q=P=>{var k;const V=(k=P.target.files)==null?void 0:k[0];if(V&&i){const W=new FileReader;W.onload=L=>{var q;o({...i,imageUrl:(q=L.target)==null?void 0:q.result})},W.readAsDataURL(V)}},T=()=>{i&&o({...i,testimonials:[...i.testimonials||[],""]})},O=(P,V)=>{if(i&&i.testimonials){const k=[...i.testimonials];k[P]=V,o({...i,testimonials:k})}},R=()=>{i&&o({...i,faq:[...i.faq||[],{question:"",answer:""}]})},M=(P,V,k)=>{if(i&&i.faq){const W=[...i.faq];W[P]={...W[P],[V]:k},o({...i,faq:W})}},X=async()=>{if(!i||!t)return;const P={...i,producerId:t.id};await xb(P);const V=await Ef(t.id);c(V),n(P),o(null)},te=()=>{t&&o({id:`prod-${Date.now()}`,producerId:t.id,name:"",description:"",price:"",learningGoals:"",imageUrl:"",guaranteeDays:7,bonusDescription:"",uniqueMechanism:"",testimonials:[],proofStats:"",scarcityText:"",faq:[],isExternal:!1,externalUrl:"",persona:{niche:"",ageRange:"",gender:"Ambos",audience:"",pains:"",desires:"",objections:""},orderBump:{active:!1,name:"",price:"",description:""},upsell:{active:!1,name:"",price:"",description:""},createdAt:Date.now()})};return t?i?m.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Jn,{color:"indigo",children:"EstratÃ©gia da Oferta"}),m.jsx("button",{onClick:()=>o(null),className:"text-[10px] font-black text-slate uppercase",children:"Voltar"})]}),m.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-2xl gap-1",children:[m.jsx("button",{onClick:()=>x("base"),className:`flex-1 py-2 text-[10px] font-black rounded-xl transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${B==="base"?"bg-white dark:bg-slate-700 text-primary dark:text-white shadow-sm":"text-slate"}`,children:"Oferta"}),m.jsx("button",{onClick:()=>x("strategy"),className:`flex-1 py-2 text-[10px] font-black rounded-xl transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${B==="strategy"?"bg-white dark:bg-slate-700 text-primary dark:text-white shadow-sm":"text-slate"}`,children:"EstratÃ©gia"}),m.jsx("button",{onClick:()=>x("proof"),className:`flex-1 py-2 text-[10px] font-black rounded-xl transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${B==="proof"?"bg-white dark:bg-slate-700 text-primary dark:text-white shadow-sm":"text-slate"}`,children:"Provas"})]}),B==="base"&&m.jsxs("div",{className:"space-y-6 animate-in slide-in-from-left-4",children:[m.jsx(hA,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"Nome do Produto"}),m.jsx(bn,{value:i.name,onChange:P=>o({...i,name:P.target.value}),placeholder:"Ex: Masterclass Venda Infinita"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-primary uppercase tracking-widest font-bold",children:"PreÃ§o de Venda"}),m.jsx(bn,{value:i.price,onChange:P=>o({...i,price:P.target.value}),placeholder:"Ex: R$ 997,00",className:"!border-primary"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"Garantia (Dias)"}),m.jsx(bn,{type:"number",value:i.guaranteeDays,onChange:P=>o({...i,guaranteeDays:parseInt(P.target.value)||0}),placeholder:"7"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"PreÃ§o Cheio (Ancoragem)"}),m.jsx(bn,{value:i.anchorPrice||"",onChange:P=>o({...i,anchorPrice:P.target.value}),placeholder:"Ex: R$ 1.497,00"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"Economia"}),m.jsx(bn,{value:i.anchorSavings||"",onChange:P=>o({...i,anchorSavings:P.target.value}),placeholder:"Ex: Economize R$ 500"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"Promessa IrresistÃ­vel (Headline)"}),m.jsx(Dr,{value:i.description,onChange:P=>o({...i,description:P.target.value}),className:"h-20",placeholder:"Qual a transformaÃ§Ã£o Ãºnica do seu produto?"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"Mecanismo Ãšnico (Por que funciona)"}),m.jsx(Dr,{value:i.uniqueMechanism||"",onChange:P=>o({...i,uniqueMechanism:P.target.value}),className:"h-16",placeholder:"Ex: MÃ©todo X reduz o esforÃ§o porque..."})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"Nicho / Sub-nicho"}),m.jsx(bn,{value:i.persona.niche,onChange:P=>o({...i,persona:{...i.persona,niche:P.target.value}}),placeholder:"Ex: Emagrecimento / Dieta Keto"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"Mockup / Visual do Produto"}),m.jsx("div",{onClick:()=>{var P;return(P=_.current)==null?void 0:P.click()},role:"button",tabIndex:0,onKeyDown:P=>{var V;(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),(V=_.current)==null||V.click())},className:"w-full h-32 bg-panel dark:bg-slate-800 border-2 border-dashed border-border dark:border-slate-700 rounded-2xl flex items-center justify-center cursor-pointer hover:border-primary overflow-hidden shadow-inner transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:i.imageUrl?m.jsx("img",{src:i.imageUrl,className:"w-full h-full object-contain p-2",alt:"Product"}):m.jsxs("div",{className:"text-center",children:[m.jsx("svg",{className:"w-6 h-6 text-indigo-500 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),m.jsx("span",{className:"text-[8px] font-black uppercase text-slate",children:"Inserir Mockup 3D"})]})}),m.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",onChange:Q})]})]})}),m.jsxs(hA,{color:"indigo",children:[m.jsx(Jn,{color:"indigo",children:"Gatilhos de Escassez"}),m.jsx(bn,{value:i.scarcityText,onChange:P=>o({...i,scarcityText:P.target.value}),placeholder:"Ex: Apenas 15 vagas restantes com bÃ´nus..."})]}),m.jsxs(hA,{color:"blue",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx(Jn,{color:"blue",children:"Checkout Externo"}),m.jsx(Uo,{checked:i.isExternal,onChange:P=>o({...i,isExternal:P})})]}),i.isExternal&&m.jsx(bn,{value:i.externalUrl,onChange:P=>o({...i,externalUrl:P.target.value}),placeholder:"https://pay.hotmart.com/..."})]})]}),B==="strategy"&&m.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[m.jsx(hA,{color:"indigo",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"O que eles vÃ£o aprender?"}),m.jsx(Dr,{value:i.learningGoals,onChange:P=>o({...i,learningGoals:P.target.value}),className:"h-24 text-[10px]",placeholder:"Liste os principais mÃ³dulos ou pilares..."})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase tracking-widest",children:"EntregÃ¡veis & BÃ´nus"}),m.jsx(Dr,{value:i.bonusDescription,onChange:P=>o({...i,bonusDescription:P.target.value}),className:"h-24 text-[10px]",placeholder:"Ex: Planilha de GestÃ£o, Mentorias Gravadas..."})]})]})}),m.jsxs(hA,{color:"slate",children:[m.jsx(Jn,{color:"slate",children:"Avatar / Persona"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase",children:"PÃºblico Alvo / Persona"}),m.jsx(bn,{value:i.persona.audience,onChange:P=>o({...i,persona:{...i.persona,audience:P.target.value}}),placeholder:"Ex: Pequenos empresÃ¡rios cansados..."})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase",children:"Faixa EtÃ¡ria"}),m.jsx(bn,{value:i.persona.ageRange,onChange:P=>o({...i,persona:{...i.persona,ageRange:P.target.value}}),placeholder:"Ex: 25-45 anos"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase",children:"GÃªnero"}),m.jsxs(Wr,{value:i.persona.gender,onChange:P=>o({...i,persona:{...i.persona,gender:P.target.value}}),children:[m.jsx("option",{value:"Ambos",children:"Ambos"}),m.jsx("option",{value:"Masculino",children:"Masculino"}),m.jsx("option",{value:"Feminino",children:"Feminino"})]})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase",children:"Desejos & Sonhos"}),m.jsx(Dr,{value:i.persona.desires,onChange:P=>o({...i,persona:{...i.persona,desires:P.target.value}}),className:"h-20 text-[10px]",placeholder:"O que eles realmente querem alcanÃ§ar?"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase",children:"Dores & Problemas"}),m.jsx(Dr,{value:i.persona.pains,onChange:P=>o({...i,persona:{...i.persona,pains:P.target.value}}),className:"h-20 text-[10px]"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black text-slate uppercase",children:"ObjeÃ§Ãµes Principais"}),m.jsx(Dr,{value:i.persona.objections,onChange:P=>o({...i,persona:{...i.persona,objections:P.target.value}}),className:"h-20 text-[10px]",placeholder:"O que impede eles de comprar agora?"})]})]})]})]}),B==="proof"&&m.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[m.jsxs(hA,{color:"emerald",children:[m.jsx(Jn,{color:"emerald",children:"Provas Concretas"}),m.jsx(Dr,{value:i.proofStats||"",onChange:P=>o({...i,proofStats:P.target.value}),className:"h-20 text-[10px]",placeholder:'Ex: +2.300 alunos, Nota 4.9, Selo "Top 1"'})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Jn,{color:"emerald",children:"Depoimentos / Prova Social"}),m.jsx("button",{onClick:T,className:"text-[9px] font-black text-primary uppercase",children:"+ Adicionar"})]}),m.jsxs("div",{className:"space-y-2",children:[(i.testimonials||[]).map((P,V)=>m.jsx(Dr,{value:P,onChange:k=>O(V,k.target.value),className:"h-16 text-[10px]",placeholder:`Relato do cliente ${V+1}...`},V)),(!i.testimonials||i.testimonials.length===0)&&m.jsx("p",{className:"text-center py-4 text-[9px] font-bold text-slate uppercase",children:"Nenhum depoimento cadastrado."})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Jn,{color:"indigo",children:"FAQ da Oferta"}),m.jsx("button",{onClick:R,className:"text-[9px] font-black text-primary uppercase",children:"+ Adicionar"})]}),m.jsx("div",{className:"space-y-4",children:(i.faq||[]).map((P,V)=>m.jsxs("div",{className:"p-4 bg-panel dark:bg-slate-800 rounded-2xl space-y-2 border border-border dark:border-slate-700",children:[m.jsx(bn,{value:P.question,onChange:k=>M(V,"question",k.target.value),placeholder:"Pergunta...",className:"!p-2 !bg-white"}),m.jsx(Dr,{value:P.answer,onChange:k=>M(V,"answer",k.target.value),placeholder:"Resposta...",className:"h-16 !p-2 !bg-white"})]},V))})]})]}),m.jsx(sA,{onClick:X,className:"w-full py-5 shadow-indigo-500/10",children:"Sincronizar EstratÃ©gia"})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs(hA,{color:"indigo",children:[m.jsx(Jn,{color:"indigo",children:"AnÃ¡lise de Competitividade"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(bn,{value:h,onChange:P=>y(P.target.value),placeholder:"URL de Vendas para Clonar Copy",className:"flex-1 !p-3"}),m.jsx(sA,{onClick:S,disabled:u,className:"!py-3 !px-4 bg-primary min-w-[80px]",children:u?"...":"Analisar"})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Jn,{color:"slate",children:"Suas Ofertas"}),m.jsx("button",{onClick:te,className:"text-[10px] font-black text-primary uppercase hover:underline",children:"+ Criar Oferta"})]}),m.jsxs("div",{className:"space-y-3",children:[l.map(P=>m.jsxs("div",{onClick:()=>n(P),role:"button",tabIndex:0,onKeyDown:V=>{(V.key==="Enter"||V.key===" ")&&(V.preventDefault(),n(P))},className:`p-4 rounded-[32px] border-2 cursor-pointer transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 group relative ${(e==null?void 0:e.id)===P.id?"border-primary bg-indigo-50 dark:bg-indigo-900/10 shadow-lg":"border-border dark:border-slate-800 bg-white dark:bg-slate-900 hover:border-indigo-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-14 h-14 bg-slate-100 dark:bg-slate-800 border rounded-2xl overflow-hidden flex items-center justify-center shadow-inner",children:P.imageUrl?m.jsx("img",{src:P.imageUrl,className:"w-full h-full object-contain p-1"}):m.jsx("div",{className:"text-[10px] font-black text-slate-300",children:"N/A"})}),m.jsxs("div",{className:"flex-1 overflow-hidden",children:[m.jsx("h4",{className:"text-xs font-black uppercase truncate pr-8 tracking-tighter",children:P.name||"Sem Nome"}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx("span",{className:"text-[10px] font-black text-primary",children:P.price||"R$ 0,00"}),m.jsxs("span",{className:"text-[8px] font-bold text-slate uppercase",children:["â€¢ ",P.guaranteeDays,"d Garantia"]})]})]})]}),m.jsxs("div",{className:"absolute top-4 right-4 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:V=>{V.stopPropagation(),o(P)},className:"p-2 bg-white dark:bg-slate-800 border border-border dark:border-slate-700 rounded-xl text-slate hover:text-primary shadow-sm",children:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),m.jsx("button",{onClick:V=>{V.stopPropagation(),confirm("Excluir oferta?")&&VE(P.id).then(()=>Ef(t.id).then(c))},className:"p-2 bg-white dark:bg-slate-800 border border-border dark:border-slate-700 rounded-xl text-rose-400 hover:text-rose-600 shadow-sm",children:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862"})})})]})]},P.id)),l.length===0&&m.jsx("div",{className:"text-center py-10 opacity-30 text-[9px] font-black uppercase tracking-widest",children:"Nenhuma oferta definida"})]})]}):m.jsx("div",{className:"text-center py-20 opacity-40 uppercase text-[10px] font-black",children:"Selecione um Expert primeiro."})},OF=({options:t,setOptions:e,onGenerate:n,onInjectAsset:A,isLoading:i,availableEbooks:o,availableVsl:l,sections:c,onRegenerateSection:u,pageVersions:f,activePageVersionId:h,onSelectPageVersion:y,onCreatePageVersion:B,onDuplicatePageVersion:x,onDeletePageVersion:_})=>{var ne;const[S,Q]=Te.useState(!1),[T,O]=Te.useState(""),[R,M]=Te.useState("");Te.useEffect(()=>{const J=ce=>{ce.key==="Escape"&&(S&&Q(!1),T&&O(""),R&&M(""))};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[S,T,R]);const X=[{id:"auto",label:"Auto",config:{}},{id:"artesanato",label:"Artesanato",config:{primaryColor:"#f97316",secondaryColor:"#0ea5e9",backgroundColor:"light",visualPreset:"agency-premium",fontPair:"Elegant",designSystem:{segment:"Artesanato",style:"lÃºdico, colorido, artesanal, badges e selos",globalRules:"Use blocos arredondados, sombras suaves, badges/selos e ilustraÃ§Ãµes simples. Priorize visual e sensaÃ§Ã£o handmade.",segmentSystem:"Paleta vibrante com coral/laranja + azul cÃ©u + verde menta. Tipografia amigÃ¡vel e legÃ­vel. Use cards com bordas suaves e micro-selos.",projectOverride:""}}},{id:"saude-mental",label:"SaÃºde Mental",config:{primaryColor:"#0f766e",secondaryColor:"#38bdf8",backgroundColor:"dark",visualPreset:"agency-premium",fontPair:"Modern",designSystem:{segment:"SaÃºde Mental",style:"calmo, confiÃ¡vel, editorial leve, respirÃ¡vel",globalRules:"Use espaÃ§amentos generosos, contraste suave e elementos de apoio discretos. Evite ruÃ­do visual.",segmentSystem:"Paleta serena com azul profundo + verde/teal. Tipografia limpa, headlines fortes e corpo legÃ­vel.",projectOverride:""}}}],te=[{id:"agency-premium",label:"Agency Premium"},{id:"standard",label:"Essencial"}],P=[{id:"compact",label:"Compacto"},{id:"balanced",label:"Equilibrado"},{id:"large",label:"Amplo"}],V=t.visualScale==="compact"?"Compacto":t.visualScale==="large"?"Amplo":"Equilibrado",k=t.designSystem||{segment:"",style:"",strength:"medium",globalRules:"",segmentSystem:"",projectOverride:"",sectionOverrides:{}},W=J=>{const ce={...k,...J,sectionOverrides:{...k.sectionOverrides||{},...J.sectionOverrides||{}}};e({...t,designSystem:ce})},L=J=>{var Be,Qe,Z,I,z;const ce=X.find(j=>j.id===J);if(ce){if(J==="auto"){e({...t,designSystem:{...k,nichePreset:"auto"}});return}e({...t,primaryColor:ce.config.primaryColor||t.primaryColor,secondaryColor:ce.config.secondaryColor||t.secondaryColor,backgroundColor:ce.config.backgroundColor||t.backgroundColor,visualPreset:ce.config.visualPreset||t.visualPreset,fontPair:ce.config.fontPair||t.fontPair,designSystem:{...k,segment:((Be=ce.config.designSystem)==null?void 0:Be.segment)||k.segment,style:((Qe=ce.config.designSystem)==null?void 0:Qe.style)||k.style,globalRules:((Z=ce.config.designSystem)==null?void 0:Z.globalRules)||k.globalRules,segmentSystem:((I=ce.config.designSystem)==null?void 0:I.segmentSystem)||k.segmentSystem,projectOverride:((z=ce.config.designSystem)==null?void 0:z.projectOverride)||k.projectOverride,nichePreset:J}})}},q=Te.useMemo(()=>{const J=new Set(c.map(ce=>ce.type));return Array.from(J).sort()},[c]),re=Te.useMemo(()=>[...f].sort((J,ce)=>(J.updatedAt||J.createdAt)-(ce.updatedAt||ce.createdAt)),[f]),Ae=R&&((ne=k.sectionOverrides)==null?void 0:ne[R])||"",ve=k.segment||k.style?`python3 skills/ui-ux-pro-max/scripts/search.py "${k.segment} ${k.style} landing page" --design-system -f markdown`:"";return m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4",children:[m.jsxs(hA,{color:"slate",children:[m.jsx(Jn,{color:"slate",children:"Layout & Estilo"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate uppercase",children:"Tema da PÃ¡gina"}),m.jsx("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl gap-1",children:[{id:"light",label:"Claro",icon:"M12 3v1m0 16v1m9-9h-1M4 12H3"},{id:"dark",label:"Escuro",icon:"M20.354 15.354A9 9 0 018.646 3.646"},{id:"neutral",label:"Neutro",icon:"M12 8v4l3 3m6-3"}].map(J=>m.jsxs("button",{onClick:()=>e({...t,backgroundColor:J.id}),className:`flex-1 py-2 rounded-lg flex flex-col items-center justify-center gap-1 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${t.backgroundColor===J.id?"bg-white dark:bg-slate-700 text-primary dark:text-white shadow-sm":"text-slate hover:text-slate"}`,children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:J.icon})}),m.jsx("span",{className:"text-[9px] font-black uppercase",children:J.label})]},J.id))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate uppercase",children:"Nicho Visual"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:X.map(J=>m.jsx("button",{onClick:()=>L(J.id),className:`py-2 rounded-lg text-[9px] font-black uppercase border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${(k.nichePreset||"auto")===J.id?"bg-white dark:bg-slate-700 text-primary dark:text-white border-primary":"bg-transparent text-slate border-border dark:border-slate-700"}`,children:J.label},J.id))})]}),!k.segment&&!k.style&&m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate uppercase",children:"Preset Visual"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:te.map(J=>m.jsx("button",{onClick:()=>e({...t,visualPreset:J.id}),className:`py-2 rounded-lg text-[9px] font-black uppercase border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${t.visualPreset===J.id?"bg-white dark:bg-slate-700 text-primary dark:text-white border-primary":"bg-transparent text-slate border-border dark:border-slate-700"}`,children:J.label},J.id))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate uppercase",children:"Escala Visual"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:P.map(J=>m.jsx("button",{onClick:()=>e({...t,visualScale:J.id}),className:`py-2 rounded-lg text-[9px] font-black uppercase border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${t.visualScale===J.id?"bg-white dark:bg-slate-700 text-primary dark:text-white border-primary":"bg-transparent text-slate border-border dark:border-slate-700"}`,children:J.label},J.id))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate uppercase",children:"Ousadia Visual"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"low",label:"Baixa"},{id:"medium",label:"MÃ©dia"},{id:"high",label:"Alta"}].map(J=>m.jsx("button",{onClick:()=>{const ce=J.id==="low"?"light":J.id==="high"?"strong":"medium";e({...t,creativeFreedom:J.id,designSystem:{...k,strength:ce}})},className:`py-2 rounded-lg text-[9px] font-black uppercase border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${(t.creativeFreedom||"medium")===J.id?"bg-white dark:bg-slate-700 text-primary dark:text-white border-primary":"bg-transparent text-slate border-border dark:border-slate-700"}`,children:J.label},J.id))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate uppercase",children:"Autor (Layout)"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"fixed",label:"Seguro"},{id:"free",label:"Livre"}].map(J=>m.jsx("button",{onClick:()=>e({...t,authorLayoutMode:J.id}),className:`py-2 rounded-lg text-[9px] font-black uppercase border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${(t.authorLayoutMode||"fixed")===J.id?"bg-white dark:bg-slate-700 text-primary dark:text-white border-primary":"bg-transparent text-slate border-border dark:border-slate-700"}`,children:J.label},J.id))}),m.jsx("p",{className:"text-[9px] text-slate leading-relaxed",children:'"Livre" permite variaÃ§Ãµes visuais no autor (mantendo foto, nome e bio).'})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate uppercase",children:"PrimÃ¡ria"}),m.jsx("input",{type:"color",value:t.primaryColor,onChange:J=>e({...t,primaryColor:J.target.value}),className:"w-full h-10 rounded-lg cursor-pointer bg-white border p-1"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate uppercase",children:"Destaque"}),m.jsx("input",{type:"color",value:t.secondaryColor,onChange:J=>e({...t,secondaryColor:J.target.value}),className:"w-full h-10 rounded-lg cursor-pointer bg-white border p-1"})]})]}),m.jsxs("div",{className:"mt-4 p-4 rounded-2xl border border-border bg-panel",children:[m.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate mb-2",children:"Escala Visual Ativa"}),m.jsx("div",{className:"text-[10px] font-black text-ink",children:V})]})]}),m.jsxs(hA,{color:"slate",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx(Jn,{color:"slate",children:"Design System (IA)"}),m.jsx(Uo,{checked:S,onChange:Q})]}),m.jsx("p",{className:"text-[10px] font-bold text-slate leading-relaxed uppercase",children:"Segmento + estilo aplicam a camada visual do projeto."}),S&&m.jsxs("div",{className:"mt-3 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black uppercase text-slate",children:"Segmento"}),m.jsx("input",{value:k.segment,onChange:J=>W({segment:J.target.value}),className:"w-full rounded-lg border border-border p-2 text-[10px] font-bold text-slate",placeholder:"ex: saÃºde, fintech"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("span",{className:"text-[9px] font-black uppercase text-slate",children:"Estilo"}),m.jsx("input",{value:k.style,onChange:J=>W({style:J.target.value}),className:"w-full rounded-lg border border-border p-2 text-[10px] font-bold text-slate",placeholder:"ex: editorial, dark"})]})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"light",label:"Leve"},{id:"medium",label:"MÃ©dio"},{id:"strong",label:"Forte"}].map(J=>m.jsx("button",{onClick:()=>W({strength:J.id}),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${(k.strength||"medium")===J.id?"bg-slate-800 text-white border-slate-800":"bg-white text-slate border-border"}`,children:J.label},J.id))}),ve&&m.jsxs("div",{className:"rounded-lg border border-border bg-panel p-3 text-[9px] text-slate",children:[m.jsx("div",{className:"font-black uppercase tracking-widest text-slate mb-1",children:"Comando sugerido"}),m.jsx("code",{className:"break-all",children:ve})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(Dr,{value:k.segmentSystem,onChange:J=>W({segmentSystem:J.target.value}),className:"h-24 text-[10px]",placeholder:"Cole aqui o Design System do segmento..."}),m.jsx(Dr,{value:k.projectOverride,onChange:J=>W({projectOverride:J.target.value}),className:"h-20 text-[10px]",placeholder:"Override do projeto (opcional)..."})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-[9px] font-black uppercase text-slate",children:"Override por SeÃ§Ã£o"}),m.jsxs("select",{value:R,onChange:J=>M(J.target.value),className:"w-full rounded-lg border border-border p-2 text-[10px] font-bold text-slate",children:[m.jsx("option",{value:"",children:"Selecione a seÃ§Ã£o"}),q.map(J=>m.jsx("option",{value:J,children:J.toUpperCase()},J))]}),m.jsx(Dr,{value:Ae,onChange:J=>{R&&W({sectionOverrides:{[R]:J.target.value}})},className:"h-20 text-[10px]",placeholder:"Override especÃ­fico para esta seÃ§Ã£o..."}),m.jsx("div",{className:"flex gap-2",children:m.jsx(sA,{variant:"secondary",className:"w-full",onClick:()=>{if(!R)return;const J={...k.sectionOverrides||{}};delete J[R],W({sectionOverrides:J})},disabled:!R,children:"Limpar Override"})})]}),m.jsx(sA,{variant:"secondary",className:"w-full",onClick:()=>W({segment:"",style:"",strength:"medium",segmentSystem:"",projectOverride:"",sectionOverrides:{}}),children:"Limpar Design System"})]})]}),m.jsxs(hA,{color:"slate",children:[m.jsx(Jn,{color:"slate",children:"Galeria de PVs"}),m.jsx("p",{className:"text-[10px] font-bold text-slate leading-relaxed uppercase",children:"Crie versÃµes para testar Ã¢ngulos e layouts sem perder a pÃ¡gina atual."}),m.jsx(sA,{variant:"secondary",className:"w-full",onClick:B,disabled:i,children:"+ Nova versÃ£o"}),m.jsxs("div",{className:"space-y-2",children:[re.length===0&&m.jsx("div",{className:"text-[10px] text-slate",children:"Nenhuma versÃ£o criada. Gere uma pÃ¡gina para comeÃ§ar."}),re.map(J=>{const ce=J.id===h,Be=new Date(J.updatedAt||J.createdAt).toLocaleString("pt-BR");return m.jsxs("div",{className:`rounded-xl border p-3 flex flex-col gap-2 ${ce?"border-primary bg-blue-500/10":"border-slate-700"}`,children:[m.jsxs("button",{type:"button",onClick:()=>y(J.id),className:"text-left",children:[m.jsx("div",{className:"text-[11px] font-black text-white",children:J.versionName||J.name}),m.jsx("div",{className:"text-[9px] text-slate",children:Be})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(sA,{variant:"ghost",className:"text-[9px] px-3 py-2",onClick:()=>x(J.id),children:"Duplicar"}),m.jsx(sA,{variant:"danger",className:"text-[9px] px-3 py-2",onClick:()=>_(J.id),children:"Excluir"})]})]},J.id)})]})]}),m.jsxs(hA,{color:"indigo",children:[m.jsx(Jn,{color:"indigo",children:"Reconstruir SeÃ§Ã£o (CRO)"}),m.jsx("p",{className:"text-[10px] font-bold text-slate leading-relaxed uppercase",children:"Reescreve apenas uma seÃ§Ã£o com regras de conversÃ£o e layout seguro."}),m.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:[{id:"full",label:"Tudo"},{id:"copy",label:"SÃ³ texto"},{id:"layout",label:"SÃ³ layout"},{id:"style",label:"Harmonizar estilo"}].map(J=>m.jsx("button",{onClick:()=>e({...t,regenMode:J.id}),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${(t.regenMode||"full")===J.id?"bg-primary text-white border-primary":"bg-white text-slate border-border"}`,children:J.label},J.id))}),m.jsxs("select",{value:T,onChange:J=>O(J.target.value),className:"w-full mt-2 p-3 bg-white dark:bg-slate-800 border border-border dark:border-slate-700 rounded-xl text-[10px] font-black uppercase text-slate",children:[m.jsx("option",{value:"",children:"Selecione uma seÃ§Ã£o"}),c.map(J=>m.jsxs("option",{value:J.id,children:[J.type.toUpperCase()," â€¢ ",J.id.slice(0,6)]},J.id))]}),m.jsx(sA,{variant:"secondary",onClick:()=>{const J=c.find(ce=>ce.id===T);J&&u(J.id,J.type)},disabled:i||!T,className:"w-full mt-3",children:i?"Reconstruindo...":"Reconstruir SeÃ§Ã£o"})]}),l||o.length>0?m.jsxs(hA,{color:"emerald",children:[m.jsx(Jn,{color:"emerald",children:"Sincronizar Ativos do Funil"}),m.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[l&&m.jsxs("button",{onClick:()=>A("vsl",l),disabled:i,className:"flex items-center justify-between p-3 bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-900/30 rounded-xl text-left hover:border-indigo-400 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-lg flex items-center justify-center",children:m.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M2 6a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[9px] font-black uppercase text-primary",children:"VÃ­deo VSL"}),m.jsx("p",{className:"text-[10px] font-bold text-slate dark:text-slate-300",children:"Injetar SeÃ§Ã£o de VÃ­deo"})]})]}),m.jsx("span",{className:"text-xl",children:"+"})]}),o.map(J=>m.jsxs("button",{onClick:()=>A("ebook",J),disabled:i,className:"flex items-center justify-between p-3 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/30 rounded-xl text-left hover:border-emerald-400 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-emerald-600 text-white rounded-lg flex items-center justify-center",children:m.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9 4.804A7.993 7.993 0 0112 4c1.24 0 2.413.283 3.465.789a.4.4 0 01.135.545V15.71a.4.4 0 01-.545.135A7.993 7.993 0 0012 15a7.993 7.993 0 00-3 1c-1.24 0-2.413-.283-3.465-.789a.4.4 0 01-.135-.545V5.334a.4.4 0 01.545-.135A7.993 7.993 0 009 4.804z"})})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[9px] font-black uppercase text-emerald-600",children:"Isca Digital / BÃ´nus"}),m.jsx("p",{className:"text-[10px] font-bold text-slate dark:text-slate-300 truncate max-w-[150px]",children:J.title})]})]}),m.jsx("span",{className:"text-xl",children:"+"})]},J.id))]})]}):null,m.jsxs(hA,{color:"slate",children:[m.jsx("div",{className:"flex items-center justify-between mb-2",children:m.jsx(Jn,{color:"slate",children:"Brief do NegÃ³cio"})}),m.jsx(Dr,{value:t.prompt,onChange:J=>e({...t,prompt:J.target.value}),className:"h-32",placeholder:"Descreva produto, pÃºblico, promessa e tom. Evite descrever a estrutura da pÃ¡gina."})]}),m.jsx(sA,{onClick:()=>n(t),disabled:i,className:"w-full py-6 text-base font-black",children:i?"IA Construindo...":"Gerar PÃ¡gina Completa"})]})},GF=({activeProduct:t,onGenerateImage:e,onSyncCreatives:n,onGenerateMarketingIdeas:A,onGeneratePaidAdsPlan:i,onSaveCanvasImage:o,isLoading:l})=>{const[c,u]=Te.useState("generate"),[f,h]=Te.useState(""),[y,B]=Te.useState(null),[x,_]=Te.useState("standard"),[S,Q]=Te.useState("1:1"),[T,O]=Te.useState("Product Commercial"),[R,M]=Te.useState("Custom"),[X,te]=Te.useState("image/webp"),[P,V]=Te.useState(.85),[k,W]=Te.useState(!0),[L,q]=Te.useState(),[re,Ae]=Te.useState(),[ve,ne]=Te.useState([]),[J,ce]=Te.useState(!1),[Be,Qe]=Te.useState([]),[Z,I]=Te.useState(null),[z,j]=Te.useState("ConversÃµes"),[se,ue]=Te.useState("Meta (Facebook/Instagram)"),[ge,we]=Te.useState("R$ 2.000/mÃªs"),[Ue,ke]=Te.useState(!1),[$e,at]=Te.useState(!1),[nt,ct]=Te.useState("Respire e conduza seu ritmo"),[ie,At]=Te.useState("Micro decisoes que reduzem ansiedade e aumentam presenca."),[qt,dt]=Te.useState("ENGAJAMENTO"),[fe,Je]=Te.useState("IG Feed"),[et,yt]=Te.useState("Editorial Calm"),[ht,Ft]=Te.useState("Respire e recupere o ritmo"),[Kt,Rt]=Te.useState("Micro decisÃµes, grandes mudanÃ§as na presenÃ§a."),[en,rn]=Te.useState("SERIE"),[wt,$t]=Te.useState(!1),[Et,xA]=Te.useState(!1),[on,Mt]=Te.useState(!0),[Pt,pn]=Te.useState(!1),[It,Yn]=Te.useState(3),kt=Te.useRef(null);Te.useEffect(()=>{const Me=_t=>{_t.key==="Escape"&&c!=="generate"&&u("generate")};return window.addEventListener("keydown",Me),()=>window.removeEventListener("keydown",Me)},[c]);const Vt=[{id:"Ebook Cover",ratio:"3:4",label:"Capa E-book"},{id:"Facebook Cover",ratio:"16:9",label:"Capa Facebook"},{id:"Instagram Story",ratio:"9:16",label:"Story IG"},{id:"VSL Thumbnail",ratio:"16:9",label:"Thumbnail VSL"},{id:"Google Display",ratio:"16:9",label:"Google Ads"},{id:"LinkedIn Banner",ratio:"16:9",label:"LinkedIn"},{id:"IG Feed",ratio:"1:1",label:"IG Feed"},{id:"IG Portrait",ratio:"4:5",label:"IG 4:5"},{id:"IG Story",ratio:"9:16",label:"IG Story"},{id:"Reels Cover",ratio:"9:16",label:"Reels Cover"},{id:"TikTok 9:16",ratio:"9:16",label:"TikTok"},{id:"YouTube Thumbnail",ratio:"16:9",label:"YouTube"},{id:"LinkedIn Post",ratio:"1.91:1",label:"LinkedIn Post"},{id:"Facebook Post",ratio:"1.91:1",label:"FB Post"},{id:"Custom",ratio:"1:1",label:"Livre"}],Vn=Me=>{M(Me);const _t=Vt.find(pt=>pt.id===Me);_t&&Q(_t.ratio)},Zt=Me=>{var pt;const _t=(pt=Me.target.files)==null?void 0:pt[0];if(_t){const Dn=new FileReader;Dn.onload=mn=>{var Sn;return B((Sn=mn.target)==null?void 0:Sn.result)},Dn.readAsDataURL(_t)}},Ce=async()=>{ce(!0);try{const Me=await n();ne(Me)}catch(Me){const _t=String((Me==null?void 0:Me.message)||"");console.error(Me),/overloaded|unavailable|503/i.test(_t)?alert("O modelo estÃ¡ sobrecarregado no momento. Tente novamente em alguns minutos."):/ERR_NAME_NOT_RESOLVED|Failed to fetch|NetworkError/i.test(_t)?alert("Falha de rede/DNS ao acessar a IA. Verifique sua conexÃ£o e se o domÃ­nio generativelanguage.googleapis.com estÃ¡ liberado (Brave Shields/DNS)."):alert(`Erro ao sugerir ativos de mÃ­dia. ${_t||"Tente novamente."}`)}finally{ce(!1)}},Le=async()=>{ke(!0);try{const Me=await A();Qe(Me||[])}catch(Me){console.error(Me),alert("Erro ao gerar ideias de marketing.")}finally{ke(!1)}},je=async()=>{at(!0);try{const Me=await i(z,se,ge);I(Me||null)}catch(Me){console.error(Me),alert("Erro ao gerar plano de campanhas pagas.")}finally{at(!1)}},Ge=Me=>{h(Me.imagePrompt),O(Me.visualStyle),q(Me.adCopy),Ae(Me.type),t!=null&&t.imageUrl&&(B(t.imageUrl),W(!0)),u("generate")},tt=()=>{if(k&&!y){alert("Ative uma imagem de referÃªncia para usar o modo Estrito.");return}e(y,f,T,S,x,X,P,R,k,L,re),q(void 0),Ae(void 0)},ot=async()=>{if(!y){alert("Envie uma imagem de referencia do produto.");return}try{const Me=new Image;Me.onload=async()=>{const Dn=document.createElement("canvas");Dn.width=1080,Dn.height=1920;const mn=Dn.getContext("2d");if(!mn)return;const Sn="#0e1826",xn="#e8edf2",Pn="#ffd9c7",Cn="rgba(15, 24, 36, 0.72)",lA=Math.max(1080/Me.width,1920/Me.height),MA=Me.width*lA,jt=Me.height*lA,TA=(1080-MA)/2,iA=(1920-jt)/2;mn.drawImage(Me,TA,iA,MA,jt),mn.fillStyle=Cn,mn.fillRect(0,1050,1080,870),mn.fillStyle="rgba(255,255,255,0.08)",mn.fillRect(80,1110,920,650);const ut=(Lt,rt,st,vn,sn)=>{const dn=Lt.split(/\s+/);let Ln="";for(let gn=0;gn<dn.length;gn+=1){const eA=Ln+dn[gn]+" ",{width:qn}=mn.measureText(eA);qn>vn&&gn>0?(mn.fillText(Ln.trim(),rt,st),Ln=dn[gn]+" ",st+=sn):Ln=eA}return Ln.trim()&&mn.fillText(Ln.trim(),rt,st),st};mn.fillStyle=Pn,mn.font="20px monospace",mn.fillText(qt.toUpperCase(),120,1180),mn.fillStyle=xn,mn.font="64px serif";let bt=1250;bt=ut(nt,120,bt,840,78)+12,mn.fillStyle=xn,mn.font="28px sans-serif",ut(ie,120,bt+16,840,40),mn.fillStyle="#ffffff",mn.fillRect(120,1680,380,64),mn.fillStyle=Sn,mn.font="24px sans-serif",mn.fillText("Quero saber mais",150,1722);const zt=Dn.toDataURL("image/png");await o(zt,{prompt:"Canvas Editorial Story",preset:"Instagram Story"})},Me.onerror=()=>alert("Falha ao carregar a imagem de referencia."),Me.src=y}catch(Me){console.error(Me),alert("Falha ao gerar arte editorial.")}},Pe=[{id:"IG Feed",w:1080,h:1080,label:"Instagram 1:1"},{id:"IG Portrait",w:1080,h:1350,label:"Instagram 4:5"},{id:"IG Story",w:1080,h:1920,label:"Story 9:16"},{id:"Reels Cover",w:1080,h:1920,label:"Reels 9:16"},{id:"TikTok 9:16",w:1080,h:1920,label:"TikTok 9:16"},{id:"YouTube Thumbnail",w:1280,h:720,label:"YouTube 16:9"},{id:"LinkedIn Post",w:1200,h:628,label:"LinkedIn 1.91:1"},{id:"Facebook Post",w:1200,h:628,label:"Facebook 1.91:1"}],Ht=Me=>Pe.find(_t=>_t.id===Me)||Pe[0],tn=async()=>{const Me=Ht(fe);if(!Me)return;const _t=async(Sn,xn)=>{try{if(document.fonts&&Array.from(document.fonts).some(Cn=>Cn.family===Sn))return;const Pn=new FontFace(Sn,`url(${xn})`);await Pn.load(),document.fonts.add(Pn)}catch{}};await(async()=>{window.__lbCanvasFontsReady||(await _t("Sora","/canvas-fonts/Sora-SemiBold.woff2"),await _t("Space Grotesk","/canvas-fonts/SpaceGrote[1;31msk-[mMedium.woff2"),await _t("IBM Plex Mono","/canvas-fonts/IBMPlexMono-Medium.woff2"),window.__lbCanvasFontsReady=!0)})();const Dn=async(Sn,xn)=>{const Cn=Me.w,lA=Me.h,MA=document.createElement("canvas");MA.width=Cn*2,MA.height=lA*2;const jt=MA.getContext("2d");if(!jt)return;jt.scale(2,2),jt.imageSmoothingEnabled=!0,jt.imageSmoothingQuality="high";const iA={...{"Editorial Calm":{bg:"#f6f5f2",ink:"#0d1117",muted:"#6b7280",accent:"#f59e0b",grid:"#e4e4e7"},"Impact Bold":{bg:"#0b0f14",ink:"#ffffff",muted:"#cbd5f5",accent:"#22d3ee",grid:"#1f2937"},"Tech Minimal":{bg:"#0f172a",ink:"#e2e8f0",muted:"#94a3b8",accent:"#38bdf8",grid:"#1e293b"}}[et]};Et&&(iA.bg="#0b0f14",iA.ink="#ffffff",iA.muted="#cbd5e1",iA.accent="#f97316",iA.grid="#1f2937");const ut=["IG Story","Reels Cover","TikTok 9:16"].includes(fe)?.18:.08,bt=["IG Story","Reels Cover","TikTok 9:16"].includes(fe)?.18:.08,zt=(["LinkedIn Post","Facebook Post"].includes(fe),.08),Lt=Cn*zt,rt=lA*ut,st=Cn*(1-zt*2),vn=lA*(1-ut-bt);jt.fillStyle=iA.bg,jt.fillRect(0,0,Cn,lA),jt.strokeStyle=iA.grid,jt.globalAlpha=.35,jt.lineWidth=1;const sn=Math.max(24,Math.round(Cn/24));for(let Bn=Lt;Bn<=Lt+st;Bn+=sn)jt.beginPath(),jt.moveTo(Bn,rt),jt.lineTo(Bn,rt+vn),jt.stroke();for(let Bn=rt;Bn<=rt+vn;Bn+=sn)jt.beginPath(),jt.moveTo(Lt,Bn),jt.lineTo(Lt+st,Bn),jt.stroke();jt.globalAlpha=1;const dn=Sn%3,Ln=["split-left","split-right","center-stack","image-dominant","text-dominant"],gn=Ln[Sn%Ln.length],eA=Cn*(dn===2?.2:.16),qn=lA*.02,wr=dn===1?Lt+st-eA:Lt,ir=rt+vn-qn-lA*.02;jt.fillStyle=iA.accent,jt.globalAlpha=.9,jt.fillRect(wr,ir,eA,qn),jt.globalAlpha=1;const Gr=(Bn,VA,Xn,kA,tA,aA)=>{if(!Bn)return Xn;const Zr=Bn.split(/\s+/);let Kr="",ro=0;for(let qA=0;qA<Zr.length;qA+=1){const io=Kr+Zr[qA]+" ",{width:Lo}=jt.measureText(io);if(Lo>kA&&qA>0){if(jt.fillText(Kr.trim(),VA,Xn),Kr=Zr[qA]+" ",Xn+=tA,ro+=1,ro>=aA)return Xn}else Kr=io}return Kr.trim()&&jt.fillText(Kr.trim(),VA,Xn),Xn},Br=on&&(y||(t==null?void 0:t.imageUrl))||null;if(Br){const Bn=new Image;if(Bn.crossOrigin="anonymous",await new Promise(VA=>{Bn.onload=()=>VA(),Bn.onerror=()=>VA(),Bn.src=Br}),Bn.width&&Bn.height){const VA=["YouTube Thumbnail","LinkedIn Post","Facebook Post"].includes(fe);let Xn={x:Lt,y:rt,w:st,h:vn};gn==="split-left"?Xn=VA?{x:Lt,y:rt,w:st*.42,h:vn}:{x:Lt,y:rt+vn*.08,w:st*.45,h:vn*.84}:gn==="split-right"?Xn=VA?{x:Lt+st*.58,y:rt,w:st*.42,h:vn}:{x:Lt+st*.55,y:rt+vn*.08,w:st*.45,h:vn*.84}:gn==="center-stack"?Xn={x:Lt+st*.2,y:rt+vn*.22,w:st*.6,h:vn*.56}:gn==="image-dominant"?Xn={x:Lt+st*.05,y:rt+vn*.02,w:st*.9,h:vn*.76}:gn==="text-dominant"&&(Xn=VA?{x:Lt+st*.6,y:rt+vn*.2,w:st*.35,h:vn*.6}:{x:Lt+st*.58,y:rt+vn*.18,w:st*.36,h:vn*.64});const kA=Math.max(Xn.w/Bn.width,Xn.h/Bn.height),tA=Bn.width*kA,aA=Bn.height*kA,Zr=Xn.x+(Xn.w-tA)/2,Kr=Xn.y+(Xn.h-aA)/2;jt.save(),jt.beginPath(),jt.rect(Xn.x,Xn.y,Xn.w,Xn.h),jt.clip(),jt.drawImage(Bn,Zr,Kr,tA,aA),jt.restore()}}if(!wt){const Bn=gn==="split-right"||gn==="text-dominant"?Lt+st*.05:gn==="split-left"?Lt+st*.5:Lt;jt.fillStyle=iA.accent,jt.font=`600 ${Math.max(16,Math.round(Cn*.018))}px "Space Grotesk", "IBM Plex Mono", monospace`,jt.fillText(en.toUpperCase(),Bn,rt+Math.max(18,Math.round(lA*.03)));const VA=gn==="split-right"||gn==="text-dominant"?Lt+st*.05:gn==="split-left"?Lt+st*.5:Lt+st*.08;jt.fillStyle=iA.ink;const Xn=gn==="image-dominant"?.055:gn==="center-stack"?.058:gn==="text-dominant"?.065:.06;jt.font=`700 ${Math.max(34,Math.round(Cn*Xn))}px "Sora", "Space Grotesk", sans-serif`;const kA=gn==="center-stack"?rt+vn*.08:rt+Math.max(70,Math.round(lA*.12)),tA=["YouTube Thumbnail","LinkedIn Post","Facebook Post"].includes(fe)?st*.56:st*.72,aA=gn==="split-left"||gn==="split-right"?tA*.52:gn==="text-dominant"?tA*.62:gn==="center-stack"?tA*.85:tA,Zr=Gr(ht,VA,kA,aA,Math.round(Cn*.065),3);jt.fillStyle=iA.muted,jt.font=`500 ${Math.max(18,Math.round(Cn*.022))}px "Space Grotesk", "Inter", sans-serif`;const Kr=Math.round(gn==="image-dominant"?Cn*.03:Cn*.02);Gr(Kt,VA,Zr+Kr,aA,Math.round(Cn*.03),2)}const Nn=MA.toDataURL("image/png"),Qo=`Social Studio â€¢ ${fe} â€¢ ${et} â€¢ V${Sn+1}/${xn}`;await o(Nn,{prompt:Qo,preset:fe})},mn=Pt?Math.min(6,Math.max(3,It)):1;for(let Sn=0;Sn<mn;Sn+=1)await Dn(Sn,mn)},Hn=["Product Commercial","Minimalist","Luxury","Nature","Cyberpunk","Lifestyle","Photorealistic"];return m.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[m.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-2xl gap-1",children:[m.jsx("button",{onClick:()=>u("generate"),className:`flex-1 py-2 text-[10px] font-black rounded-xl transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${c==="generate"?"bg-panel text-primary shadow-sm":"text-slate"}`,children:"Gerar Arte"}),m.jsx("button",{onClick:()=>u("sync"),className:`flex-1 py-2 text-[10px] font-black rounded-xl transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${c==="sync"?"bg-panel text-primary shadow-sm":"text-slate"}`,children:"Canais de MÃ­dia"}),m.jsx("button",{onClick:()=>u("campaigns"),className:`flex-1 py-2 text-[10px] font-black rounded-xl transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${c==="campaigns"?"bg-panel text-primary shadow-sm":"text-slate"}`,children:"Campanhas"})]}),c==="generate"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(Jn,{color:"blue",children:"Preset de Destino"}),m.jsx(Wr,{value:R,onChange:Me=>Vn(Me.target.value),children:Vt.map(Me=>m.jsx("option",{value:Me.id,children:Me.label},Me.id))})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Jn,{color:"indigo",children:"Estilo Visual"}),m.jsx(Wr,{value:T,onChange:Me=>O(Me.target.value),children:Hn.map(Me=>m.jsx("option",{value:Me,children:Me},Me))})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx(Jn,{color:"blue",children:"Imagem de ReferÃªncia (Produto Real)"}),y&&m.jsx("button",{onClick:()=>{B(null),W(!1)},className:"text-[9px] font-black text-rose-500 uppercase",children:"Remover"})]}),m.jsx("div",{onClick:()=>{var Me;return(Me=kt.current)==null?void 0:Me.click()},className:"w-full aspect-video bg-panel border-2 border-dashed border-border rounded-3xl flex items-center justify-center cursor-pointer hover:border-primary overflow-hidden shadow-sm transition-colors",children:y?m.jsx("img",{src:y,className:"w-full h-full object-contain",alt:"Preview"}):m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("svg",{className:"w-8 h-8 text-slate",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),m.jsx("span",{className:"text-[10px] font-bold text-slate uppercase tracking-widest",children:"Upload Produto Real"})]})}),m.jsx("input",{type:"file",ref:kt,className:"hidden",accept:"image/*",onChange:Zt}),m.jsx("p",{className:"text-[8px] font-bold text-slate mt-2 uppercase",children:"Dica: Use a foto real do produto para que a IA crie cenÃ¡rios ao redor dele."})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-900/40 rounded-xl",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-black uppercase text-primary",children:"Preservar Produto (Estrito)"}),m.jsx("p",{className:"text-[10px] text-slate",children:"MantÃ©m formato, cor e textura da referÃªncia."})]}),m.jsx("button",{onClick:()=>W(!k),className:`w-12 h-6 rounded-full transition-colors ${k?"bg-primary":"bg-slate-300"}`,"aria-label":"Alternar modo estrito",children:m.jsx("span",{className:`block w-5 h-5 bg-white rounded-full shadow transform transition-transform ${k?"translate-x-6":"translate-x-1"}`})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Jn,{color:"blue",children:"Qualidade de Render"}),m.jsxs(Wr,{value:x,onChange:Me=>_(Me.target.value),children:[m.jsx("option",{value:"standard",children:"Standard (mais estÃ¡vel)"}),m.jsx("option",{value:"ultra",children:"Ultra (maior definiÃ§Ã£o)"})]}),m.jsx("p",{className:"text-[8px] font-bold text-slate uppercase",children:"Standard Ã© mais estÃ¡vel; Ultra gera maior definiÃ§Ã£o."})]}),m.jsxs("div",{children:[m.jsx(Jn,{color:"blue",children:"CenÃ¡rio Sugerido / Detalhes"}),m.jsx(Dr,{value:f,onChange:Me=>h(Me.target.value),className:"h-24",placeholder:"Ex: Em cima de uma mesa de escritÃ³rio moderna, iluminaÃ§Ã£o cinematogrÃ¡fica..."})]}),m.jsx(sA,{variant:"primary",onClick:tt,disabled:l||f===""&&!y||k&&!y,className:"w-full py-5",children:l?"Renderizando...":y?"Gerar Arte com Produto Real":"Gerar Arte"}),m.jsxs(hA,{color:"slate",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase text-white",children:"Arte Premium (Canvas)"}),m.jsx("p",{className:"text-[11px] leading-relaxed text-slate-300",children:"Story editorial usando a foto do produto como base."}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(bn,{value:nt,onChange:Me=>ct(Me.target.value),placeholder:"Headline"}),m.jsx(bn,{value:ie,onChange:Me=>At(Me.target.value),placeholder:"Subhead curta"}),m.jsx(bn,{value:qt,onChange:Me=>dt(Me.target.value),placeholder:"Tag (ex: ENGAGEMENT)"})]}),m.jsx(sA,{onClick:ot,className:"w-full mt-4 bg-slate-900 hover:bg-black text-white py-3",children:"Gerar Story Editorial"})]}),m.jsxs(hA,{color:"indigo",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase text-primary",children:"Social Studio"}),m.jsx("p",{className:"text-[11px] leading-relaxed text-slate",children:"Artes editoriais para posts sociais com filosofia visual."}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx(Wr,{value:fe,onChange:Me=>Je(Me.target.value),children:Pe.map(Me=>m.jsx("option",{value:Me.id,children:Me.label},Me.id))}),m.jsxs(Wr,{value:et,onChange:Me=>yt(Me.target.value),children:[m.jsx("option",{children:"Editorial Calm"}),m.jsx("option",{children:"Impact Bold"}),m.jsx("option",{children:"Tech Minimal"})]})]}),m.jsx(bn,{value:ht,onChange:Me=>Ft(Me.target.value),placeholder:"Headline curta"}),m.jsx(bn,{value:Kt,onChange:Me=>Rt(Me.target.value),placeholder:"Subhead curta (opcional)"}),m.jsx(bn,{value:en,onChange:Me=>rn(Me.target.value),placeholder:"Tag (ex: SERIE)"}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel border border-border rounded-xl",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-black uppercase text-slate",children:"Sem texto"}),m.jsx("p",{className:"text-[9px] text-slate",children:"Gera sÃ³ a composiÃ§Ã£o visual."})]}),m.jsx(Uo,{checked:wt,onChange:$t})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel border border-border rounded-xl",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-black uppercase text-slate",children:"Alto contraste"}),m.jsx("p",{className:"text-[9px] text-slate",children:"Aumenta impacto em feed."})]}),m.jsx(Uo,{checked:Et,onChange:xA})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel border border-border rounded-xl",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-black uppercase text-slate",children:"Usar produto"}),m.jsx("p",{className:"text-[9px] text-slate",children:"Aplica a imagem enviada/ativa."})]}),m.jsx(Uo,{checked:on,onChange:Mt})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel border border-border rounded-xl",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-black uppercase text-slate",children:"Modo coleÃ§Ã£o"}),m.jsx("p",{className:"text-[9px] text-slate",children:"Gera variaÃ§Ãµes para carrossel."})]}),m.jsx(Uo,{checked:Pt,onChange:pn})]}),Pt&&m.jsxs(Wr,{value:String(It),onChange:Me=>Yn(parseInt(Me.target.value,10)),children:[m.jsx("option",{value:"3",children:"3 variaÃ§Ãµes"}),m.jsx("option",{value:"4",children:"4 variaÃ§Ãµes"}),m.jsx("option",{value:"5",children:"5 variaÃ§Ãµes"}),m.jsx("option",{value:"6",children:"6 variaÃ§Ãµes"})]})]}),m.jsx(sA,{onClick:tn,className:"w-full mt-4 bg-primary hover:bg-blue-700 text-white py-3",children:Pt?"Gerar ColeÃ§Ã£o Social":"Gerar Arte Social"})]})]}):c==="sync"?m.jsxs("div",{className:"space-y-6",children:[m.jsxs(hA,{color:"indigo",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase text-primary mb-2",children:"Sync de Ativos Reais"}),m.jsx("p",{className:"text-[11px] leading-relaxed text-slate font-medium italic",children:"A IA criarÃ¡ conceitos de anÃºncios usando a imagem do seu produto real como Ã¢ncora visual."}),m.jsx(sA,{onClick:Ce,disabled:J,className:"w-full mt-4 bg-primary hover:bg-blue-700 text-white py-3",children:J?"Analisando Funil...":"Sugerir Ativos de MÃ­dia"})]}),m.jsx("div",{className:"space-y-4",children:ve.map((Me,_t)=>m.jsxs("div",{className:"p-4 bg-panel border border-border rounded-2xl shadow-sm space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-primary text-[8px] font-black uppercase rounded-md",children:Me.type}),m.jsx("span",{className:"text-[8px] font-black uppercase text-slate",children:Me.visualStyle})]}),m.jsx("div",{className:"p-3 bg-panel rounded-xl border border-border",children:m.jsxs("p",{className:"text-[10px] font-bold text-slate leading-relaxed italic line-clamp-3",children:['"',Me.adCopy,'"']})}),m.jsx(sA,{onClick:()=>Ge(Me),variant:"secondary",className:"w-full py-2 text-[9px]",children:"Estilizar com Produto Real"})]},_t))})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs(hA,{color:"indigo",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase text-primary mb-2",children:"Ideias de Marketing"}),m.jsx("p",{className:"text-[11px] leading-relaxed text-slate font-medium italic",children:"SugestÃµes estratÃ©gicas com base no produto e persona."}),m.jsx(sA,{onClick:Le,disabled:Ue,className:"w-full mt-4 bg-primary hover:bg-blue-700 text-white py-3",children:Ue?"Gerando ideias...":"Gerar Ideias"})]}),Be.length>0&&m.jsx("div",{className:"space-y-3",children:Be.map((Me,_t)=>m.jsxs("div",{className:"p-4 bg-panel border border-border rounded-2xl shadow-sm space-y-2",children:[m.jsx("div",{className:"flex justify-between items-center",children:m.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-primary text-[8px] font-black uppercase rounded-md",children:Me.categoria})}),m.jsx("p",{className:"text-[11px] font-black text-ink",children:Me.ideia}),m.jsx("p",{className:"text-[10px] text-slate",children:Me.por_que_funciona}),m.jsxs("p",{className:"text-[10px] text-slate",children:[m.jsx("strong",{children:"Primeiros passos:"})," ",Me.primeiros_passos]})]},_t))}),m.jsxs(hA,{color:"blue",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase text-primary mb-2",children:"Plano de Campanhas Pagas"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs(Wr,{value:z,onChange:Me=>j(Me.target.value),children:[m.jsx("option",{children:"ConversÃµes"}),m.jsx("option",{children:"Leads"}),m.jsx("option",{children:"TrÃ¡fego"}),m.jsx("option",{children:"Reconhecimento"})]}),m.jsxs(Wr,{value:se,onChange:Me=>ue(Me.target.value),children:[m.jsx("option",{children:"Meta (Facebook/Instagram)"}),m.jsx("option",{children:"Google Ads"}),m.jsx("option",{children:"LinkedIn Ads"}),m.jsx("option",{children:"TikTok Ads"})]}),m.jsx(bn,{value:ge,onChange:Me=>we(Me.target.value),placeholder:"OrÃ§amento (ex: R$ 2.000/mÃªs)"})]}),m.jsx(sA,{onClick:je,disabled:$e,className:"w-full mt-4 bg-primary hover:bg-blue-700 text-white py-3",children:$e?"Gerando plano...":"Gerar Plano"})]}),Z&&m.jsx("div",{className:"space-y-3",children:["estrutura","segmentacao","criativos","metricas"].map(Me=>m.jsxs("div",{className:"p-4 bg-panel border border-border rounded-2xl shadow-sm space-y-2",children:[m.jsx("p",{className:"text-[10px] font-black uppercase text-slate",children:Me}),m.jsx("p",{className:"text-[11px] text-ink",children:Z[Me]})]},Me))})]})]})},KF=({marketing:t,setMarketing:e,seo:n,setSeo:A,onAutoSeo:i,isLoading:o})=>(Te.useEffect(()=>{const l=c=>{c.key==="Escape"&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[]),m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4 pb-20",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Jn,{color:"indigo",children:"ConfiguraÃ§Ãµes de SEO"}),m.jsx("button",{onClick:i,disabled:o,className:"text-[10px] font-black text-primary uppercase hover:underline disabled:opacity-50",children:o?"Gerando...":"âœ¨ IA Otimizar"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-[9px] font-bold text-slate uppercase tracking-widest",children:"TÃ­tulo da Aba"}),m.jsx(bn,{value:n.title,onChange:l=>A({...n,title:l.target.value}),placeholder:"Ex: Curso Completo de Marketing"}),m.jsx("p",{className:"text-[9px] font-bold text-slate uppercase tracking-widest",children:"DescriÃ§Ã£o Meta"}),m.jsx(Dr,{value:n.description,onChange:l=>A({...n,description:l.target.value}),className:"h-24",placeholder:"DescriÃ§Ã£o para Google e Redes Sociais"}),m.jsx("p",{className:"text-[9px] font-bold text-slate uppercase tracking-widest",children:"Palavras-chave"}),m.jsx(bn,{value:n.keywords,onChange:l=>A({...n,keywords:l.target.value}),placeholder:"marketing, vendas, curso"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Jn,{color:"emerald",children:"Pixels e Rastreamento"}),m.jsx(hA,{color:"white",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[9px] font-bold text-slate uppercase mb-2",children:"Meta Pixel ID (Facebook)"}),m.jsx(bn,{value:t.metaPixelId,onChange:l=>e({...t,metaPixelId:l.target.value}),placeholder:"ID do Pixel"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[9px] font-bold text-slate uppercase mb-2",children:"Google Analytics 4 (G-XXXX)"}),m.jsx(bn,{value:t.googleAnalyticsId,onChange:l=>e({...t,googleAnalyticsId:l.target.value}),placeholder:"ID de MediÃ§Ã£o"})]})]})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Jn,{color:"blue",children:"Webhooks (DistribuiÃ§Ã£o de Leads)"}),m.jsx("button",{onClick:()=>{const l={id:`wh-${Date.now()}`,name:"Novo Webhook",url:"",event:"lead",active:!0};e({...t,webhooks:[...t.webhooks||[],l]})},className:"text-[10px] font-black text-primary uppercase hover:underline",children:"+ Adicionar"})]}),m.jsxs("div",{className:"space-y-3",children:[(t.webhooks||[]).map((l,c)=>m.jsxs(hA,{color:"white",className:"p-4 space-y-3 relative group",children:[m.jsx("button",{onClick:()=>{const u=(t.webhooks||[]).filter(f=>f.id!==l.id);e({...t,webhooks:u})},className:"absolute top-2 right-2 text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",checked:l.active,onChange:u=>{const f=(t.webhooks||[]).map(h=>h.id===l.id?{...h,active:u.target.checked}:h);e({...t,webhooks:f})},className:"w-3 h-3 rounded border-slate-300 text-primary focus:ring-primary"}),m.jsx("input",{value:l.name,onChange:u=>{const f=(t.webhooks||[]).map(h=>h.id===l.id?{...h,name:u.target.value}:h);e({...t,webhooks:f})},className:"text-[10px] font-black uppercase bg-transparent border-none p-0 focus:ring-0 w-full",placeholder:"Nome do Webhook"})]}),m.jsx(bn,{value:l.url,onChange:u=>{const f=(t.webhooks||[]).map(h=>h.id===l.id?{...h,url:u.target.value}:h);e({...t,webhooks:f})},placeholder:"https://seu-crm.com/webhook",className:"text-[10px]"}),m.jsxs("select",{value:l.event,onChange:u=>{const f=(t.webhooks||[]).map(h=>h.id===l.id?{...h,event:u.target.value}:h);e({...t,webhooks:f})},className:"w-full text-[10px] font-bold uppercase bg-panel border-border rounded-lg py-1 px-2 focus:ring-primary",children:[m.jsx("option",{value:"lead",children:"Evento: Novo Lead"}),m.jsx("option",{value:"purchase",children:"Evento: Venda Realizada"}),m.jsx("option",{value:"page_view",children:"Evento: VisualizaÃ§Ã£o de PÃ¡gina"})]})]},l.id)),(!t.webhooks||t.webhooks.length===0)&&m.jsx("div",{className:"py-8 text-center border-2 border-dashed border-border rounded-2xl",children:m.jsx("p",{className:"text-[9px] font-bold text-slate uppercase tracking-widest",children:"Nenhum webhook configurado"})})]})]})]})),VF=({activeExpert:t,activeProduct:e,onSelectExpert:n,onSelectProduct:A,ebooks:i,activeId:o,onSelect:l,onGenerateOutline:c,onDelete:u,isLoading:f})=>{const[h,y]=Te.useState("list"),[B,x]=Te.useState({type:"principal",depth:"medium",ctaStyle:"direct",introMaxPages:1,exerciseFrequency:"every_1",funnelAlignment:!0}),[_,S]=Te.useState([]),[Q,T]=Te.useState([]);Te.useEffect(()=>{Um().then(S)},[]),Te.useEffect(()=>{const M=X=>{X.key==="Escape"&&h==="create"&&y("list")};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[h]),Te.useEffect(()=>{t&&Ef(t.id).then(T)},[t]);const O=()=>{if(!t)return alert("Selecione um Autor/Expert.");if(!e)return alert("Selecione um Produto de destino.");c(e.name,e.learningGoals,t.name,B),y("list")},R=M=>{const X=M==="lead_magnet"?"soft":"direct",te=M==="lead_magnet"?"every_2":"every_1";x(P=>({...P,type:M,ctaStyle:X,exerciseFrequency:te}))};return m.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[m.jsxs(hA,{color:"slate",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate",children:"Contexto do Projeto"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[8px] font-black uppercase text-slate mb-1",children:"Expert ResponsÃ¡vel"}),m.jsxs("select",{value:(t==null?void 0:t.id)||"",onChange:M=>{const X=_.find(te=>te.id===M.target.value);X&&n(X)},className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-[10px] font-bold text-white outline-none focus:border-primary transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 cursor-pointer",children:[m.jsx("option",{value:"",disabled:!0,children:"Selecionar..."}),_.map(M=>m.jsx("option",{value:M.id,children:M.name},M.id))]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[8px] font-black uppercase text-slate mb-1",children:"Oferta de Origem"}),m.jsxs("select",{value:(e==null?void 0:e.id)||"",onChange:M=>{const X=Q.find(te=>te.id===M.target.value);X&&A(X)},className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-[10px] font-bold text-white outline-none focus:border-primary transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 cursor-pointer",children:[m.jsx("option",{value:"",disabled:!0,children:"Selecionar..."}),Q.map(M=>m.jsx("option",{value:M.id,children:M.name},M.id))]})]})]})]}),m.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-2"}),h==="list"?m.jsxs("div",{className:"space-y-4",children:[m.jsx(sA,{variant:"secondary",onClick:()=>y("create"),className:"w-full border-dashed",disabled:!e,children:"+ Criar Novo E-book"}),m.jsxs("div",{className:"space-y-3",children:[i.map(M=>m.jsxs("div",{onClick:()=>l(M.id),role:"button",tabIndex:0,onKeyDown:X=>{(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),l(M.id))},className:`p-4 rounded-xl border-2 cursor-pointer transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 group relative ${o===M.id?"border-primary bg-blue-50 dark:bg-blue-900/10 shadow-md":"border-border dark:border-slate-800 bg-white dark:bg-slate-900 hover:border-primary"}`,children:[m.jsx("h4",{className:"text-xs font-black uppercase line-clamp-1 pr-6",children:M.title}),m.jsxs("div",{className:"flex justify-between items-center mt-1",children:[m.jsxs("span",{className:"text-[9px] font-bold text-slate uppercase",children:[M.chapters.length," CapÃ­tulos"]}),m.jsx("span",{className:"text-[8px] font-black text-blue-500 uppercase",children:M.author})]}),m.jsx("button",{onClick:X=>{X.stopPropagation(),confirm("Excluir este ativo?")&&u(M.id)},className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 text-rose-300 hover:text-rose-600 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862"})})})]},M.id)),i.length===0&&m.jsx("p",{className:"text-center py-10 text-[10px] font-black text-slate-300 uppercase italic",children:"Nenhum ativo gerado para esta oferta."})]})]}):m.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Jn,{color:"blue",children:"Novo Ativo Digital"}),m.jsx("button",{onClick:()=>y("list"),className:"text-[9px] font-black text-slate uppercase hover:text-rose-500 transition-colors",children:"Cancelar"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800 rounded-2xl",children:[m.jsx("span",{className:"text-[8px] font-black text-indigo-500 uppercase block mb-1 tracking-widest",children:"TÃ­tulo Herdado da Oferta"}),m.jsx("p",{className:"text-xs font-black uppercase text-slate-800 dark:text-white leading-tight",children:(e==null?void 0:e.name)||"Oferta nÃ£o selecionada"})]}),m.jsxs("div",{className:"p-5 bg-panel dark:bg-slate-900 border border-border dark:border-slate-800 rounded-[24px] shadow-inner",children:[m.jsx("span",{className:"text-[8px] font-black text-slate uppercase block mb-2 tracking-widest",children:"Base de Aprendizado (Herdada)"}),m.jsx("p",{className:"text-[10px] text-slate dark:text-slate leading-relaxed font-bold italic line-clamp-10",children:(e==null?void 0:e.learningGoals)||"âš ï¸ Sem dados de aprendizado na oferta."})]}),m.jsxs("div",{className:"p-5 bg-white dark:bg-slate-900 border border-border dark:border-slate-800 rounded-[24px] shadow-sm space-y-4",children:[m.jsx("span",{className:"text-[8px] font-black text-slate uppercase block tracking-widest",children:"Perfil do E-book"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[8px] font-black uppercase text-slate mb-1",children:"Tipo de Produto"}),m.jsxs("select",{value:B.type,onChange:M=>R(M.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-[10px] font-bold text-white outline-none focus:border-primary transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 cursor-pointer",children:[m.jsx("option",{value:"lead_magnet",children:"Isca Digital"}),m.jsx("option",{value:"principal",children:"Produto Principal"})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[8px] font-black uppercase text-slate mb-1",children:"Profundidade"}),m.jsxs("select",{value:B.depth,onChange:M=>x(X=>({...X,depth:M.target.value})),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-[10px] font-bold text-white outline-none focus:border-primary transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 cursor-pointer",children:[m.jsx("option",{value:"short",children:"Curto"}),m.jsx("option",{value:"medium",children:"MÃ©dio"}),m.jsx("option",{value:"deep",children:"Profundo"})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[8px] font-black uppercase text-slate mb-1",children:"CTA"}),m.jsxs("select",{value:B.ctaStyle,onChange:M=>x(X=>({...X,ctaStyle:M.target.value})),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-[10px] font-bold text-white outline-none focus:border-primary transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 cursor-pointer",children:[m.jsx("option",{value:"soft",children:"Soft"}),m.jsx("option",{value:"direct",children:"Direto"})]})]}),m.jsx("p",{className:"text-[9px] font-bold text-slate uppercase leading-relaxed",children:"IntroduÃ§Ã£o sempre â‰¤ 1 pÃ¡gina â€¢ ExercÃ­cios seguem o tipo escolhido"})]}),m.jsx(sA,{onClick:O,disabled:f||!(e!=null&&e.learningGoals),className:"w-full py-5 !rounded-3xl shadow-xl shadow-blue-500/10",children:f?"IA Estruturando Pauta...":"Gerar Pauta EstratÃ©gica"}),m.jsx("p",{className:"text-[9px] font-bold text-slate uppercase text-center leading-relaxed",children:"A IA gerarÃ¡ a estrutura editorial completa baseada na sua oferta."})]})]})]})},qF=({onGenerate:t,isLoading:e})=>{const[n,A]=Te.useState("HOOK-STORY-OFFER"),[i,o]=Te.useState("short");return m.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Jn,{color:"indigo",children:"Modelo de Copy"}),m.jsxs(Wr,{value:n,onChange:l=>A(l.target.value),children:[m.jsx("option",{value:"HOOK-STORY-OFFER",children:"Gancho, HistÃ³ria e Oferta (Moderno)"}),m.jsx("option",{value:"SLS",children:"Simple Letter Solution (Direto)"}),m.jsx("option",{value:"12-STEPS",children:"12 Passos de Jon Benson (Longo)"})]}),m.jsx("p",{className:"text-[9px] text-slate mt-2 font-bold uppercase tracking-tight",children:"* O modelo define a psicologia por trÃ¡s do roteiro."})]}),m.jsxs("div",{children:[m.jsx(Jn,{color:"blue",children:"DuraÃ§Ã£o Alvo"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"short",label:"Curto",desc:"2-3 min"},{id:"medium",label:"MÃ©dio",desc:"5-7 min"},{id:"long",label:"Longo",desc:"12+ min"}].map(l=>m.jsxs("button",{onClick:()=>o(l.id),className:`p-3 rounded-xl border flex flex-col items-center gap-1 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${i===l.id?"bg-primary border-primary text-white shadow-lg":"bg-panel border-border text-slate"}`,children:[m.jsx("span",{className:"text-[10px] font-black uppercase",children:l.label}),m.jsx("span",{className:"text-[8px] font-bold opacity-60",children:l.desc})]},l.id))})]})]}),m.jsxs(hA,{color:"indigo",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase text-primary mb-2",children:"Dica de ConversÃ£o"}),m.jsx("p",{className:"text-[11px] leading-relaxed text-slate font-medium",children:"VÃ­deos **curtos** funcionam melhor para anÃºncios e low-ticket. Para produtos acima de **R$ 497**, prefira o modelo de **12 Passos** com duraÃ§Ã£o mÃ©dia ou longa."})]}),m.jsx(sA,{variant:"primary",onClick:()=>t(n,i),disabled:e,className:"w-full py-5",children:e?"Roteirizando...":"Gerar Roteiro de VÃ­deo"})]})},Pg=[{category:"Headline",title:"Headline de Promessa Forte",content:"Crie uma headline para minha landing page usando o framework 'Resultado Desejado + Sem o Problema Comum + Em X Tempo'. O produto Ã© [NOME] e o pÃºblico Ã© [PÃšBLICO]."},{category:"Copywriting",title:"Framework PAS (Problem-Agitation-Solution)",content:"Escreva uma seÃ§Ã£o de texto para minha pÃ¡gina usando o framework PAS. Comece identificando a dor de [DOR PRINCIPAL], agite o problema mostrando as consequÃªncias de nÃ£o agir, e apresente o [PRODUTO] como a soluÃ§Ã£o Ãºnica."},{category:"Copywriting",title:"Quebra de ObjeÃ§Ãµes IA",content:"Aja como um especialista em vendas. Identifique as 3 maiores objeÃ§Ãµes que [PÃšBLICO] teria para comprar [PRODUTO] e escreva um texto persuasivo que neutralize cada uma delas usando provas lÃ³gicas e emocionais."},{category:"Estrutura",title:"PÃ¡gina de Vendas de Alta ConversÃ£o",content:"Gere uma estrutura de landing page completa contendo: Hero Section com promessa, SeÃ§Ã£o de Problema, Mecanismo Ãšnico da SoluÃ§Ã£o, Prova Social, Oferta IrresistÃ­vel com ancoragem de preÃ§o e FAQ. Use cores [COR] e tom [TOM]."},{category:"AnÃºncios",title:"Roteiro de AnÃºncio para Instagram",content:"Crie 3 roteiros de anÃºncios para Instagram Stories. 1) Focado em curiosidade/gancho rÃ¡pido. 2) Focado em autoridade e depoimento. 3) Focado em escassez de tempo. O link de destino Ã© a landing page de [PRODUTO]."},{category:"E-books",title:"Pauta Educativa para Isca Digital",content:"Gere uma pauta de e-book com 5 capÃ­tulos focado em educar o cliente sobre [TEMA] de forma que, ao final da leitura, ele sinta que o prÃ³ximo passo lÃ³gico Ã© comprar meu produto [PRODUTO]."},{category:"VSL",title:"Script de VSL de 5 Minutos",content:"Escreva um script de VSL usando o modelo Hook-Story-Offer. O vÃ­deo deve durar 5 minutos. O objetivo Ã© vender [PRODUTO] para [PERSONA] com foco em benefÃ­cio imediato."}],jF=()=>{const[t,e]=Te.useState(null),[n,A]=Te.useState("Tudo"),i=["Tudo",...Array.from(new Set(Pg.map(c=>c.category)))],o=(c,u)=>{navigator.clipboard.writeText(c),e(u),setTimeout(()=>e(null),2e3)},l=n==="Tudo"?Pg:Pg.filter(c=>c.category===n);return m.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[m.jsx("div",{className:"flex flex-wrap gap-1",children:i.map(c=>m.jsx("button",{onClick:()=>A(c),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 ${n===c?"bg-primary text-white border-primary":"bg-panel text-slate border-border"}`,children:c},c))}),m.jsx("div",{className:"space-y-3",children:l.map(c=>m.jsxs("div",{onClick:()=>o(c.content,c.title),role:"button",tabIndex:0,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),o(c.content,c.title))},className:"group p-5 bg-panel border border-border rounded-[28px] hover:border-primary transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 cursor-pointer relative overflow-hidden shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("span",{className:"px-2 py-0.5 bg-panel text-slate text-[8px] font-black uppercase rounded-md",children:c.category}),t===c.title?m.jsx("span",{className:"text-[8px] font-black text-emerald-500 uppercase animate-bounce",children:"Copiado!"}):m.jsx("svg",{className:"w-4 h-4 text-slate-200 group-hover:text-primary transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})})]}),m.jsx("h4",{className:"text-xs font-black uppercase text-ink mb-2",children:c.title}),m.jsxs("p",{className:"text-[10px] font-bold text-slate leading-relaxed italic line-clamp-2",children:['"',c.content,'"']})]},c.title))}),m.jsx(hA,{color:"blue",children:m.jsx("p",{className:"text-[9px] font-bold text-primary uppercase leading-relaxed text-center",children:'ðŸ’¡ Dica: Copie o prompt, cole no campo "InstruÃ§Ãµes" do Gerador e substitua os campos entre [COLCHETES].'})})]})},zF=t=>{var A,i;const e=Te.useRef(null),n=()=>{switch(t.module){case"strategy":return m.jsx($E,{activeExpert:t.activeExpert,onSelectExpert:t.onSelectExpert,editData:t.editingExpert,setEditData:t.setEditingExpert});case"marketing":return m.jsx(tS,{onGenerate:t.onGeneratePaidStrategy,isLoading:t.isLoading,activeProduct:t.activeProduct,errorMessage:t.marketingError,fallbackLog:t.fallbackLog,isFallbackDetailsOpen:t.isFallbackDetailsOpen,onShowFallbackDetails:t.onShowFallbackDetails,onCloseFallbackDetails:t.onCloseFallbackDetails,onRetryWithGemini:t.onRetryWithGemini});case"product":return m.jsx(PF,{activeExpert:t.activeExpert,activeProduct:t.activeProduct,onSelectProduct:t.onSelectProduct,isLoading:t.isLoading,editData:t.editingProduct,setEditData:t.setEditingProduct});case"vsl":return m.jsx(qF,{onGenerate:t.onGenerateVsl||(()=>{}),isLoading:t.isLoading});case"builder":return m.jsx(OF,{options:t.generationOptions,setOptions:t.setGenerationOptions,onGenerate:t.onGenerate,onInjectAsset:t.onInjectAsset,isLoading:t.isLoading,availableEbooks:t.ebooks,availableVsl:t.vslScript||void 0,sections:t.sections.map(o=>({id:o.id,type:o.type})),onRegenerateSection:t.onRegenerateSection,pageVersions:t.pageVersions,activePageVersionId:t.activePageVersionId,onSelectPageVersion:t.onSelectPageVersion,onCreatePageVersion:t.onCreatePageVersion,onDuplicatePageVersion:t.onDuplicatePageVersion,onDeletePageVersion:t.onDeletePageVersion});case"studio":return m.jsx(GF,{activeProduct:t.activeProduct,onGenerateImage:t.onGenerateImage,onSyncCreatives:t.onSyncCreatives,onGenerateMarketingIdeas:t.onGenerateMarketingIdeas,onGeneratePaidAdsPlan:t.onGeneratePaidAdsPlan,onSaveCanvasImage:t.onSaveCanvasImage,isLoading:t.isLoading});case"analytics":return m.jsx(KF,{marketing:t.marketing,setMarketing:t.setMarketing,seo:t.seo,setSeo:t.setSeo,onAutoSeo:t.onGenerateSeo,isLoading:t.isLoading});case"ebook":return m.jsx(VF,{activeExpert:t.activeExpert,activeProduct:t.activeProduct,onSelectExpert:t.onSelectExpert,onSelectProduct:t.onSelectProduct,ebooks:t.ebooks,activeId:t.activeEbookId,onSelect:t.onSelectEbook,onGenerateOutline:t.onGenerateBookOutline,onDelete:t.onDeleteEbook,isLoading:t.isLoading});case"library":return m.jsx(jF,{});default:return null}};return m.jsxs("div",{className:"w-full md:w-96 border-r border-border flex flex-col overflow-hidden shadow-2xl z-20 transition-all duration-300 bg-panel",children:[m.jsxs("div",{className:"p-6 border-b border-border",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"text-[10px] font-black text-primary uppercase tracking-widest truncate max-w-[120px]",children:((A=t.activeExpert)==null?void 0:A.name)||"Expert"}),m.jsx("span",{className:"text-slate-300",children:"/"}),m.jsx("span",{className:"text-[10px] font-black text-slate uppercase tracking-widest truncate max-w-[150px]",children:((i=t.activeProduct)==null?void 0:i.name)||"Oferta"})]}),m.jsx("h2",{className:"text-xl font-display uppercase tracking-tighter text-ink",children:t.module==="strategy"?"EstratÃ©gia":t.module==="product"?"Oferta":t.module==="builder"?"Gerador":t.module==="analytics"?"AvanÃ§ado":t.module==="studio"?"EstÃºdio AI":t.module==="vsl"?"VSL Studio":t.module==="ebook"?"BookBuilder":t.module==="library"?"Biblioteca":t.module==="marketing"?"Marketing":"MÃ³dulo"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:n()}),m.jsxs("div",{className:"p-4 border-t border-border flex flex-col gap-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${t.activeProduct?"bg-success shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-danger shadow-[0_0_8px_rgba(244,63,94,0.5)]"}`}),m.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${t.activeProduct?"text-success":"text-danger"}`,children:t.activeProduct?"Contexto Pronto":"Falta Selecionar Oferta"})]}),m.jsx("button",{onClick:t.onSaveProject,className:`text-[10px] font-black uppercase transition-all ${t.activeProduct?"text-primary hover:underline":"text-slate-300 cursor-not-allowed"}`,title:t.activeProduct?"Salvar progresso local":"Crie uma oferta primeiro para salvar",children:"Salvar Local"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:t.onExportJSON,className:"flex-1 py-2 bg-slate-100 dark:bg-slate-800 text-[9px] font-black uppercase rounded-lg text-slate hover:bg-slate-200 transition-colors",children:"Exportar Backup"}),m.jsx("button",{onClick:()=>{var o;return(o=e.current)==null?void 0:o.click()},className:"flex-1 py-2 bg-slate-100 dark:bg-slate-800 text-[9px] font-black uppercase rounded-lg text-slate hover:bg-slate-200 transition-colors",children:"Importar Backup"}),m.jsx("input",{type:"file",ref:e,className:"hidden",accept:".json",onChange:t.onImportJSON})]}),m.jsx("button",{onClick:t.onDownload,className:"w-full py-2 bg-slate-900 text-[9px] font-black uppercase rounded-lg text-white hover:bg-slate-800 transition-colors",children:"Exportar HTML"})]})]})},JF=({points:t,onClose:e})=>m.jsxs("div",{className:"absolute inset-0 z-50 pointer-events-none overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-[1px]"}),m.jsx("div",{className:"relative w-full h-full",children:t.map((n,A)=>{const i=10+A*15%80,o=20+A*25%60,l=100+n.score*2,c=n.score/100;return m.jsx("div",{className:"absolute transition-all duration-1000 animate-pulse",style:{top:`${i}%`,left:`${o}%`,width:`${l}px`,height:`${l}px`,transform:"translate(-50%, -50%)",background:`radial-gradient(circle, rgba(255,0,0,${c}) 0%, rgba(255,255,0,${c*.5}) 50%, transparent 70%)`,borderRadius:"50%",filter:"blur(20px)"},children:m.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-panel/90 px-2 py-1 rounded text-[8px] font-bold text-ink whitespace-nowrap shadow-sm border border-red-200 pointer-events-auto",children:[n.text.substring(0,20),"... (",n.score,"%)"]})},A)})}),m.jsx("div",{className:"absolute top-4 right-4 pointer-events-auto",children:m.jsx("button",{onClick:e,className:"bg-panel/90 hover:bg-panel text-ink px-4 py-2 rounded-full shadow-xl text-[10px] font-black uppercase tracking-widest border border-border",children:"Fechar SimulaÃ§Ã£o"})}),m.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-panel/90 px-6 py-3 rounded-2xl shadow-2xl border border-border pointer-events-auto flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),m.jsx("span",{className:"text-[9px] font-bold text-slate uppercase",children:"Alta AtenÃ§Ã£o"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),m.jsx("span",{className:"text-[9px] font-bold text-slate uppercase",children:"MÃ©dia"})]}),m.jsx("div",{className:"h-4 w-px bg-border mx-2"}),m.jsx("span",{className:"text-[10px] font-black text-primary uppercase tracking-tighter",children:"PrediÃ§Ã£o de Eye-Tracking via IA"})]})]}),YF=({sections:t,variationSections:e,selectedSectionId:n,activeElement:A,studioImages:i,onUpdateSectionContent:o,onSelectSection:l,onElementSelect:c,onOpenPreview:u,onRegenerateSection:f})=>{const[h,y]=Te.useState("desktop"),[B,x]=Te.useState(!1),[_,S]=Te.useState(!1),[Q,T]=Te.useState(null),[O,R]=Te.useState(!1),[M,X]=Te.useState(!1),[te,P]=Te.useState(!1),[V,k]=Te.useState("text"),[W,L]=Te.useState({x:0,y:0}),[q,re]=Te.useState(!1),[Ae,ve]=Te.useState({width:260,height:160}),ne=Te.useRef(null),J=Te.useRef(null),ce=Te.useRef(null),Be=fe=>fe.replace(/<path\b[^>]*\sd=(["'])(?![Mm])[^"']*\1[^>]*>(?:<\/path>)?/gi,""),Qe=Te.useMemo(()=>e&&e.length>0?e:t,[t,e]),Z=Te.useMemo(()=>A!=null&&A.sectionId&&Qe.find(fe=>fe.id===A.sectionId)||null,[A==null?void 0:A.sectionId,Qe]),I=fe=>{if(!fe)return"";const Je=fe.match(/#([0-9a-fA-F]{3,8})/);if(Je){const Kt=Je[1];return Kt.length===3?`#${Kt.split("").map(Rt=>Rt+Rt).join("")}`:`#${Kt.slice(0,6)}`}const et=fe.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(!et)return"";const yt=Number(et[1]).toString(16).padStart(2,"0"),ht=Number(et[2]).toString(16).padStart(2,"0"),Ft=Number(et[3]).toString(16).padStart(2,"0");return`#${yt}${ht}${Ft}`},z=Te.useMemo(()=>{const Je=Qe.map(Ft=>Ft.content||"").join(" ").match(/#(?:[0-9a-fA-F]{3,8})/g)||[],et=Array.from(new Set(Je.map(Ft=>Ft.toLowerCase()))),ht=Array.from(new Set(["#ffffff",...et,"#0f172a"])).slice(0,8);return ht.length>0?ht:["#0f172a","#111827","#1f2937","#334155","#64748b","#94a3b8","#e2e8f0","#ffffff"]},[Qe]);Te.useEffect(()=>{P(!1)},[A==null?void 0:A.sectionId]),Te.useEffect(()=>{V!=="section"&&P(!1)},[V]),Te.useEffect(()=>{A&&["P","SPAN","H1","H2","H3","H4","H5","H6","LI","A","BUTTON","DIV"].includes(A.tagName)&&k("text")},[A==null?void 0:A.tagName]);const j=Qe.map(fe=>{var Je;return`
[35mdist/assets/purify.es-B9ZVCkUG.js[m[36m:[m[32m1[m[36m:[m/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:_t,setPrototypeOf:ct,isFrozen:Yt,getPrototypeOf:Xt,getOwnPropertyDescriptor:jt}=Object;let{freeze:S,seal:L,create:ve}=Object,{apply:ke,construct:Ue}=typeof Reflect<"u"&&Reflect;S||(S=function(o){return o});L||(L=function(o){return o});ke||(ke=function(o,l){for(var a=arguments.length,c=new Array(a>2?a-2:0),O=2;O<a;O++)c[O-2]=arguments[O];return o.apply(l,c)});Ue||(Ue=function(o){for(var l=arguments.length,a=new Array(l>1?l-1:0),c=1;c<l;c++)a[c-1]=arguments[c];return new o(...a)});const ce=R(Array.prototype.forEach),Vt=R(Array.prototype.lastIndexOf),ft=R(Array.prototype.pop),q=R(Array.prototype.push),$t=R(Array.prototype.splice),ue=R(String.prototype.toLowerCase),Ie=R(String.prototype.toString),Ce=R(String.prototype.match),K=R(String.prototype.replace),qt=R(String.prototype.indexOf),Kt=R(String.prototype.trim),y=R(Object.prototype.hasOwnProperty),h=R(RegExp.prototype.test),Z=Zt(TypeError);function R(s){return function(o){o instanceof RegExp&&(o.lastIndex=0);for(var l=arguments.length,a=new Array(l>1?l-1:0),c=1;c<l;c++)a[c-1]=arguments[c];return ke(s,o,a)}}function Zt(s){return function(){for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return Ue(s,l)}}function r(s,o){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ue;ct&&ct(s,null);let a=o.length;for(;a--;){let c=o[a];if(typeof c=="string"){const O=l(c);O!==c&&(Yt(o)||(o[a]=O),c=O)}s[c]=!0}return s}function Jt(s){for(let o=0;o<s.length;o++)y(s,o)||(s[o]=null);return s}function I(s){const o=ve(null);for(const[l,a]of _t(s))y(s,l)&&(Array.isArray(a)?o[l]=Jt(a):a&&typeof a=="object"&&a.constructor===Object?o[l]=I(a):o[l]=a);return o}function J(s,o){for(;s!==null;){const a=jt(s,o);if(a){if(a.get)return R(a.get);if(typeof a.value=="function")return R(a.value)}s=Xt(s)}function l(){return null}return l}const ut=S(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Me=S(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),we=S(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Qt=S(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xe=S(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),en=S(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mt=S(["#text"]),pt=S(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Pe=S(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","ma[1;31msk-[mtype","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Tt=S(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),fe=S(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tn=L(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nn=L(/<%[\w\W]*|[\w\W]*%>/gm),on=L(/\$\{[\w\W]*/gm),an=L(/^data-[\-\w.\u00B7-\uFFFF]+$/),rn=L(/^aria-[\-\w]+$/),gt=L(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sn=L(/^(?:\w+script|data):/i),ln=L(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),At=L(/^html$/i),cn=L(/^[a-z][.\w]*(-[.\w]+)+$/i);var dt=Object.freeze({__proto__:null,ARIA_ATTR:rn,ATTR_WHITESPACE:ln,CUSTOM_ELEMENT:cn,DATA_ATTR:an,DOCTYPE_NAME:At,ERB_EXPR:nn,IS_ALLOWED_URI:gt,IS_SCRIPT_OR_DATA:sn,MUSTACHE_EXPR:tn,TMPLIT_EXPR:on});const Q={element:1,text:3,progressingInstruction:7,comment:8,document:9},fn=function(){return typeof window>"u"?null:window},un=function(o,l){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let a=null;const c="data-tt-policy-suffix";l&&l.hasAttribute(c)&&(a=l.getAttribute(c));const O="dompurify"+(a?"#"+a:"");try{return o.createPolicy(O,{createHTML(v){return v},createScriptURL(v){return v}})}catch{return console.warn("TrustedTypes policy "+O+" could not be created."),null}},Et=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ht(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fn();const o=i=>ht(i);if(o.version="3.3.1",o.removed=[],!s||!s.document||s.document.nodeType!==Q.document||!s.Element)return o.isSupported=!1,o;let{document:l}=s;const a=l,c=a.currentScript,{DocumentFragment:O,HTMLTemplateElement:v,Node:me,Element:Fe,NodeFilter:B,NamedNodeMap:St=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:Rt,DOMParser:Ot,trustedTypes:ee}=s,Y=Fe.prototype,Dt=J(Y,"cloneNode"),Lt=J(Y,"remove"),yt=J(Y,"nextSibling"),bt=J(Y,"childNodes"),te=J(Y,"parentNode");if(typeof v=="function"){const i=l.createElement("template");i.content&&i.content.ownerDocument&&(l=i.content.ownerDocument)}let g,X="";const{implementation:pe,createNodeIterator:Nt,createDocumentFragment:It,getElementsByTagName:Ct}=l,{importNode:Mt}=a;let A=Et();o.isSupported=typeof _t=="function"&&typeof te=="function"&&pe&&pe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Te,ERB_EXPR:de,TMPLIT_EXPR:Ee,DATA_ATTR:wt,ARIA_ATTR:xt,IS_SCRIPT_OR_DATA:Pt,ATTR_WHITESPACE:He,CUSTOM_ELEMENT:vt}=dt;let{IS_ALLOWED_URI:ze}=dt,T=null;const Ge=r({},[...ut,...Me,...we,...xe,...mt]);let d=null;const We=r({},[...pt,...Pe,...Tt,...fe]);let u=Object.seal(ve(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,_e=null;const k=Object.seal(ve(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Be=!0,ge=!0,Ye=!1,Xe=!0,U=!1,ne=!0,x=!1,Ae=!1,he=!1,F=!1,oe=!1,ie=!1,je=!0,Ve=!1;const kt="user-content-";let Se=!0,V=!1,H={},b=null;const Re=r({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $e=null;const qe=r({},["audio","video","img","source","image","track"]);let Oe=null;const Ke=r({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ae="http://www.w3.org/1998/Math/MathML",re="http://www.w3.org/2000/svg",C="http://www.w3.org/1999/xhtml";let z=C,De=!1,Le=null;const Ut=r({},[ae,re,C],Ie);let se=r({},["mi","mo","mn","ms","mtext"]),le=r({},["annotation-xml"]);const Ft=r({},["title","style","font","a","script"]);let $=null;const Ht=["application/xhtml+xml","text/html"],zt="text/html";let p=null,G=null;const Gt=l.createElement("form"),Ze=function(e){return e instanceof RegExp||e instanceof Function},ye=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(G&&G===e)){if((!e||typeof e!="object")&&(e={}),e=I(e),$=Ht.indexOf(e.PARSER_MEDIA_TYPE)===-1?zt:e.PARSER_MEDIA_TYPE,p=$==="application/xhtml+xml"?Ie:ue,T=y(e,"ALLOWED_TAGS")?r({},e.ALLOWED_TAGS,p):Ge,d=y(e,"ALLOWED_ATTR")?r({},e.ALLOWED_ATTR,p):We,Le=y(e,"ALLOWED_NAMESPACES")?r({},e.ALLOWED_NAMESPACES,Ie):Ut,Oe=y(e,"ADD_URI_SAFE_ATTR")?r(I(Ke),e.ADD_URI_SAFE_ATTR,p):Ke,$e=y(e,"ADD_DATA_URI_TAGS")?r(I(qe),e.ADD_DATA_URI_TAGS,p):qe,b=y(e,"FORBID_CONTENTS")?r({},e.FORBID_CONTENTS,p):Re,j=y(e,"FORBID_TAGS")?r({},e.FORBID_TAGS,p):I({}),_e=y(e,"FORBID_ATTR")?r({},e.FORBID_ATTR,p):I({}),H=y(e,"USE_PROFILES")?e.USE_PROFILES:!1,Be=e.ALLOW_ARIA_ATTR!==!1,ge=e.ALLOW_DATA_ATTR!==!1,Ye=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Xe=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,U=e.SAFE_FOR_TEMPLATES||!1,ne=e.SAFE_FOR_XML!==!1,x=e.WHOLE_DOCUMENT||!1,F=e.RETURN_DOM||!1,oe=e.RETURN_DOM_FRAGMENT||!1,ie=e.RETURN_TRUSTED_TYPE||!1,he=e.FORCE_BODY||!1,je=e.SANITIZE_DOM!==!1,Ve=e.SANITIZE_NAMED_PROPS||!1,Se=e.KEEP_CONTENT!==!1,V=e.IN_PLACE||!1,ze=e.ALLOWED_URI_REGEXP||gt,z=e.NAMESPACE||C,se=e.MATHML_TEXT_INTEGRATION_POINTS||se,le=e.HTML_INTEGRATION_POINTS||le,u=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ze(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(u.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ze(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(u.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(u.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),U&&(ge=!1),oe&&(F=!0),H&&(T=r({},mt),d=[],H.html===!0&&(r(T,ut),r(d,pt)),H.svg===!0&&(r(T,Me),r(d,Pe),r(d,fe)),H.svgFilters===!0&&(r(T,we),r(d,Pe),r(d,fe)),H.mathMl===!0&&(r(T,xe),r(d,Tt),r(d,fe))),e.ADD_TAGS&&(typeof e.ADD_TAGS=="function"?k.tagCheck=e.ADD_TAGS:(T===Ge&&(T=I(T)),r(T,e.ADD_TAGS,p))),e.ADD_ATTR&&(typeof e.ADD_ATTR=="function"?k.attributeCheck=e.ADD_ATTR:(d===We&&(d=I(d)),r(d,e.ADD_ATTR,p))),e.ADD_URI_SAFE_ATTR&&r(Oe,e.ADD_URI_SAFE_ATTR,p),e.FORBID_CONTENTS&&(b===Re&&(b=I(b)),r(b,e.FORBID_CONTENTS,p)),e.ADD_FORBID_CONTENTS&&(b===Re&&(b=I(b)),r(b,e.ADD_FORBID_CONTENTS,p)),Se&&(T["#text"]=!0),x&&r(T,["html","head","body"]),T.table&&(r(T,["tbody"]),delete j.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw Z('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Z('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=e.TRUSTED_TYPES_POLICY,X=g.createHTML("")}else g===void 0&&(g=un(ee,c)),g!==null&&typeof X=="string"&&(X=g.createHTML(""));S&&S(e),G=e}},Je=r({},[...Me,...we,...Qt]),Qe=r({},[...xe,...en]),Wt=function(e){let t=te(e);(!t||!t.tagName)&&(t={namespaceURI:z,tagName:"template"});const n=ue(e.tagName),f=ue(t.tagName);return Le[e.namespaceURI]?e.namespaceURI===re?t.namespaceURI===C?n==="svg":t.namespaceURI===ae?n==="svg"&&(f==="annotation-xml"||se[f]):!!Je[n]:e.namespaceURI===ae?t.namespaceURI===C?n==="math":t.namespaceURI===re?n==="math"&&le[f]:!!Qe[n]:e.namespaceURI===C?t.namespaceURI===re&&!le[f]||t.namespaceURI===ae&&!se[f]?!1:!Qe[n]&&(Ft[n]||!Je[n]):!!($==="application/xhtml+xml"&&Le[e.namespaceURI]):!1},N=function(e){q(o.removed,{element:e});try{te(e).removeChild(e)}catch{Lt(e)}},P=function(e,t){try{q(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch{q(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),e==="is")if(F||oe)try{N(t)}catch{}else try{t.setAttribute(e,"")}catch{}},et=function(e){let t=null,n=null;if(he)e="<remove></remove>"+e;else{const m=Ce(e,/^[\r\n\t ]+/);n=m&&m[0]}$==="application/xhtml+xml"&&z===C&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const f=g?g.createHTML(e):e;if(z===C)try{t=new Ot().parseFromString(f,$)}catch{}if(!t||!t.documentElement){t=pe.createDocument(z,"template",null);try{t.documentElement.innerHTML=De?X:f}catch{}}const _=t.body||t.documentElement;return e&&n&&_.insertBefore(l.createTextNode(n),_.childNodes[0]||null),z===C?Ct.call(t,x?"html":"body")[0]:x?t.documentElement:_},tt=function(e){return Nt.call(e.ownerDocument||e,e,B.SHOW_ELEMENT|B.SHOW_COMMENT|B.SHOW_TEXT|B.SHOW_PROCESSING_INSTRUCTION|B.SHOW_CDATA_SECTION,null)},be=function(e){return e instanceof Rt&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof St)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},nt=function(e){return typeof me=="function"&&e instanceof me};function M(i,e,t){ce(i,n=>{n.call(o,e,t,G)})}const ot=function(e){let t=null;if(M(A.beforeSanitizeElements,e,null),be(e))return N(e),!0;const n=p(e.nodeName);if(M(A.uponSanitizeElement,e,{tagName:n,allowedTags:T}),ne&&e.hasChildNodes()&&!nt(e.firstElementChild)&&h(/<[/\w!]/g,e.innerHTML)&&h(/<[/\w!]/g,e.textContent)||e.nodeType===Q.progressingInstruction||ne&&e.nodeType===Q.comment&&h(/<[/\w]/g,e.data))return N(e),!0;if(!(k.tagCheck instanceof Function&&k.tagCheck(n))&&(!T[n]||j[n])){if(!j[n]&&at(n)&&(u.tagNameCheck instanceof RegExp&&h(u.tagNameCheck,n)||u.tagNameCheck instanceof Function&&u.tagNameCheck(n)))return!1;if(Se&&!b[n]){const f=te(e)||e.parentNode,_=bt(e)||e.childNodes;if(_&&f){const m=_.length;for(let D=m-1;D>=0;--D){const w=Dt(_[D],!0);w.__removalCount=(e.__removalCount||0)+1,f.insertBefore(w,yt(e))}}}return N(e),!0}return e instanceof Fe&&!Wt(e)||(n==="noscript"||n==="noembed"||n==="noframes")&&h(/<\/no(script|embed|frames)/i,e.innerHTML)?(N(e),!0):(U&&e.nodeType===Q.text&&(t=e.textContent,ce([Te,de,Ee],f=>{t=K(t,f," ")}),e.textContent!==t&&(q(o.removed,{element:e.cloneNode()}),e.textContent=t)),M(A.afterSanitizeElements,e,null),!1)},it=function(e,t,n){if(je&&(t==="id"||t==="name")&&(n in l||n in Gt))return!1;if(!(ge&&!_e[t]&&h(wt,t))){if(!(Be&&h(xt,t))){if(!(k.attributeCheck instanceof Function&&k.attributeCheck(t,e))){if(!d[t]||_e[t]){if(!(at(e)&&(u.tagNameCheck instanceof RegExp&&h(u.tagNameCheck,e)||u.tagNameCheck instanceof Function&&u.tagNameCheck(e))&&(u.attributeNameCheck instanceof RegExp&&h(u.attributeNameCheck,t)||u.attributeNameCheck instanceof Function&&u.attributeNameCheck(t,e))||t==="is"&&u.allowCustomizedBuiltInElements&&(u.tagNameCheck instanceof RegExp&&h(u.tagNameCheck,n)||u.tagNameCheck instanceof Function&&u.tagNameCheck(n))))return!1}else if(!Oe[t]){if(!h(ze,K(n,He,""))){if(!((t==="src"||t==="xlink:href"||t==="href")&&e!=="script"&&qt(n,"data:")===0&&$e[e])){if(!(Ye&&!h(Pt,K(n,He,"")))){if(n)return!1}}}}}}}return!0},at=function(e){return e!=="annotation-xml"&&Ce(e,vt)},rt=function(e){M(A.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||be(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:d,forceKeepAttr:void 0};let f=t.length;for(;f--;){const _=t[f],{name:m,namespaceURI:D,value:w}=_,W=p(m),Ne=w;let E=m==="value"?Ne:Kt(Ne);if(n.attrName=W,n.attrValue=E,n.keepAttr=!0,n.forceKeepAttr=void 0,M(A.uponSanitizeAttribute,e,n),E=n.attrValue,Ve&&(W==="id"||W==="name")&&(P(m,e),E=kt+E),ne&&h(/((--!?|])>)|<\/(style|title|textarea)/i,E)){P(m,e);continue}if(W==="attributename"&&Ce(E,"href")){P(m,e);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){P(m,e);continue}if(!Xe&&h(/\/>/i,E)){P(m,e);continue}U&&ce([Te,de,Ee],lt=>{E=K(E,lt," ")});const st=p(e.nodeName);if(!it(st,W,E)){P(m,e);continue}if(g&&typeof ee=="object"&&typeof ee.getAttributeType=="function"&&!D)switch(ee.getAttributeType(st,W)){case"TrustedHTML":{E=g.createHTML(E);break}case"TrustedScriptURL":{E=g.createScriptURL(E);break}}if(E!==Ne)try{D?e.setAttributeNS(D,m,E):e.setAttribute(m,E),be(e)?N(e):ft(o.removed)}catch{P(m,e)}}M(A.afterSanitizeAttributes,e,null)},Bt=function i(e){let t=null;const n=tt(e);for(M(A.beforeSanitizeShadowDOM,e,null);t=n.nextNode();)M(A.uponSanitizeShadowNode,t,null),ot(t),rt(t),t.content instanceof O&&i(t.content);M(A.afterSanitizeShadowDOM,e,null)};return o.sanitize=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=null,n=null,f=null,_=null;if(De=!i,De&&(i="<!-->"),typeof i!="string"&&!nt(i))if(typeof i.toString=="function"){if(i=i.toString(),typeof i!="string")throw Z("dirty is not a string, aborting")}else throw Z("toString is not a function");if(!o.isSupported)return i;if(Ae||ye(e),o.removed=[],typeof i=="string"&&(V=!1),V){if(i.nodeName){const w=p(i.nodeName);if(!T[w]||j[w])throw Z("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof me)t=et("<!---->"),n=t.ownerDocument.importNode(i,!0),n.nodeType===Q.element&&n.nodeName==="BODY"||n.nodeName==="HTML"?t=n:t.appendChild(n);else{if(!F&&!U&&!x&&i.indexOf("<")===-1)return g&&ie?g.createHTML(i):i;if(t=et(i),!t)return F?null:ie?X:""}t&&he&&N(t.firstChild);const m=tt(V?i:t);for(;f=m.nextNode();)ot(f),rt(f),f.content instanceof O&&Bt(f.content);if(V)return i;if(F){if(oe)for(_=It.call(t.ownerDocument);t.firstChild;)_.appendChild(t.firstChild);else _=t;return(d.shadowroot||d.shadowrootmode)&&(_=Mt.call(a,_,!0)),_}let D=x?t.outerHTML:t.innerHTML;return x&&T["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&h(At,t.ownerDocument.doctype.name)&&(D="<!DOCTYPE "+t.ownerDocument.doctype.name+`>
[35mdist/canvas-fonts/README.md[m[36m:[m[32m5[m[36m:[m- SpaceGrote[1;31msk-[mMedium.woff2
[35mnode_modules/.package-lock.json[m[36m:[m[32m2241[m[36m:[m      "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microta[1;31msk-[m1.2.3.tgz",
[35mnode_modules/.vite/deps/purify.es-N335CXHF.js[m[36m:[m[32m151[m[36m:[mvar svg = freeze(["accent-height", "accumulate", "additive", "alignment-baseline", "amplitude", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "exponent", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "intercept", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "ma[1;31msk-[mtype", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "slope", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "tablevalues", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]);
[35mnode_modules/.vite/deps/purify.es-N335CXHF.js.map[m[36m:[m[32m4[m[36m:[m  "sourcesContent": ["const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!freeze) {\n  freeze = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!apply) {\n  apply = function <T>(\n    func: (thisArg: any, ...args: any[]) => T,\n    thisArg: any,\n    ...args: any[]\n  ): T {\n    return func.apply(thisArg, args);\n  };\n}\n\nif (!construct) {\n  construct = function <T>(Func: new (...args: any[]) => T, ...args: any[]): T {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\nconst arraySplice = unapply(Array.prototype.splice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply<T>(\n  func: (thisArg: any, ...args: any[]) => T\n): (thisArg: any, ...args: any[]) => T {\n  return (thisArg: any, ...args: any[]): T => {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n\n    return apply(func, thisArg, args);\n  };\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct<T>(\n  Func: new (...args: any[]) => T\n): (...args: any[]) => T {\n  return (...args: any[]): T => construct(Func, args);\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(\n  set: Record<string, any>,\n  array: readonly any[],\n  transformCaseFunc: ReturnType<typeof unapply<string>> = stringToLowerCase\n): Record<string, any> {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          (array as any[])[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray<T>(array: T[]): Array<T | null> {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone<T extends Record<string, any>>(object: T): T {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (\n        value &&\n        typeof value === 'object' &&\n        value.constructor === Object\n      ) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter<T extends Record<string, any>>(\n  object: T,\n  prop: string\n): ReturnType<typeof unapply<any>> | (() => null) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(): null {\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  arraySplice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  clone,\n  create,\n  objectHasOwnProperty,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n  addToSet,\n  // Reflect\n  unapply,\n  unconstruct,\n};\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'search',\n  'section',\n  'select',\n  'shadow',\n  'slot',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n] as const);\n\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'enterkeyhint',\n  'exportparts',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'inputmode',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'part',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n] as const);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n] as const);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n] as const);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n  'mprescripts',\n] as const);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n] as const);\n\nexport const text = freeze(['#text'] as const);\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'exportparts',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inert',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'part',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'popover',\n  'popovertarget',\n  'popovertargetaction',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'slot',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'wrap',\n  'xmlns',\n  'slot',\n] as const);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'amplitude',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'exponent',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'intercept',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'ma[1;31msk-[mtype',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'slope',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'tablevalues',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n] as const);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n] as const);\n", "import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\nexport const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n", "/* eslint-disable @typescript-eslint/indent */\n\nimport type {\n  TrustedHTML,\n  TrustedTypesWindow,\n} from 'trusted-types/lib/index.js';\nimport type { Config, UseProfilesConfig } from './config';\nimport * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySplice,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n  create,\n  objectHasOwnProperty,\n} from './utils.js';\n\nexport type { Config } from './config';\n\ndeclare const VERSION: string;\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5, // Deprecated\n  entityNode: 6, // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12, // Deprecated\n};\n\nconst getGlobal = function (): WindowLike {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function (\n  trustedTypes: TrustedTypePolicyFactory,\n  purifyHostElement: HTMLScriptElement\n) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nconst _createHooksMap = function (): HooksMap {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: [],\n  };\n};\n\nfunction createDOMPurify(window: WindowLike = getGlobal()): DOMPurify {\n  const DOMPurify: DOMPurify = (root: WindowLike) => createDOMPurify(root);\n\n  DOMPurify.version = VERSION;\n\n  DOMPurify.removed = [];\n\n  if (\n    !window ||\n    !window.document ||\n    window.document.nodeType !== NODE_TYPE.document ||\n    !window.Element\n  ) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  let { document } = window;\n\n  const originalDocument = document;\n  const currentScript: HTMLScriptElement =\n    originalDocument.currentScript as HTMLScriptElement;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || (window as any).MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = _createHooksMap();\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n    })\n  );\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (Â§7.3.3)\n   *   - DOM Tree Accessors (Â§3.1.5)\n   *   - Form Element Parent-Child Relations (Â§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (Â§4.8.5)\n   *   - HTMLCollection (Â§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES: UseProfilesConfig | false = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE: null | DOMParserSupportedType = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc: null | Parameters<typeof addToSet>[2] = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG: Config | null = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (\n    testValue: unknown\n  ): testValue is Function | RegExp {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg: Config = {}): void {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? DEFAULT_PARSER_MEDIA_TYPE\n        : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS')\n      ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n      : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR')\n      ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n      : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES')\n      ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n      : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR')\n      ? addToSet(\n          clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n          cfg.ADD_URI_SAFE_ATTR,\n          transformCaseFunc\n        )\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS')\n      ? addToSet(\n          clone(DEFAULT_DATA_URI_TAGS),\n          cfg.ADD_DATA_URI_TAGS,\n          transformCaseFunc\n        )\n      : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS')\n      ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n      : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS')\n      ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n      : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR')\n      ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n      : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES')\n      ? cfg.USE_PROFILES\n      : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || EXPRESSIONS.IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS =\n      cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS =\n      cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, TAGS.text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.ADD_FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'\n        );\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'\n        );\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(\n          trustedTypes,\n          currentScript\n        );\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.svgDisallowed,\n  ]);\n  const ALL_MATHML_TAGS = addToSet({}, [\n    ...TAGS.mathMl,\n    ...TAGS.mathMlDisallowed,\n  ]);\n\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element: Element): boolean {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function (node: Node): void {\n    arrayPush(DOMPurify.removed, { element: node });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function (name: string, element: Element): void {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element,\n      });\n    }\n\n    element.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty: string): Document {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function (root: Node): NodeIterator {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT |\n        NodeFilter.SHOW_COMMENT |\n        NodeFilter.SHOW_TEXT |\n        NodeFilter.SHOW_PROCESSING_INSTRUCTION |\n        NodeFilter.SHOW_CDATA_SECTION,\n      null\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function (element: Element): boolean {\n    return (\n      element instanceof HTMLFormElement &&\n      (typeof element.nodeName !== 'string' ||\n        typeof element.textContent !== 'string' ||\n        typeof element.removeChild !== 'function' ||\n        !(element.attributes instanceof NamedNodeMap) ||\n        typeof element.removeAttribute !== 'function' ||\n        typeof element.setAttribute !== 'function' ||\n        typeof element.namespaceURI !== 'string' ||\n        typeof element.insertBefore !== 'function' ||\n        typeof element.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function (value: unknown): value is Node {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n\n  function _executeHooks<T extends HookFunction>(\n    hooks: HookFunction[],\n    currentNode: Parameters<T>[0],\n    data: Parameters<T>[1]\n  ): void {\n    arrayForEach(hooks, (hook: T) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode: any): boolean {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      regExpTest(/<[/\\w!]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w!]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.nodeType === NODE_TYPE.comment &&\n      regExpTest(/<[/\\w]/g, currentNode.data)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (\n      !(\n        EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function &&\n        EXTRA_ELEMENT_HANDLING.tagCheck(tagName)\n      ) &&\n      (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])\n    ) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        ) {\n          return false;\n        }\n\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        ) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        content = stringReplace(content, expr, ' ');\n      });\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (\n    lcTag: string,\n    lcName: string,\n    value: string\n  ): boolean {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Check if ADD_ATTR function allows this attribute */\n    } else if (\n      EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function &&\n      EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)\n    ) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_isBasicCustomElement(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function (tagName: string): RegExpMatchArray {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode: Element): void {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined,\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const { name, namespaceURI, value: attrValue } = attr;\n      const lcName = transformCaseFunc(name);\n\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Work around a security issue with comments inside attributes */\n      if (\n        SAFE_FOR_XML &&\n        regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)\n      ) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment: DocumentFragment): void {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if ((dirty as Node).nodeName) {\n        const tagName = transformCaseFunc((dirty as Node).nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (\n        importedNode.nodeType === NODE_TYPE.element &&\n        importedNode.nodeName === 'BODY'\n      ) {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  DOMPurify.setConfig = function (cfg = {}) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  DOMPurify.addHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  DOMPurify.removeHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n\n      return index === -1\n        ? undefined\n        : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n\n    return arrayPop(hooks[entryPoint]);\n  };\n\n  DOMPurify.removeHooks = function (entryPoint: keyof HooksMap) {\n    hooks[entryPoint] = [];\n  };\n\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n\nexport interface DOMPurify {\n  /**\n   * Creates a DOMPurify instance using the given window-like object. Defaults to `window`.\n   */\n  (root?: WindowLike): DOMPurify;\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  version: string;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  removed: Array<RemovedElement | RemovedAttribute>;\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  isSupported: boolean;\n\n  /**\n   * Set the configuration once.\n   *\n   * @param cfg configuration object\n   */\n  setConfig(cfg?: Config): void;\n\n  /**\n   * Removes the configuration.\n   */\n  clearConfig(): void;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized TrustedHTML.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_TRUSTED_TYPE: true }\n  ): TrustedHTML;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: Node, cfg: Config & { IN_PLACE: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: string | Node, cfg: Config & { RETURN_DOM: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized document fragment.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_DOM_FRAGMENT: true }\n  ): DocumentFragment;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized string.\n   */\n  sanitize(dirty: string | Node, cfg?: Config): string;\n\n  /**\n   * Checks if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   *\n   * @param tag Tag name of containing element.\n   * @param attr Attribute name.\n   * @param value Attribute value.\n   * @returns Returns true if `value` is valid. Otherwise, returns false.\n   */\n  isValidAttribute(tag: string, attr: string, value: string): boolean;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: BasicHookName, hookFunction: NodeHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: ElementHookName, hookFunction: ElementHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction: DocumentFragmentHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction: UponSanitizeElementHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction: UponSanitizeAttributeHook\n  ): void;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: BasicHookName,\n    hookFunction?: NodeHook\n  ): NodeHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: ElementHookName,\n    hookFunction?: ElementHook\n  ): ElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction?: DocumentFragmentHook\n  ): DocumentFragmentHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction?: UponSanitizeElementHook\n  ): UponSanitizeElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction?: UponSanitizeAttributeHook\n  ): UponSanitizeAttributeHook | undefined;\n\n  /**\n   * Removes all DOMPurify hooks at a given entryPoint\n   *\n   * @param entryPoint entry point for the hooks to remove\n   */\n  removeHooks(entryPoint: HookName): void;\n\n  /**\n   * Removes all DOMPurify hooks.\n   */\n  removeAllHooks(): void;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedElement {\n  /**\n   * The element that was removed.\n   */\n  element: Node;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedAttribute {\n  /**\n   * The attribute that was removed.\n   */\n  attribute: Attr | null;\n\n  /**\n   * The element that the attribute was removed.\n   */\n  from: Node;\n}\n\ntype BasicHookName =\n  | 'beforeSanitizeElements'\n  | 'afterSanitizeElements'\n  | 'uponSanitizeShadowNode';\ntype ElementHookName = 'beforeSanitizeAttributes' | 'afterSanitizeAttributes';\ntype DocumentFragmentHookName =\n  | 'beforeSanitizeShadowDOM'\n  | 'afterSanitizeShadowDOM';\ntype UponSanitizeElementHookName = 'uponSanitizeElement';\ntype UponSanitizeAttributeHookName = 'uponSanitizeAttribute';\n\ninterface HooksMap {\n  beforeSanitizeElements: NodeHook[];\n  afterSanitizeElements: NodeHook[];\n  beforeSanitizeShadowDOM: DocumentFragmentHook[];\n  uponSanitizeShadowNode: NodeHook[];\n  afterSanitizeShadowDOM: DocumentFragmentHook[];\n  beforeSanitizeAttributes: ElementHook[];\n  afterSanitizeAttributes: ElementHook[];\n  uponSanitizeElement: UponSanitizeElementHook[];\n  uponSanitizeAttribute: UponSanitizeAttributeHook[];\n}\n\ntype ArrayElement<T> = T extends Array<infer U> ? U : never;\n\ntype HookFunction = ArrayElement<HooksMap[keyof HooksMap]>;\n\nexport type HookName =\n  | BasicHookName\n  | ElementHookName\n  | DocumentFragmentHookName\n  | UponSanitizeElementHookName\n  | UponSanitizeAttributeHookName;\n\nexport type NodeHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type ElementHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type DocumentFragmentHook = (\n  this: DOMPurify,\n  currentNode: DocumentFragment,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type UponSanitizeElementHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: UponSanitizeElementHookEvent,\n  config: Config\n) => void;\n\nexport type UponSanitizeAttributeHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: UponSanitizeAttributeHookEvent,\n  config: Config\n) => void;\n\nexport interface UponSanitizeElementHookEvent {\n  tagName: string;\n  allowedTags: Record<string, boolean>;\n}\n\nexport interface UponSanitizeAttributeHookEvent {\n  attrName: string;\n  attrValue: string;\n  keepAttr: boolean;\n  allowedAttributes: Record<string, boolean>;\n  forceKeepAttr: boolean | undefined;\n}\n\n/**\n * A `Window`-like object containing the properties and types that DOMPurify requires.\n */\nexport type WindowLike = Pick<\n  typeof globalThis,\n  | 'DocumentFragment'\n  | 'HTMLTemplateElement'\n  | 'Node'\n  | 'Element'\n  | 'NodeFilter'\n  | 'NamedNodeMap'\n  | 'HTMLFormElement'\n  | 'DOMParser'\n> & {\n  document?: Document;\n  MozNamedAttrMap?: typeof window.NamedNodeMap;\n} & Pick<TrustedTypesWindow, 'trustedTypes'>;\n"],
Binary file [35mnode_modules/@esbuild/linux-x64/bin/esbuild[m matches
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m190[m[36m:[m        'ma[1;31msk-[mimage'
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m253[m[36m:[m      'ma[1;31msk-[mimage'
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m283[m[36m:[m      'ma[1;31msk-[mimage'
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m736[m[36m:[m      'ma[1;31msk-[mclip',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m737[m[36m:[m      'ma[1;31msk-[mcomposite',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m738[m[36m:[m      'ma[1;31msk-[mimage',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m739[m[36m:[m      'ma[1;31msk-[morigin',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m740[m[36m:[m      'ma[1;31msk-[mrepeat',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m741[m[36m:[m      'ma[1;31msk-[mborder-repeat',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m742[m[36m:[m      'ma[1;31msk-[mborder-source'
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m752[m[36m:[m      'ma[1;31msk-[mposition',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m753[m[36m:[m      'ma[1;31msk-[msize',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m754[m[36m:[m      'ma[1;31msk-[mborder',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m755[m[36m:[m      'ma[1;31msk-[mborder-outset',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m756[m[36m:[m      'ma[1;31msk-[mborder-width',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m757[m[36m:[m      'ma[1;31msk-[mborder-slice'
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m953[m[36m:[m      'ma[1;31msk-[mimage',
[35mnode_modules/autoprefixer/data/prefixes.js[m[36m:[m[32m986[m[36m:[m      'ma[1;31msk-[mimage'
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m24[m[36m:[m  'ma[1;31msk-[mborder',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m25[m[36m:[m  'ma[1;31msk-[mborder-source',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m26[m[36m:[m  'ma[1;31msk-[mborder-slice',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m27[m[36m:[m  'ma[1;31msk-[mborder-width',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m28[m[36m:[m  'ma[1;31msk-[mborder-outset',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m29[m[36m:[m  'ma[1;31msk-[mborder-repeat',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m30[m[36m:[m  'ma[1;31msk-[mbox-image',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m31[m[36m:[m  'ma[1;31msk-[mbox-image-source',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m32[m[36m:[m  'ma[1;31msk-[mbox-image-slice',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m33[m[36m:[m  'ma[1;31msk-[mbox-image-width',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m34[m[36m:[m  'ma[1;31msk-[mbox-image-outset',
[35mnode_modules/autoprefixer/lib/hacks/mask-border.js[m[36m:[m[32m35[m[36m:[m  'ma[1;31msk-[mbox-image-repeat'
[35mnode_modules/autoprefixer/lib/hacks/mask-composite.js[m[36m:[m[32m5[m[36m:[m   * Prefix ma[1;31msk-[mcomposite for webkit
[35mnode_modules/autoprefixer/lib/hacks/mask-composite.js[m[36m:[m[32m8[m[36m:[m    let isCompositeProp = decl.prop === 'ma[1;31msk-[mcomposite'
[35mnode_modules/autoprefixer/lib/hacks/mask-composite.js[m[36m:[m[32m33[m[36m:[m      compositeDecl.prop = prefix + 'ma[1;31msk-[mcomposite'
[35mnode_modules/autoprefixer/lib/hacks/mask-composite.js[m[36m:[m[32m72[m[36m:[mMaskComposite.names = ['mask', 'ma[1;31msk-[mcomposite']
[35mnode_modules/autoprefixer/lib/prefixes.js[m[36m:[m[32m46[m[36m:[mlet hackMaskBorder = require('./hacks/ma[1;31msk-[mborder')
[35mnode_modules/autoprefixer/lib/prefixes.js[m[36m:[m[32m47[m[36m:[mlet hackMaskComposite = require('./hacks/ma[1;31msk-[mcomposite')
[35mnode_modules/dompurify/dist/purify.cjs.js[m[36m:[m[32m203[m[36m:[mconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'ma[1;31msk-[mtype', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);
[35mnode_modules/dompurify/dist/purify.cjs.js.map[m[36m:[m[32m1[m[36m:[m{"version":3,"file":"purify.cjs.js","sources":["../src/utils.ts","../src/tags.ts","../src/attrs.ts","../src/regexp.ts","../src/purify.ts"],"sourcesContent":["const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!freeze) {\n  freeze = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!apply) {\n  apply = function <T>(\n    func: (thisArg: any, ...args: any[]) => T,\n    thisArg: any,\n    ...args: any[]\n  ): T {\n    return func.apply(thisArg, args);\n  };\n}\n\nif (!construct) {\n  construct = function <T>(Func: new (...args: any[]) => T, ...args: any[]): T {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\nconst arraySplice = unapply(Array.prototype.splice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply<T>(\n  func: (thisArg: any, ...args: any[]) => T\n): (thisArg: any, ...args: any[]) => T {\n  return (thisArg: any, ...args: any[]): T => {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n\n    return apply(func, thisArg, args);\n  };\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct<T>(\n  Func: new (...args: any[]) => T\n): (...args: any[]) => T {\n  return (...args: any[]): T => construct(Func, args);\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(\n  set: Record<string, any>,\n  array: readonly any[],\n  transformCaseFunc: ReturnType<typeof unapply<string>> = stringToLowerCase\n): Record<string, any> {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          (array as any[])[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray<T>(array: T[]): Array<T | null> {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone<T extends Record<string, any>>(object: T): T {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (\n        value &&\n        typeof value === 'object' &&\n        value.constructor === Object\n      ) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter<T extends Record<string, any>>(\n  object: T,\n  prop: string\n): ReturnType<typeof unapply<any>> | (() => null) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(): null {\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  arraySplice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  clone,\n  create,\n  objectHasOwnProperty,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n  addToSet,\n  // Reflect\n  unapply,\n  unconstruct,\n};\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'search',\n  'section',\n  'select',\n  'shadow',\n  'slot',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n] as const);\n\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'enterkeyhint',\n  'exportparts',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'inputmode',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'part',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n] as const);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n] as const);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n] as const);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n  'mprescripts',\n] as const);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n] as const);\n\nexport const text = freeze(['#text'] as const);\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'exportparts',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inert',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'part',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'popover',\n  'popovertarget',\n  'popovertargetaction',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'slot',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'wrap',\n  'xmlns',\n  'slot',\n] as const);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'amplitude',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'exponent',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'intercept',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'ma[1;31msk-[mtype',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'slope',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'tablevalues',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n] as const);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n] as const);\n","import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\nexport const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n","/* eslint-disable @typescript-eslint/indent */\n\nimport type {\n  TrustedHTML,\n  TrustedTypesWindow,\n} from 'trusted-types/lib/index.js';\nimport type { Config, UseProfilesConfig } from './config';\nimport * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySplice,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n  create,\n  objectHasOwnProperty,\n} from './utils.js';\n\nexport type { Config } from './config';\n\ndeclare const VERSION: string;\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5, // Deprecated\n  entityNode: 6, // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12, // Deprecated\n};\n\nconst getGlobal = function (): WindowLike {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function (\n  trustedTypes: TrustedTypePolicyFactory,\n  purifyHostElement: HTMLScriptElement\n) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nconst _createHooksMap = function (): HooksMap {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: [],\n  };\n};\n\nfunction createDOMPurify(window: WindowLike = getGlobal()): DOMPurify {\n  const DOMPurify: DOMPurify = (root: WindowLike) => createDOMPurify(root);\n\n  DOMPurify.version = VERSION;\n\n  DOMPurify.removed = [];\n\n  if (\n    !window ||\n    !window.document ||\n    window.document.nodeType !== NODE_TYPE.document ||\n    !window.Element\n  ) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  let { document } = window;\n\n  const originalDocument = document;\n  const currentScript: HTMLScriptElement =\n    originalDocument.currentScript as HTMLScriptElement;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || (window as any).MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = _createHooksMap();\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n    })\n  );\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (Â§7.3.3)\n   *   - DOM Tree Accessors (Â§3.1.5)\n   *   - Form Element Parent-Child Relations (Â§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (Â§4.8.5)\n   *   - HTMLCollection (Â§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES: UseProfilesConfig | false = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE: null | DOMParserSupportedType = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc: null | Parameters<typeof addToSet>[2] = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG: Config | null = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (\n    testValue: unknown\n  ): testValue is Function | RegExp {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg: Config = {}): void {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? DEFAULT_PARSER_MEDIA_TYPE\n        : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS')\n      ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n      : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR')\n      ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n      : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES')\n      ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n      : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR')\n      ? addToSet(\n          clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n          cfg.ADD_URI_SAFE_ATTR,\n          transformCaseFunc\n        )\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS')\n      ? addToSet(\n          clone(DEFAULT_DATA_URI_TAGS),\n          cfg.ADD_DATA_URI_TAGS,\n          transformCaseFunc\n        )\n      : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS')\n      ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n      : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS')\n      ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n      : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR')\n      ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n      : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES')\n      ? cfg.USE_PROFILES\n      : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || EXPRESSIONS.IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS =\n      cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS =\n      cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, TAGS.text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.ADD_FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'\n        );\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'\n        );\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(\n          trustedTypes,\n          currentScript\n        );\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.svgDisallowed,\n  ]);\n  const ALL_MATHML_TAGS = addToSet({}, [\n    ...TAGS.mathMl,\n    ...TAGS.mathMlDisallowed,\n  ]);\n\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element: Element): boolean {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function (node: Node): void {\n    arrayPush(DOMPurify.removed, { element: node });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function (name: string, element: Element): void {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element,\n      });\n    }\n\n    element.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty: string): Document {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function (root: Node): NodeIterator {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT |\n        NodeFilter.SHOW_COMMENT |\n        NodeFilter.SHOW_TEXT |\n        NodeFilter.SHOW_PROCESSING_INSTRUCTION |\n        NodeFilter.SHOW_CDATA_SECTION,\n      null\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function (element: Element): boolean {\n    return (\n      element instanceof HTMLFormElement &&\n      (typeof element.nodeName !== 'string' ||\n        typeof element.textContent !== 'string' ||\n        typeof element.removeChild !== 'function' ||\n        !(element.attributes instanceof NamedNodeMap) ||\n        typeof element.removeAttribute !== 'function' ||\n        typeof element.setAttribute !== 'function' ||\n        typeof element.namespaceURI !== 'string' ||\n        typeof element.insertBefore !== 'function' ||\n        typeof element.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function (value: unknown): value is Node {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n\n  function _executeHooks<T extends HookFunction>(\n    hooks: HookFunction[],\n    currentNode: Parameters<T>[0],\n    data: Parameters<T>[1]\n  ): void {\n    arrayForEach(hooks, (hook: T) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode: any): boolean {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      regExpTest(/<[/\\w!]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w!]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.nodeType === NODE_TYPE.comment &&\n      regExpTest(/<[/\\w]/g, currentNode.data)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (\n      !(\n        EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function &&\n        EXTRA_ELEMENT_HANDLING.tagCheck(tagName)\n      ) &&\n      (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])\n    ) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        ) {\n          return false;\n        }\n\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        ) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        content = stringReplace(content, expr, ' ');\n      });\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (\n    lcTag: string,\n    lcName: string,\n    value: string\n  ): boolean {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Check if ADD_ATTR function allows this attribute */\n    } else if (\n      EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function &&\n      EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)\n    ) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_isBasicCustomElement(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function (tagName: string): RegExpMatchArray {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode: Element): void {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined,\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const { name, namespaceURI, value: attrValue } = attr;\n      const lcName = transformCaseFunc(name);\n\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Work around a security issue with comments inside attributes */\n      if (\n        SAFE_FOR_XML &&\n        regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)\n      ) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment: DocumentFragment): void {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if ((dirty as Node).nodeName) {\n        const tagName = transformCaseFunc((dirty as Node).nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (\n        importedNode.nodeType === NODE_TYPE.element &&\n        importedNode.nodeName === 'BODY'\n      ) {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  DOMPurify.setConfig = function (cfg = {}) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  DOMPurify.addHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  DOMPurify.removeHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n\n      return index === -1\n        ? undefined\n        : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n\n    return arrayPop(hooks[entryPoint]);\n  };\n\n  DOMPurify.removeHooks = function (entryPoint: keyof HooksMap) {\n    hooks[entryPoint] = [];\n  };\n\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n\nexport interface DOMPurify {\n  /**\n   * Creates a DOMPurify instance using the given window-like object. Defaults to `window`.\n   */\n  (root?: WindowLike): DOMPurify;\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  version: string;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  removed: Array<RemovedElement | RemovedAttribute>;\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  isSupported: boolean;\n\n  /**\n   * Set the configuration once.\n   *\n   * @param cfg configuration object\n   */\n  setConfig(cfg?: Config): void;\n\n  /**\n   * Removes the configuration.\n   */\n  clearConfig(): void;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized TrustedHTML.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_TRUSTED_TYPE: true }\n  ): TrustedHTML;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: Node, cfg: Config & { IN_PLACE: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: string | Node, cfg: Config & { RETURN_DOM: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized document fragment.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_DOM_FRAGMENT: true }\n  ): DocumentFragment;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized string.\n   */\n  sanitize(dirty: string | Node, cfg?: Config): string;\n\n  /**\n   * Checks if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   *\n   * @param tag Tag name of containing element.\n   * @param attr Attribute name.\n   * @param value Attribute value.\n   * @returns Returns true if `value` is valid. Otherwise, returns false.\n   */\n  isValidAttribute(tag: string, attr: string, value: string): boolean;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: BasicHookName, hookFunction: NodeHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: ElementHookName, hookFunction: ElementHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction: DocumentFragmentHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction: UponSanitizeElementHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction: UponSanitizeAttributeHook\n  ): void;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: BasicHookName,\n    hookFunction?: NodeHook\n  ): NodeHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: ElementHookName,\n    hookFunction?: ElementHook\n  ): ElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction?: DocumentFragmentHook\n  ): DocumentFragmentHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction?: UponSanitizeElementHook\n  ): UponSanitizeElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction?: UponSanitizeAttributeHook\n  ): UponSanitizeAttributeHook | undefined;\n\n  /**\n   * Removes all DOMPurify hooks at a given entryPoint\n   *\n   * @param entryPoint entry point for the hooks to remove\n   */\n  removeHooks(entryPoint: HookName): void;\n\n  /**\n   * Removes all DOMPurify hooks.\n   */\n  removeAllHooks(): void;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedElement {\n  /**\n   * The element that was removed.\n   */\n  element: Node;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedAttribute {\n  /**\n   * The attribute that was removed.\n   */\n  attribute: Attr | null;\n\n  /**\n   * The element that the attribute was removed.\n   */\n  from: Node;\n}\n\ntype BasicHookName =\n  | 'beforeSanitizeElements'\n  | 'afterSanitizeElements'\n  | 'uponSanitizeShadowNode';\ntype ElementHookName = 'beforeSanitizeAttributes' | 'afterSanitizeAttributes';\ntype DocumentFragmentHookName =\n  | 'beforeSanitizeShadowDOM'\n  | 'afterSanitizeShadowDOM';\ntype UponSanitizeElementHookName = 'uponSanitizeElement';\ntype UponSanitizeAttributeHookName = 'uponSanitizeAttribute';\n\ninterface HooksMap {\n  beforeSanitizeElements: NodeHook[];\n  afterSanitizeElements: NodeHook[];\n  beforeSanitizeShadowDOM: DocumentFragmentHook[];\n  uponSanitizeShadowNode: NodeHook[];\n  afterSanitizeShadowDOM: DocumentFragmentHook[];\n  beforeSanitizeAttributes: ElementHook[];\n  afterSanitizeAttributes: ElementHook[];\n  uponSanitizeElement: UponSanitizeElementHook[];\n  uponSanitizeAttribute: UponSanitizeAttributeHook[];\n}\n\ntype ArrayElement<T> = T extends Array<infer U> ? U : never;\n\ntype HookFunction = ArrayElement<HooksMap[keyof HooksMap]>;\n\nexport type HookName =\n  | BasicHookName\n  | ElementHookName\n  | DocumentFragmentHookName\n  | UponSanitizeElementHookName\n  | UponSanitizeAttributeHookName;\n\nexport type NodeHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type ElementHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type DocumentFragmentHook = (\n  this: DOMPurify,\n  currentNode: DocumentFragment,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type UponSanitizeElementHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: UponSanitizeElementHookEvent,\n  config: Config\n) => void;\n\nexport type UponSanitizeAttributeHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: UponSanitizeAttributeHookEvent,\n  config: Config\n) => void;\n\nexport interface UponSanitizeElementHookEvent {\n  tagName: string;\n  allowedTags: Record<string, boolean>;\n}\n\nexport interface UponSanitizeAttributeHookEvent {\n  attrName: string;\n  attrValue: string;\n  keepAttr: boolean;\n  allowedAttributes: Record<string, boolean>;\n  forceKeepAttr: boolean | undefined;\n}\n\n/**\n * A `Window`-like object containing the properties and types that DOMPurify requires.\n */\nexport type WindowLike = Pick<\n  typeof globalThis,\n  | 'DocumentFragment'\n  | 'HTMLTemplateElement'\n  | 'Node'\n  | 'Element'\n  | 'NodeFilter'\n  | 'NamedNodeMap'\n  | 'HTMLFormElement'\n  | 'DOMParser'\n> & {\n  document?: Document;\n  MozNamedAttrMap?: typeof window.NamedNodeMap;\n} & Pick<TrustedTypesWindow, 'trustedTypes'>;\n"],"names":["entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","Object","freeze","seal","create","apply","construct","Reflect","x","func","thisArg","_len","arguments","length","args","Array","_key","Func","_len2","_key2","arrayForEach","unapply","prototype","forEach","arrayLastIndexOf","lastIndexOf","arrayPop","pop","arrayPush","push","arraySplice","splice","stringToLowerCase","String","toLowerCase","stringToString","toString","stringMatch","match","stringReplace","replace","stringIndexOf","indexOf","stringTrim","trim","objectHasOwnProperty","hasOwnProperty","regExpTest","RegExp","test","typeErrorCreate","unconstruct","TypeError","lastIndex","_len3","_key3","_len4","_key4","addToSet","set","array","transformCaseFunc","l","element","lcElement","cleanArray","index","isPropertyExist","clone","object","newObject","property","value","isArray","constructor","lookupGetter","prop","desc","get","fallbackValue","html","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","text","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","NODE_TYPE","attribute","cdataSection","entityReference","entityNode","progressingInstruction","comment","document","documentType","documentFragment","notation","getGlobal","window","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","createPolicy","suffix","ATTR_NAME","hasAttribute","getAttribute","policyName","createHTML","createScriptURL","scriptUrl","_","console","warn","_createHooksMap","afterSanitizeAttributes","afterSanitizeElements","afterSanitizeShadowDOM","beforeSanitizeAttributes","beforeSanitizeElements","beforeSanitizeShadowDOM","uponSanitizeAttribute","uponSanitizeElement","uponSanitizeShadowNode","createDOMPurify","undefined","DOMPurify","root","version","VERSION","removed","nodeType","Element","isSupported","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","remove","getNextSibling","getChildNodes","getParentNode","template","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","createHTMLDocument","EXPRESSIONS","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","ATTRS","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","EXTRA_ELEMENT_HANDLING","tagCheck","attributeCheck","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","Function","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","ADD_FORBID_CONTENTS","table","tbody","TRUSTED_TYPES_POLICY","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","Boolean","_forceRemove","node","removeChild","_removeAttribute","name","getAttributeNode","from","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","childNodes","call","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","_isClobbered","nodeName","textContent","attributes","hasChildNodes","_isNode","_executeHooks","currentNode","data","hook","_sanitizeElements","allowedTags","firstElementChild","_isBasicCustomElement","parentNode","childCount","i","childClone","__removalCount","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","forceKeepAttr","attr","initValue","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","appendChild","firstChild","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","entryPoint","hookFunction","removeHook","removeHooks","removeAllHooks"],"mappings":"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"}
[35mnode_modules/dompurify/dist/purify.es.mjs[m[36m:[m[32m201[m[36m:[mconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'ma[1;31msk-[mtype', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);
[35mnode_modules/dompurify/dist/purify.es.mjs.map[m[36m:[m[32m1[m[36m:[m{"version":3,"file":"purify.es.mjs","sources":["../src/utils.ts","../src/tags.ts","../src/attrs.ts","../src/regexp.ts","../src/purify.ts"],"sourcesContent":["const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!freeze) {\n  freeze = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!apply) {\n  apply = function <T>(\n    func: (thisArg: any, ...args: any[]) => T,\n    thisArg: any,\n    ...args: any[]\n  ): T {\n    return func.apply(thisArg, args);\n  };\n}\n\nif (!construct) {\n  construct = function <T>(Func: new (...args: any[]) => T, ...args: any[]): T {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\nconst arraySplice = unapply(Array.prototype.splice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply<T>(\n  func: (thisArg: any, ...args: any[]) => T\n): (thisArg: any, ...args: any[]) => T {\n  return (thisArg: any, ...args: any[]): T => {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n\n    return apply(func, thisArg, args);\n  };\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct<T>(\n  Func: new (...args: any[]) => T\n): (...args: any[]) => T {\n  return (...args: any[]): T => construct(Func, args);\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(\n  set: Record<string, any>,\n  array: readonly any[],\n  transformCaseFunc: ReturnType<typeof unapply<string>> = stringToLowerCase\n): Record<string, any> {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          (array as any[])[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray<T>(array: T[]): Array<T | null> {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone<T extends Record<string, any>>(object: T): T {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (\n        value &&\n        typeof value === 'object' &&\n        value.constructor === Object\n      ) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter<T extends Record<string, any>>(\n  object: T,\n  prop: string\n): ReturnType<typeof unapply<any>> | (() => null) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(): null {\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  arraySplice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  clone,\n  create,\n  objectHasOwnProperty,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n  addToSet,\n  // Reflect\n  unapply,\n  unconstruct,\n};\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'search',\n  'section',\n  'select',\n  'shadow',\n  'slot',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n] as const);\n\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'enterkeyhint',\n  'exportparts',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'inputmode',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'part',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n] as const);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n] as const);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n] as const);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n  'mprescripts',\n] as const);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n] as const);\n\nexport const text = freeze(['#text'] as const);\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'exportparts',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inert',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'part',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'popover',\n  'popovertarget',\n  'popovertargetaction',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'slot',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'wrap',\n  'xmlns',\n  'slot',\n] as const);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'amplitude',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'exponent',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'intercept',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'ma[1;31msk-[mtype',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'slope',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'tablevalues',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n] as const);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n] as const);\n","import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\nexport const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n","/* eslint-disable @typescript-eslint/indent */\n\nimport type {\n  TrustedHTML,\n  TrustedTypesWindow,\n} from 'trusted-types/lib/index.js';\nimport type { Config, UseProfilesConfig } from './config';\nimport * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySplice,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n  create,\n  objectHasOwnProperty,\n} from './utils.js';\n\nexport type { Config } from './config';\n\ndeclare const VERSION: string;\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5, // Deprecated\n  entityNode: 6, // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12, // Deprecated\n};\n\nconst getGlobal = function (): WindowLike {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function (\n  trustedTypes: TrustedTypePolicyFactory,\n  purifyHostElement: HTMLScriptElement\n) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nconst _createHooksMap = function (): HooksMap {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: [],\n  };\n};\n\nfunction createDOMPurify(window: WindowLike = getGlobal()): DOMPurify {\n  const DOMPurify: DOMPurify = (root: WindowLike) => createDOMPurify(root);\n\n  DOMPurify.version = VERSION;\n\n  DOMPurify.removed = [];\n\n  if (\n    !window ||\n    !window.document ||\n    window.document.nodeType !== NODE_TYPE.document ||\n    !window.Element\n  ) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  let { document } = window;\n\n  const originalDocument = document;\n  const currentScript: HTMLScriptElement =\n    originalDocument.currentScript as HTMLScriptElement;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || (window as any).MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = _createHooksMap();\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n    })\n  );\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (Â§7.3.3)\n   *   - DOM Tree Accessors (Â§3.1.5)\n   *   - Form Element Parent-Child Relations (Â§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (Â§4.8.5)\n   *   - HTMLCollection (Â§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES: UseProfilesConfig | false = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE: null | DOMParserSupportedType = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc: null | Parameters<typeof addToSet>[2] = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG: Config | null = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (\n    testValue: unknown\n  ): testValue is Function | RegExp {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg: Config = {}): void {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? DEFAULT_PARSER_MEDIA_TYPE\n        : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS')\n      ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n      : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR')\n      ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n      : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES')\n      ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n      : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR')\n      ? addToSet(\n          clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n          cfg.ADD_URI_SAFE_ATTR,\n          transformCaseFunc\n        )\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS')\n      ? addToSet(\n          clone(DEFAULT_DATA_URI_TAGS),\n          cfg.ADD_DATA_URI_TAGS,\n          transformCaseFunc\n        )\n      : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS')\n      ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n      : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS')\n      ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n      : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR')\n      ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n      : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES')\n      ? cfg.USE_PROFILES\n      : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || EXPRESSIONS.IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS =\n      cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS =\n      cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, TAGS.text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.ADD_FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'\n        );\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'\n        );\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(\n          trustedTypes,\n          currentScript\n        );\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.svgDisallowed,\n  ]);\n  const ALL_MATHML_TAGS = addToSet({}, [\n    ...TAGS.mathMl,\n    ...TAGS.mathMlDisallowed,\n  ]);\n\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element: Element): boolean {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function (node: Node): void {\n    arrayPush(DOMPurify.removed, { element: node });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function (name: string, element: Element): void {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element,\n      });\n    }\n\n    element.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty: string): Document {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function (root: Node): NodeIterator {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT |\n        NodeFilter.SHOW_COMMENT |\n        NodeFilter.SHOW_TEXT |\n        NodeFilter.SHOW_PROCESSING_INSTRUCTION |\n        NodeFilter.SHOW_CDATA_SECTION,\n      null\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function (element: Element): boolean {\n    return (\n      element instanceof HTMLFormElement &&\n      (typeof element.nodeName !== 'string' ||\n        typeof element.textContent !== 'string' ||\n        typeof element.removeChild !== 'function' ||\n        !(element.attributes instanceof NamedNodeMap) ||\n        typeof element.removeAttribute !== 'function' ||\n        typeof element.setAttribute !== 'function' ||\n        typeof element.namespaceURI !== 'string' ||\n        typeof element.insertBefore !== 'function' ||\n        typeof element.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function (value: unknown): value is Node {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n\n  function _executeHooks<T extends HookFunction>(\n    hooks: HookFunction[],\n    currentNode: Parameters<T>[0],\n    data: Parameters<T>[1]\n  ): void {\n    arrayForEach(hooks, (hook: T) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode: any): boolean {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      regExpTest(/<[/\\w!]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w!]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.nodeType === NODE_TYPE.comment &&\n      regExpTest(/<[/\\w]/g, currentNode.data)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (\n      !(\n        EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function &&\n        EXTRA_ELEMENT_HANDLING.tagCheck(tagName)\n      ) &&\n      (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])\n    ) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        ) {\n          return false;\n        }\n\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        ) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        content = stringReplace(content, expr, ' ');\n      });\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (\n    lcTag: string,\n    lcName: string,\n    value: string\n  ): boolean {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Check if ADD_ATTR function allows this attribute */\n    } else if (\n      EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function &&\n      EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)\n    ) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_isBasicCustomElement(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function (tagName: string): RegExpMatchArray {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode: Element): void {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined,\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const { name, namespaceURI, value: attrValue } = attr;\n      const lcName = transformCaseFunc(name);\n\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Work around a security issue with comments inside attributes */\n      if (\n        SAFE_FOR_XML &&\n        regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)\n      ) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment: DocumentFragment): void {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if ((dirty as Node).nodeName) {\n        const tagName = transformCaseFunc((dirty as Node).nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (\n        importedNode.nodeType === NODE_TYPE.element &&\n        importedNode.nodeName === 'BODY'\n      ) {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  DOMPurify.setConfig = function (cfg = {}) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  DOMPurify.addHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  DOMPurify.removeHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n\n      return index === -1\n        ? undefined\n        : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n\n    return arrayPop(hooks[entryPoint]);\n  };\n\n  DOMPurify.removeHooks = function (entryPoint: keyof HooksMap) {\n    hooks[entryPoint] = [];\n  };\n\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n\nexport interface DOMPurify {\n  /**\n   * Creates a DOMPurify instance using the given window-like object. Defaults to `window`.\n   */\n  (root?: WindowLike): DOMPurify;\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  version: string;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  removed: Array<RemovedElement | RemovedAttribute>;\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  isSupported: boolean;\n\n  /**\n   * Set the configuration once.\n   *\n   * @param cfg configuration object\n   */\n  setConfig(cfg?: Config): void;\n\n  /**\n   * Removes the configuration.\n   */\n  clearConfig(): void;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized TrustedHTML.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_TRUSTED_TYPE: true }\n  ): TrustedHTML;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: Node, cfg: Config & { IN_PLACE: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: string | Node, cfg: Config & { RETURN_DOM: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized document fragment.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_DOM_FRAGMENT: true }\n  ): DocumentFragment;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized string.\n   */\n  sanitize(dirty: string | Node, cfg?: Config): string;\n\n  /**\n   * Checks if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   *\n   * @param tag Tag name of containing element.\n   * @param attr Attribute name.\n   * @param value Attribute value.\n   * @returns Returns true if `value` is valid. Otherwise, returns false.\n   */\n  isValidAttribute(tag: string, attr: string, value: string): boolean;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: BasicHookName, hookFunction: NodeHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: ElementHookName, hookFunction: ElementHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction: DocumentFragmentHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction: UponSanitizeElementHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction: UponSanitizeAttributeHook\n  ): void;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: BasicHookName,\n    hookFunction?: NodeHook\n  ): NodeHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: ElementHookName,\n    hookFunction?: ElementHook\n  ): ElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction?: DocumentFragmentHook\n  ): DocumentFragmentHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction?: UponSanitizeElementHook\n  ): UponSanitizeElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction?: UponSanitizeAttributeHook\n  ): UponSanitizeAttributeHook | undefined;\n\n  /**\n   * Removes all DOMPurify hooks at a given entryPoint\n   *\n   * @param entryPoint entry point for the hooks to remove\n   */\n  removeHooks(entryPoint: HookName): void;\n\n  /**\n   * Removes all DOMPurify hooks.\n   */\n  removeAllHooks(): void;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedElement {\n  /**\n   * The element that was removed.\n   */\n  element: Node;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedAttribute {\n  /**\n   * The attribute that was removed.\n   */\n  attribute: Attr | null;\n\n  /**\n   * The element that the attribute was removed.\n   */\n  from: Node;\n}\n\ntype BasicHookName =\n  | 'beforeSanitizeElements'\n  | 'afterSanitizeElements'\n  | 'uponSanitizeShadowNode';\ntype ElementHookName = 'beforeSanitizeAttributes' | 'afterSanitizeAttributes';\ntype DocumentFragmentHookName =\n  | 'beforeSanitizeShadowDOM'\n  | 'afterSanitizeShadowDOM';\ntype UponSanitizeElementHookName = 'uponSanitizeElement';\ntype UponSanitizeAttributeHookName = 'uponSanitizeAttribute';\n\ninterface HooksMap {\n  beforeSanitizeElements: NodeHook[];\n  afterSanitizeElements: NodeHook[];\n  beforeSanitizeShadowDOM: DocumentFragmentHook[];\n  uponSanitizeShadowNode: NodeHook[];\n  afterSanitizeShadowDOM: DocumentFragmentHook[];\n  beforeSanitizeAttributes: ElementHook[];\n  afterSanitizeAttributes: ElementHook[];\n  uponSanitizeElement: UponSanitizeElementHook[];\n  uponSanitizeAttribute: UponSanitizeAttributeHook[];\n}\n\ntype ArrayElement<T> = T extends Array<infer U> ? U : never;\n\ntype HookFunction = ArrayElement<HooksMap[keyof HooksMap]>;\n\nexport type HookName =\n  | BasicHookName\n  | ElementHookName\n  | DocumentFragmentHookName\n  | UponSanitizeElementHookName\n  | UponSanitizeAttributeHookName;\n\nexport type NodeHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type ElementHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type DocumentFragmentHook = (\n  this: DOMPurify,\n  currentNode: DocumentFragment,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type UponSanitizeElementHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: UponSanitizeElementHookEvent,\n  config: Config\n) => void;\n\nexport type UponSanitizeAttributeHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: UponSanitizeAttributeHookEvent,\n  config: Config\n) => void;\n\nexport interface UponSanitizeElementHookEvent {\n  tagName: string;\n  allowedTags: Record<string, boolean>;\n}\n\nexport interface UponSanitizeAttributeHookEvent {\n  attrName: string;\n  attrValue: string;\n  keepAttr: boolean;\n  allowedAttributes: Record<string, boolean>;\n  forceKeepAttr: boolean | undefined;\n}\n\n/**\n * A `Window`-like object containing the properties and types that DOMPurify requires.\n */\nexport type WindowLike = Pick<\n  typeof globalThis,\n  | 'DocumentFragment'\n  | 'HTMLTemplateElement'\n  | 'Node'\n  | 'Element'\n  | 'NodeFilter'\n  | 'NamedNodeMap'\n  | 'HTMLFormElement'\n  | 'DOMParser'\n> & {\n  document?: Document;\n  MozNamedAttrMap?: typeof window.NamedNodeMap;\n} & Pick<TrustedTypesWindow, 'trustedTypes'>;\n"],"names":["entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","Object","freeze","seal","create","apply","construct","Reflect","x","func","thisArg","_len","arguments","length","args","Array","_key","Func","_len2","_key2","arrayForEach","unapply","prototype","forEach","arrayLastIndexOf","lastIndexOf","arrayPop","pop","arrayPush","push","arraySplice","splice","stringToLowerCase","String","toLowerCase","stringToString","toString","stringMatch","match","stringReplace","replace","stringIndexOf","indexOf","stringTrim","trim","objectHasOwnProperty","hasOwnProperty","regExpTest","RegExp","test","typeErrorCreate","unconstruct","TypeError","lastIndex","_len3","_key3","_len4","_key4","addToSet","set","array","transformCaseFunc","l","element","lcElement","cleanArray","index","isPropertyExist","clone","object","newObject","property","value","isArray","constructor","lookupGetter","prop","desc","get","fallbackValue","html","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","text","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","NODE_TYPE","attribute","cdataSection","entityReference","entityNode","progressingInstruction","comment","document","documentType","documentFragment","notation","getGlobal","window","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","createPolicy","suffix","ATTR_NAME","hasAttribute","getAttribute","policyName","createHTML","createScriptURL","scriptUrl","_","console","warn","_createHooksMap","afterSanitizeAttributes","afterSanitizeElements","afterSanitizeShadowDOM","beforeSanitizeAttributes","beforeSanitizeElements","beforeSanitizeShadowDOM","uponSanitizeAttribute","uponSanitizeElement","uponSanitizeShadowNode","createDOMPurify","undefined","DOMPurify","root","version","VERSION","removed","nodeType","Element","isSupported","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","remove","getNextSibling","getChildNodes","getParentNode","template","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","createHTMLDocument","EXPRESSIONS","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","ATTRS","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","EXTRA_ELEMENT_HANDLING","tagCheck","attributeCheck","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","Function","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","ADD_FORBID_CONTENTS","table","tbody","TRUSTED_TYPES_POLICY","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","Boolean","_forceRemove","node","removeChild","_removeAttribute","name","getAttributeNode","from","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","childNodes","call","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","_isClobbered","nodeName","textContent","attributes","hasChildNodes","_isNode","_executeHooks","currentNode","data","hook","_sanitizeElements","allowedTags","firstElementChild","_isBasicCustomElement","parentNode","childCount","i","childClone","__removalCount","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","forceKeepAttr","attr","initValue","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","appendChild","firstChild","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","entryPoint","hookFunction","removeHook","removeHooks","removeAllHooks"],"mappings":";;AAAA,MAAM;EACJA,OAAO;EACPC,cAAc;EACdC,QAAQ;EACRC,cAAc;AACdC,EAAAA,wBAAAA;AACD,CAAA,GAAGC,MAAM,CAAA;AAEV,IAAI;EAAEC,MAAM;EAAEC,IAAI;AAAEC,EAAAA,MAAAA;AAAM,CAAE,GAAGH,MAAM,CAAC;AACtC,IAAI;EAAEI,KAAK;AAAEC,EAAAA,SAAAA;AAAW,CAAA,GAAG,OAAOC,OAAO,KAAK,WAAW,IAAIA,OAAO,CAAA;AAEpE,IAAI,CAACL,MAAM,EAAE;AACXA,EAAAA,MAAM,GAAG,SAAAA,MAAaM,CAAAA,CAAI,EAAA;AACxB,IAAA,OAAOA,CAAC,CAAA;GACT,CAAA;AACH,CAAA;AAEA,IAAI,CAACL,IAAI,EAAE;AACTA,EAAAA,IAAI,GAAG,SAAAA,IAAaK,CAAAA,CAAI,EAAA;AACtB,IAAA,OAAOA,CAAC,CAAA;GACT,CAAA;AACH,CAAA;AAEA,IAAI,CAACH,KAAK,EAAE;AACVA,EAAAA,KAAK,GAAG,SAAAA,KAAAA,CACNI,IAAyC,EACzCC,OAAY,EACE;IAAA,KAAAC,IAAAA,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAXC,IAAW,OAAAC,KAAA,CAAAJ,IAAA,GAAAA,CAAAA,GAAAA,IAAA,WAAAK,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA,EAAA,EAAA;AAAXF,MAAAA,IAAW,CAAAE,IAAA,GAAAJ,CAAAA,CAAAA,GAAAA,SAAA,CAAAI,IAAA,CAAA,CAAA;AAAA,KAAA;AAEd,IAAA,OAAOP,IAAI,CAACJ,KAAK,CAACK,OAAO,EAAEI,IAAI,CAAC,CAAA;GACjC,CAAA;AACH,CAAA;AAEA,IAAI,CAACR,SAAS,EAAE;AACdA,EAAAA,SAAS,GAAG,SAAAA,SAAaW,CAAAA,IAA+B,EAAgB;IAAA,KAAAC,IAAAA,KAAA,GAAAN,SAAA,CAAAC,MAAA,EAAXC,IAAW,OAAAC,KAAA,CAAAG,KAAA,GAAAA,CAAAA,GAAAA,KAAA,WAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAXL,MAAAA,IAAW,CAAAK,KAAA,GAAAP,CAAAA,CAAAA,GAAAA,SAAA,CAAAO,KAAA,CAAA,CAAA;AAAA,KAAA;AACtE,IAAA,OAAO,IAAIF,IAAI,CAAC,GAAGH,IAAI,CAAC,CAAA;GACzB,CAAA;AACH,CAAA;AAEA,MAAMM,YAAY,GAAGC,OAAO,CAACN,KAAK,CAACO,SAAS,CAACC,OAAO,CAAC,CAAA;AAErD,MAAMC,gBAAgB,GAAGH,OAAO,CAACN,KAAK,CAACO,SAAS,CAACG,WAAW,CAAC,CAAA;AAC7D,MAAMC,QAAQ,GAAGL,OAAO,CAACN,KAAK,CAACO,SAAS,CAACK,GAAG,CAAC,CAAA;AAC7C,MAAMC,SAAS,GAAGP,OAAO,CAACN,KAAK,CAACO,SAAS,CAACO,IAAI,CAAC,CAAA;AAE/C,MAAMC,WAAW,GAAGT,OAAO,CAACN,KAAK,CAACO,SAAS,CAACS,MAAM,CAAC,CAAA;AAEnD,MAAMC,iBAAiB,GAAGX,OAAO,CAACY,MAAM,CAACX,SAAS,CAACY,WAAW,CAAC,CAAA;AAC/D,MAAMC,cAAc,GAAGd,OAAO,CAACY,MAAM,CAACX,SAAS,CAACc,QAAQ,CAAC,CAAA;AACzD,MAAMC,WAAW,GAAGhB,OAAO,CAACY,MAAM,CAACX,SAAS,CAACgB,KAAK,CAAC,CAAA;AACnD,MAAMC,aAAa,GAAGlB,OAAO,CAACY,MAAM,CAACX,SAAS,CAACkB,OAAO,CAAC,CAAA;AACvD,MAAMC,aAAa,GAAGpB,OAAO,CAACY,MAAM,CAACX,SAAS,CAACoB,OAAO,CAAC,CAAA;AACvD,MAAMC,UAAU,GAAGtB,OAAO,CAACY,MAAM,CAACX,SAAS,CAACsB,IAAI,CAAC,CAAA;AAEjD,MAAMC,oBAAoB,GAAGxB,OAAO,CAACpB,MAAM,CAACqB,SAAS,CAACwB,cAAc,CAAC,CAAA;AAErE,MAAMC,UAAU,GAAG1B,OAAO,CAAC2B,MAAM,CAAC1B,SAAS,CAAC2B,IAAI,CAAC,CAAA;AAEjD,MAAMC,eAAe,GAAGC,WAAW,CAACC,SAAS,CAAC,CAAA;AAE9C;;;;;AAKG;AACH,SAAS/B,OAAOA,CACdZ,IAAyC,EAAA;EAEzC,OAAO,UAACC,OAAY,EAAuB;IACzC,IAAIA,OAAO,YAAYsC,MAAM,EAAE;MAC7BtC,OAAO,CAAC2C,SAAS,GAAG,CAAC,CAAA;AACvB,KAAA;IAAC,KAAAC,IAAAA,KAAA,GAAA1C,SAAA,CAAAC,MAAA,EAHsBC,IAAW,OAAAC,KAAA,CAAAuC,KAAA,GAAAA,CAAAA,GAAAA,KAAA,WAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAXzC,MAAAA,IAAW,CAAAyC,KAAA,GAAA3C,CAAAA,CAAAA,GAAAA,SAAA,CAAA2C,KAAA,CAAA,CAAA;AAAA,KAAA;AAKlC,IAAA,OAAOlD,KAAK,CAACI,IAAI,EAAEC,OAAO,EAAEI,IAAI,CAAC,CAAA;GAClC,CAAA;AACH,CAAA;AAEA;;;;;AAKG;AACH,SAASqC,WAAWA,CAClBlC,IAA+B,EAAA;EAE/B,OAAO,YAAA;AAAA,IAAA,KAAA,IAAAuC,KAAA,GAAA5C,SAAA,CAAAC,MAAA,EAAIC,IAAW,GAAAC,IAAAA,KAAA,CAAAyC,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAX3C,MAAAA,IAAW,CAAA2C,KAAA,CAAA7C,GAAAA,SAAA,CAAA6C,KAAA,CAAA,CAAA;AAAA,KAAA;AAAA,IAAA,OAAQnD,SAAS,CAACW,IAAI,EAAEH,IAAI,CAAC,CAAA;AAAA,GAAA,CAAA;AACrD,CAAA;AAEA;;;;;;;AAOG;AACH,SAAS4C,QAAQA,CACfC,GAAwB,EACxBC,KAAqB,EACoD;AAAA,EAAA,IAAzEC,wFAAwD7B,iBAAiB,CAAA;AAEzE,EAAA,IAAInC,cAAc,EAAE;AAClB;AACA;AACA;AACAA,IAAAA,cAAc,CAAC8D,GAAG,EAAE,IAAI,CAAC,CAAA;AAC3B,GAAA;AAEA,EAAA,IAAIG,CAAC,GAAGF,KAAK,CAAC/C,MAAM,CAAA;EACpB,OAAOiD,CAAC,EAAE,EAAE;AACV,IAAA,IAAIC,OAAO,GAAGH,KAAK,CAACE,CAAC,CAAC,CAAA;AACtB,IAAA,IAAI,OAAOC,OAAO,KAAK,QAAQ,EAAE;AAC/B,MAAA,MAAMC,SAAS,GAAGH,iBAAiB,CAACE,OAAO,CAAC,CAAA;MAC5C,IAAIC,SAAS,KAAKD,OAAO,EAAE;AACzB;AACA,QAAA,IAAI,CAACjE,QAAQ,CAAC8D,KAAK,CAAC,EAAE;AACnBA,UAAAA,KAAe,CAACE,CAAC,CAAC,GAAGE,SAAS,CAAA;AACjC,SAAA;AAEAD,QAAAA,OAAO,GAAGC,SAAS,CAAA;AACrB,OAAA;AACF,KAAA;AAEAL,IAAAA,GAAG,CAACI,OAAO,CAAC,GAAG,IAAI,CAAA;AACrB,GAAA;AAEA,EAAA,OAAOJ,GAAG,CAAA;AACZ,CAAA;AAEA;;;;;AAKG;AACH,SAASM,UAAUA,CAAIL,KAAU,EAAA;AAC/B,EAAA,KAAK,IAAIM,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGN,KAAK,CAAC/C,MAAM,EAAEqD,KAAK,EAAE,EAAE;AACjD,IAAA,MAAMC,eAAe,GAAGtB,oBAAoB,CAACe,KAAK,EAAEM,KAAK,CAAC,CAAA;IAE1D,IAAI,CAACC,eAAe,EAAE;AACpBP,MAAAA,KAAK,CAACM,KAAK,CAAC,GAAG,IAAI,CAAA;AACrB,KAAA;AACF,GAAA;AAEA,EAAA,OAAON,KAAK,CAAA;AACd,CAAA;AAEA;;;;;AAKG;AACH,SAASQ,KAAKA,CAAgCC,MAAS,EAAA;AACrD,EAAA,MAAMC,SAAS,GAAGlE,MAAM,CAAC,IAAI,CAAC,CAAA;EAE9B,KAAK,MAAM,CAACmE,QAAQ,EAAEC,KAAK,CAAC,IAAI5E,OAAO,CAACyE,MAAM,CAAC,EAAE;AAC/C,IAAA,MAAMF,eAAe,GAAGtB,oBAAoB,CAACwB,MAAM,EAAEE,QAAQ,CAAC,CAAA;AAE9D,IAAA,IAAIJ,eAAe,EAAE;AACnB,MAAA,IAAIpD,KAAK,CAAC0D,OAAO,CAACD,KAAK,CAAC,EAAE;AACxBF,QAAAA,SAAS,CAACC,QAAQ,CAAC,GAAGN,UAAU,CAACO,KAAK,CAAC,CAAA;AACzC,OAAC,MAAM,IACLA,KAAK,IACL,OAAOA,KAAK,KAAK,QAAQ,IACzBA,KAAK,CAACE,WAAW,KAAKzE,MAAM,EAC5B;AACAqE,QAAAA,SAAS,CAACC,QAAQ,CAAC,GAAGH,KAAK,CAACI,KAAK,CAAC,CAAA;AACpC,OAAC,MAAM;AACLF,QAAAA,SAAS,CAACC,QAAQ,CAAC,GAAGC,KAAK,CAAA;AAC7B,OAAA;AACF,KAAA;AACF,GAAA;AAEA,EAAA,OAAOF,SAAS,CAAA;AAClB,CAAA;AAEA;;;;;;AAMG;AACH,SAASK,YAAYA,CACnBN,MAAS,EACTO,IAAY,EAAA;EAEZ,OAAOP,MAAM,KAAK,IAAI,EAAE;AACtB,IAAA,MAAMQ,IAAI,GAAG7E,wBAAwB,CAACqE,MAAM,EAAEO,IAAI,CAAC,CAAA;AAEnD,IAAA,IAAIC,IAAI,EAAE;MACR,IAAIA,IAAI,CAACC,GAAG,EAAE;AACZ,QAAA,OAAOzD,OAAO,CAACwD,IAAI,CAACC,GAAG,CAAC,CAAA;AAC1B,OAAA;AAEA,MAAA,IAAI,OAAOD,IAAI,CAACL,KAAK,KAAK,UAAU,EAAE;AACpC,QAAA,OAAOnD,OAAO,CAACwD,IAAI,CAACL,KAAK,CAAC,CAAA;AAC5B,OAAA;AACF,KAAA;AAEAH,IAAAA,MAAM,GAAGtE,cAAc,CAACsE,MAAM,CAAC,CAAA;AACjC,GAAA;EAEA,SAASU,aAAaA,GAAA;AACpB,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AAEA,EAAA,OAAOA,aAAa,CAAA;AACtB;;ACjNO,MAAMC,MAAI,GAAG9E,MAAM,CAAC,CACzB,GAAG,EACH,MAAM,EACN,SAAS,EACT,SAAS,EACT,MAAM,EACN,SAAS,EACT,OAAO,EACP,OAAO,EACP,GAAG,EACH,KAAK,EACL,KAAK,EACL,KAAK,EACL,OAAO,EACP,YAAY,EACZ,MAAM,EACN,IAAI,EACJ,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,QAAQ,EACR,MAAM,EACN,MAAM,EACN,KAAK,EACL,UAAU,EACV,SAAS,EACT,MAAM,EACN,UAAU,EACV,IAAI,EACJ,WAAW,EACX,KAAK,EACL,SAAS,EACT,KAAK,EACL,QAAQ,EACR,KAAK,EACL,KAAK,EACL,IAAI,EACJ,IAAI,EACJ,SAAS,EACT,IAAI,EACJ,UAAU,EACV,YAAY,EACZ,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,MAAM,EACN,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,MAAM,EACN,QAAQ,EACR,QAAQ,EACR,IAAI,EACJ,MAAM,EACN,GAAG,EACH,KAAK,EACL,OAAO,EACP,KAAK,EACL,KAAK,EACL,OAAO,EACP,QAAQ,EACR,IAAI,EACJ,MAAM,EACN,KAAK,EACL,MAAM,EACN,SAAS,EACT,MAAM,EACN,UAAU,EACV,OAAO,EACP,KAAK,EACL,MAAM,EACN,IAAI,EACJ,UAAU,EACV,QAAQ,EACR,QAAQ,EACR,GAAG,EACH,SAAS,EACT,KAAK,EACL,UAAU,EACV,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,MAAM,EACN,GAAG,EACH,MAAM,EACN,QAAQ,EACR,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,OAAO,EACP,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,KAAK,EACL,SAAS,EACT,KAAK,EACL,OAAO,EACP,OAAO,EACP,IAAI,EACJ,UAAU,EACV,UAAU,EACV,OAAO,EACP,IAAI,EACJ,OAAO,EACP,MAAM,EACN,IAAI,EACJ,OAAO,EACP,IAAI,EACJ,GAAG,EACH,IAAI,EACJ,KAAK,EACL,OAAO,EACP,KAAK,CACG,CAAC,CAAA;AAEJ,MAAM+E,KAAG,GAAG/E,MAAM,CAAC,CACxB,KAAK,EACL,GAAG,EACH,UAAU,EACV,aAAa,EACb,cAAc,EACd,cAAc,EACd,eAAe,EACf,kBAAkB,EAClB,QAAQ,EACR,UAAU,EACV,MAAM,EACN,MAAM,EACN,SAAS,EACT,cAAc,EACd,aAAa,EACb,QAAQ,EACR,MAAM,EACN,GAAG,EACH,OAAO,EACP,UAAU,EACV,OAAO,EACP,OAAO,EACP,WAAW,EACX,MAAM,EACN,gBAAgB,EAChB,QAAQ,EACR,MAAM,EACN,UAAU,EACV,OAAO,EACP,MAAM,EACN,MAAM,EACN,SAAS,EACT,SAAS,EACT,UAAU,EACV,gBAAgB,EAChB,MAAM,EACN,MAAM,EACN,OAAO,EACP,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,UAAU,EACV,OAAO,EACP,MAAM,EACN,OAAO,EACP,MAAM,EACN,OAAO,CACC,CAAC,CAAA;AAEJ,MAAMgF,UAAU,GAAGhF,MAAM,CAAC,CAC/B,SAAS,EACT,eAAe,EACf,qBAAqB,EACrB,aAAa,EACb,kBAAkB,EAClB,mBAAmB,EACnB,mBAAmB,EACnB,gBAAgB,EAChB,cAAc,EACd,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,gBAAgB,EAChB,SAAS,EACT,SAAS,EACT,aAAa,EACb,cAAc,EACd,UAAU,EACV,cAAc,EACd,oBAAoB,EACpB,aAAa,EACb,QAAQ,EACR,cAAc,CACN,CAAC,CAAA;AAEX;AACA;AACA;AACA;AACO,MAAMiF,aAAa,GAAGjF,MAAM,CAAC,CAClC,SAAS,EACT,eAAe,EACf,QAAQ,EACR,SAAS,EACT,WAAW,EACX,kBAAkB,EAClB,gBAAgB,EAChB,eAAe,EACf,eAAe,EACf,eAAe,EACf,OAAO,EACP,WAAW,EACX,MAAM,EACN,cAAc,EACd,WAAW,EACX,SAAS,EACT,eAAe,EACf,QAAQ,EACR,KAAK,EACL,YAAY,EACZ,SAAS,EACT,KAAK,CACG,CAAC,CAAA;AAEJ,MAAMkF,QAAM,GAAGlF,MAAM,CAAC,CAC3B,MAAM,EACN,UAAU,EACV,QAAQ,EACR,SAAS,EACT,OAAO,EACP,QAAQ,EACR,IAAI,EACJ,YAAY,EACZ,eAAe,EACf,IAAI,EACJ,IAAI,EACJ,OAAO,EACP,SAAS,EACT,UAAU,EACV,OAAO,EACP,MAAM,EACN,IAAI,EACJ,QAAQ,EACR,OAAO,EACP,QAAQ,EACR,MAAM,EACN,MAAM,EACN,SAAS,EACT,QAAQ,EACR,KAAK,EACL,OAAO,EACP,KAAK,EACL,QAAQ,EACR,YAAY,EACZ,aAAa,CACL,CAAC,CAAA;AAEX;AACA;AACO,MAAMmF,gBAAgB,GAAGnF,MAAM,CAAC,CACrC,SAAS,EACT,aAAa,EACb,YAAY,EACZ,UAAU,EACV,WAAW,EACX,SAAS,EACT,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,WAAW,EACX,YAAY,EACZ,gBAAgB,EAChB,aAAa,EACb,MAAM,CACE,CAAC,CAAA;AAEJ,MAAMoF,IAAI,GAAGpF,MAAM,CAAC,CAAC,OAAO,CAAU,CAAC;;AC1RvC,MAAM8E,IAAI,GAAG9E,MAAM,CAAC,CACzB,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,KAAK,EACL,gBAAgB,EAChB,cAAc,EACd,sBAAsB,EACtB,UAAU,EACV,YAAY,EACZ,SAAS,EACT,QAAQ,EACR,SAAS,EACT,aAAa,EACb,aAAa,EACb,SAAS,EACT,MAAM,EACN,OAAO,EACP,OAAO,EACP,OAAO,EACP,MAAM,EACN,SAAS,EACT,UAAU,EACV,cAAc,EACd,QAAQ,EACR,aAAa,EACb,UAAU,EACV,UAAU,EACV,SAAS,EACT,KAAK,EACL,UAAU,EACV,yBAAyB,EACzB,uBAAuB,EACvB,UAAU,EACV,WAAW,EACX,SAAS,EACT,cAAc,EACd,aAAa,EACb,MAAM,EACN,KAAK,EACL,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,MAAM,EACN,UAAU,EACV,IAAI,EACJ,OAAO,EACP,WAAW,EACX,WAAW,EACX,OAAO,EACP,MAAM,EACN,OAAO,EACP,MAAM,EACN,MAAM,EACN,SAAS,EACT,MAAM,EACN,KAAK,EACL,KAAK,EACL,WAAW,EACX,OAAO,EACP,QAAQ,EACR,KAAK,EACL,WAAW,EACX,UAAU,EACV,OAAO,EACP,MAAM,EACN,OAAO,EACP,SAAS,EACT,YAAY,EACZ,QAAQ,EACR,MAAM,EACN,SAAS,EACT,MAAM,EACN,SAAS,EACT,aAAa,EACb,aAAa,EACb,SAAS,EACT,eAAe,EACf,qBAAqB,EACrB,QAAQ,EACR,SAAS,EACT,SAAS,EACT,YAAY,EACZ,UAAU,EACV,KAAK,EACL,UAAU,EACV,KAAK,EACL,UAAU,EACV,MAAM,EACN,MAAM,EACN,SAAS,EACT,YAAY,EACZ,OAAO,EACP,UAAU,EACV,OAAO,EACP,MAAM,EACN,OAAO,EACP,MAAM,EACN,MAAM,EACN,SAAS,EACT,OAAO,EACP,KAAK,EACL,QAAQ,EACR,MAAM,EACN,OAAO,EACP,SAAS,EACT,UAAU,EACV,OAAO,EACP,WAAW,EACX,MAAM,EACN,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,OAAO,EACP,MAAM,EACN,OAAO,EACP,MAAM,CACE,CAAC,CAAA;AAEJ,MAAM+E,GAAG,GAAG/E,MAAM,CAAC,CACxB,eAAe,EACf,YAAY,EACZ,UAAU,EACV,oBAAoB,EACpB,WAAW,EACX,QAAQ,EACR,eAAe,EACf,eAAe,EACf,SAAS,EACT,eAAe,EACf,gBAAgB,EAChB,OAAO,EACP,MAAM,EACN,IAAI,EACJ,OAAO,EACP,MAAM,EACN,eAAe,EACf,WAAW,EACX,WAAW,EACX,OAAO,EACP,qBAAqB,EACrB,6BAA6B,EAC7B,eAAe,EACf,iBAAiB,EACjB,IAAI,EACJ,IAAI,EACJ,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,iBAAiB,EACjB,WAAW,EACX,SAAS,EACT,SAAS,EACT,KAAK,EACL,UAAU,EACV,WAAW,EACX,KAAK,EACL,UAAU,EACV,MAAM,EACN,cAAc,EACd,WAAW,EACX,QAAQ,EACR,aAAa,EACb,aAAa,EACb,eAAe,EACf,aAAa,EACb,WAAW,EACX,kBAAkB,EAClB,cAAc,EACd,YAAY,EACZ,cAAc,EACd,aAAa,EACb,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,YAAY,EACZ,UAAU,EACV,eAAe,EACf,mBAAmB,EACnB,QAAQ,EACR,MAAM,EACN,IAAI,EACJ,iBAAiB,EACjB,IAAI,EACJ,KAAK,EACL,WAAW,EACX,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,SAAS,EACT,WAAW,EACX,YAAY,EACZ,UAAU,EACV,MAAM,EACN,cAAc,EACd,gBAAgB,EAChB,cAAc,EACd,kBAAkB,EAClB,gBAAgB,EAChB,OAAO,EACP,YAAY,EACZ,YAAY,EACZ,cAAc,EACd,cAAc,EACd,aAAa,EACb,aAAa,EACb,kBAAkB,EAClB,WAAW,EACX,KAAK,EACL,MAAM,EACN,WAAW,EACX,OAAO,EACP,QAAQ,EACR,MAAM,EACN,KAAK,EACL,MAAM,EACN,YAAY,EACZ,QAAQ,EACR,UAAU,EACV,SAAS,EACT,OAAO,EACP,QAAQ,EACR,aAAa,EACb,QAAQ,EACR,UAAU,EACV,aAAa,EACb,MAAM,EACN,YAAY,EACZ,qBAAqB,EACrB,kBAAkB,EAClB,cAAc,EACd,QAAQ,EACR,eAAe,EACf,qBAAqB,EACrB,gBAAgB,EAChB,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,QAAQ,EACR,MAAM,EACN,MAAM,EACN,aAAa,EACb,WAAW,EACX,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,MAAM,EACN,iBAAiB,EACjB,OAAO,EACP,kBAAkB,EAClB,kBAAkB,EAClB,cAAc,EACd,aAAa,EACb,cAAc,EACd,aAAa,EACb,YAAY,EACZ,cAAc,EACd,kBAAkB,EAClB,mBAAmB,EACnB,gBAAgB,EAChB,iBAAiB,EACjB,mBAAmB,EACnB,gBAAgB,EAChB,QAAQ,EACR,cAAc,EACd,OAAO,EACP,cAAc,EACd,gBAAgB,EAChB,UAAU,EACV,aAAa,EACb,SAAS,EACT,SAAS,EACT,WAAW,EACX,kBAAkB,EAClB,aAAa,EACb,iBAAiB,EACjB,gBAAgB,EAChB,YAAY,EACZ,MAAM,EACN,IAAI,EACJ,IAAI,EACJ,SAAS,EACT,QAAQ,EACR,SAAS,EACT,YAAY,EACZ,SAAS,EACT,YAAY,EACZ,eAAe,EACf,eAAe,EACf,OAAO,EACP,cAAc,EACd,MAAM,EACN,cAAc,EACd,kBAAkB,EAClB,kBAAkB,EAClB,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,OAAO,EACP,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,EACH,YAAY,CACJ,CAAC,CAAA;AAEJ,MAAMkF,MAAM,GAAGlF,MAAM,CAAC,CAC3B,QAAQ,EACR,aAAa,EACb,OAAO,EACP,UAAU,EACV,OAAO,EACP,cAAc,EACd,aAAa,EACb,YAAY,EACZ,YAAY,EACZ,OAAO,EACP,KAAK,EACL,SAAS,EACT,cAAc,EACd,UAAU,EACV,OAAO,EACP,OAAO,EACP,QAAQ,EACR,MAAM,EACN,IAAI,EACJ,SAAS,EACT,QAAQ,EACR,eAAe,EACf,QAAQ,EACR,QAAQ,EACR,gBAAgB,EAChB,WAAW,EACX,UAAU,EACV,aAAa,EACb,SAAS,EACT,SAAS,EACT,eAAe,EACf,UAAU,EACV,UAAU,EACV,MAAM,EACN,UAAU,EACV,UAAU,EACV,YAAY,EACZ,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,aAAa,EACb,eAAe,EACf,sBAAsB,EACtB,WAAW,EACX,WAAW,EACX,YAAY,EACZ,UAAU,EACV,gBAAgB,EAChB,gBAAgB,EAChB,WAAW,EACX,SAAS,EACT,OAAO,EACP,OAAO,CACR,CAAC,CAAA;AAEK,MAAMqF,GAAG,GAAGrF,MAAM,CAAC,CACxB,YAAY,EACZ,QAAQ,EACR,aAAa,EACb,WAAW,EACX,aAAa,CACL,CAAC;;ACrXX;AACO,MAAMsF,aAAa,GAAGrF,IAAI,CAAC,2BAA2B,CAAC,CAAC;AACxD,MAAMsF,QAAQ,GAAGtF,IAAI,CAAC,uBAAuB,CAAC,CAAA;AAC9C,MAAMuF,WAAW,GAAGvF,IAAI,CAAC,eAAe,CAAC,CAAC;AAC1C,MAAMwF,SAAS,GAAGxF,IAAI,CAAC,8BAA8B,CAAC,CAAC;AACvD,MAAMyF,SAAS,GAAGzF,IAAI,CAAC,gBAAgB,CAAC,CAAC;AACzC,MAAM0F,cAAc,GAAG1F,IAAI,CAChC,kGAAkG;CACnG,CAAA;AACM,MAAM2F,iBAAiB,GAAG3F,IAAI,CAAC,uBAAuB,CAAC,CAAA;AACvD,MAAM4F,eAAe,GAAG5F,IAAI,CACjC,6DAA6D;CAC9D,CAAA;AACM,MAAM6F,YAAY,GAAG7F,IAAI,CAAC,SAAS,CAAC,CAAA;AACpC,MAAM8F,cAAc,GAAG9F,IAAI,CAAC,0BAA0B,CAAC;;;;;;;;;;;;;;;;AChB9D;AAqCA;AACA,MAAM+F,SAAS,GAAG;AAChBnC,EAAAA,OAAO,EAAE,CAAC;AACVoC,EAAAA,SAAS,EAAE,CAAC;AACZb,EAAAA,IAAI,EAAE,CAAC;AACPc,EAAAA,YAAY,EAAE,CAAC;AACfC,EAAAA,eAAe,EAAE,CAAC;AAAE;AACpBC,EAAAA,UAAU,EAAE,CAAC;AAAE;AACfC,EAAAA,sBAAsB,EAAE,CAAC;AACzBC,EAAAA,OAAO,EAAE,CAAC;AACVC,EAAAA,QAAQ,EAAE,CAAC;AACXC,EAAAA,YAAY,EAAE,EAAE;AAChBC,EAAAA,gBAAgB,EAAE,EAAE;EACpBC,QAAQ,EAAE,EAAE;CACb,CAAA;AAED,MAAMC,SAAS,GAAG,SAAZA,SAASA,GAAG;AAChB,EAAA,OAAO,OAAOC,MAAM,KAAK,WAAW,GAAG,IAAI,GAAGA,MAAM,CAAA;AACtD,CAAC,CAAA;AAED;;;;;;;AAOG;AACH,MAAMC,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAC7BC,YAAsC,EACtCC,iBAAoC,EAAA;EAEpC,IACE,OAAOD,YAAY,KAAK,QAAQ,IAChC,OAAOA,YAAY,CAACE,YAAY,KAAK,UAAU,EAC/C;AACA,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AAEA;AACA;AACA;EACA,IAAIC,MAAM,GAAG,IAAI,CAAA;EACjB,MAAMC,SAAS,GAAG,uBAAuB,CAAA;EACzC,IAAIH,iBAAiB,IAAIA,iBAAiB,CAACI,YAAY,CAACD,SAAS,CAAC,EAAE;AAClED,IAAAA,MAAM,GAAGF,iBAAiB,CAACK,YAAY,CAACF,SAAS,CAAC,CAAA;AACpD,GAAA;EAEA,MAAMG,UAAU,GAAG,WAAW,IAAIJ,MAAM,GAAG,GAAG,GAAGA,MAAM,GAAG,EAAE,CAAC,CAAA;EAE7D,IAAI;AACF,IAAA,OAAOH,YAAY,CAACE,YAAY,CAACK,UAAU,EAAE;MAC3CC,UAAUA,CAACxC,IAAI,EAAA;AACb,QAAA,OAAOA,IAAI,CAAA;OACZ;MACDyC,eAAeA,CAACC,SAAS,EAAA;AACvB,QAAA,OAAOA,SAAS,CAAA;AAClB,OAAA;AACD,KAAA,CAAC,CAAA;GACH,CAAC,OAAOC,CAAC,EAAE;AACV;AACA;AACA;IACAC,OAAO,CAACC,IAAI,CACV,sBAAsB,GAAGN,UAAU,GAAG,wBAAwB,CAC/D,CAAA;AACD,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AACF,CAAC,CAAA;AAED,MAAMO,eAAe,GAAG,SAAlBA,eAAeA,GAAG;EACtB,OAAO;AACLC,IAAAA,uBAAuB,EAAE,EAAE;AAC3BC,IAAAA,qBAAqB,EAAE,EAAE;AACzBC,IAAAA,sBAAsB,EAAE,EAAE;AAC1BC,IAAAA,wBAAwB,EAAE,EAAE;AAC5BC,IAAAA,sBAAsB,EAAE,EAAE;AAC1BC,IAAAA,uBAAuB,EAAE,EAAE;AAC3BC,IAAAA,qBAAqB,EAAE,EAAE;AACzBC,IAAAA,mBAAmB,EAAE,EAAE;AACvBC,IAAAA,sBAAsB,EAAE,EAAA;GACzB,CAAA;AACH,CAAC,CAAA;AAED,SAASC,eAAeA,GAAiC;AAAA,EAAA,IAAhC1B,MAAqB,GAAAlG,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAA6H,CAAAA,CAAAA,KAAAA,SAAA,GAAA7H,SAAA,CAAAiG,CAAAA,CAAAA,GAAAA,SAAS,EAAE,CAAA;AACvD,EAAA,MAAM6B,SAAS,GAAeC,IAAgB,IAAKH,eAAe,CAACG,IAAI,CAAC,CAAA;EAExED,SAAS,CAACE,OAAO,GAAGC,OAAO,CAAA;EAE3BH,SAAS,CAACI,OAAO,GAAG,EAAE,CAAA;EAEtB,IACE,CAAChC,MAAM,IACP,CAACA,MAAM,CAACL,QAAQ,IAChBK,MAAM,CAACL,QAAQ,CAACsC,QAAQ,KAAK7C,SAAS,CAACO,QAAQ,IAC/C,CAACK,MAAM,CAACkC,OAAO,EACf;AACA;AACA;IACAN,SAAS,CAACO,WAAW,GAAG,KAAK,CAAA;AAE7B,IAAA,OAAOP,SAAS,CAAA;AAClB,GAAA;EAEA,IAAI;AAAEjC,IAAAA,QAAAA;AAAU,GAAA,GAAGK,MAAM,CAAA;EAEzB,MAAMoC,gBAAgB,GAAGzC,QAAQ,CAAA;AACjC,EAAA,MAAM0C,aAAa,GACjBD,gBAAgB,CAACC,aAAkC,CAAA;EACrD,MAAM;IACJC,gBAAgB;IAChBC,mBAAmB;IACnBC,IAAI;IACJN,OAAO;IACPO,UAAU;AACVC,IAAAA,YAAY,GAAG1C,MAAM,CAAC0C,YAAY,IAAK1C,MAAc,CAAC2C,eAAe;IACrEC,eAAe;IACfC,SAAS;AACT3C,IAAAA,YAAAA;AACD,GAAA,GAAGF,MAAM,CAAA;AAEV,EAAA,MAAM8C,gBAAgB,GAAGZ,OAAO,CAAC1H,SAAS,CAAA;AAE1C,EAAA,MAAMuI,SAAS,GAAGlF,YAAY,CAACiF,gBAAgB,EAAE,WAAW,CAAC,CAAA;AAC7D,EAAA,MAAME,MAAM,GAAGnF,YAAY,CAACiF,gBAAgB,EAAE,QAAQ,CAAC,CAAA;AACvD,EAAA,MAAMG,cAAc,GAAGpF,YAAY,CAACiF,gBAAgB,EAAE,aAAa,CAAC,CAAA;AACpE,EAAA,MAAMI,aAAa,GAAGrF,YAAY,CAACiF,gBAAgB,EAAE,YAAY,CAAC,CAAA;AAClE,EAAA,MAAMK,aAAa,GAAGtF,YAAY,CAACiF,gBAAgB,EAAE,YAAY,CAAC,CAAA;AAElE;AACA;AACA;AACA;AACA;AACA;AACA,EAAA,IAAI,OAAOP,mBAAmB,KAAK,UAAU,EAAE;AAC7C,IAAA,MAAMa,QAAQ,GAAGzD,QAAQ,CAAC0D,aAAa,CAAC,UAAU,CAAC,CAAA;IACnD,IAAID,QAAQ,CAACE,OAAO,IAAIF,QAAQ,CAACE,OAAO,CAACC,aAAa,EAAE;AACtD5D,MAAAA,QAAQ,GAAGyD,QAAQ,CAACE,OAAO,CAACC,aAAa,CAAA;AAC3C,KAAA;AACF,GAAA;AAEA,EAAA,IAAIC,kBAAkB,CAAA;EACtB,IAAIC,SAAS,GAAG,EAAE,CAAA;EAElB,MAAM;IACJC,cAAc;IACdC,kBAAkB;IAClBC,sBAAsB;AACtBC,IAAAA,oBAAAA;AAAoB,GACrB,GAAGlE,QAAQ,CAAA;EACZ,MAAM;AAAEmE,IAAAA,UAAAA;AAAY,GAAA,GAAG1B,gBAAgB,CAAA;AAEvC,EAAA,IAAI2B,KAAK,GAAG/C,eAAe,EAAE,CAAA;AAE7B;;AAEG;AACHY,EAAAA,SAAS,CAACO,WAAW,GACnB,OAAOrJ,OAAO,KAAK,UAAU,IAC7B,OAAOqK,aAAa,KAAK,UAAU,IACnCO,cAAc,IACdA,cAAc,CAACM,kBAAkB,KAAKrC,SAAS,CAAA;EAEjD,MAAM;IACJjD,aAAa;IACbC,QAAQ;IACRC,WAAW;IACXC,SAAS;IACTC,SAAS;IACTE,iBAAiB;IACjBC,eAAe;AACfE,IAAAA,cAAAA;AACD,GAAA,GAAG8E,WAAW,CAAA;EAEf,IAAI;AAAElF,oBAAAA,gBAAAA;AAAgB,GAAA,GAAGkF,WAAW,CAAA;AAEpC;;;AAGG;AAEH;EACA,IAAIC,YAAY,GAAG,IAAI,CAAA;AACvB,EAAA,MAAMC,oBAAoB,GAAGvH,QAAQ,CAAC,EAAE,EAAE,CACxC,GAAGwH,MAAS,EACZ,GAAGA,KAAQ,EACX,GAAGA,UAAe,EAClB,GAAGA,QAAW,EACd,GAAGA,IAAS,CACb,CAAC,CAAA;AAEF;EACA,IAAIC,YAAY,GAAG,IAAI,CAAA;AACvB,EAAA,MAAMC,oBAAoB,GAAG1H,QAAQ,CAAC,EAAE,EAAE,CACxC,GAAG2H,IAAU,EACb,GAAGA,GAAS,EACZ,GAAGA,MAAY,EACf,GAAGA,GAAS,CACb,CAAC,CAAA;AAEF;;;;;AAKG;EACH,IAAIC,uBAAuB,GAAGrL,MAAM,CAACE,IAAI,CACvCC,MAAM,CAAC,IAAI,EAAE;AACXmL,IAAAA,YAAY,EAAE;AACZC,MAAAA,QAAQ,EAAE,IAAI;AACdC,MAAAA,YAAY,EAAE,KAAK;AACnBC,MAAAA,UAAU,EAAE,IAAI;AAChBlH,MAAAA,KAAK,EAAE,IAAA;KACR;AACDmH,IAAAA,kBAAkB,EAAE;AAClBH,MAAAA,QAAQ,EAAE,IAAI;AACdC,MAAAA,YAAY,EAAE,KAAK;AACnBC,MAAAA,UAAU,EAAE,IAAI;AAChBlH,MAAAA,KAAK,EAAE,IAAA;KACR;AACDoH,IAAAA,8BAA8B,EAAE;AAC9BJ,MAAAA,QAAQ,EAAE,IAAI;AACdC,MAAAA,YAAY,EAAE,KAAK;AACnBC,MAAAA,UAAU,EAAE,IAAI;AAChBlH,MAAAA,KAAK,EAAE,KAAA;AACR,KAAA;AACF,GAAA,CAAC,CACH,CAAA;AAED;EACA,IAAIqH,WAAW,GAAG,IAAI,CAAA;AAEtB;EACA,IAAIC,WAAW,GAAG,IAAI,CAAA;AAEtB;EACA,MAAMC,sBAAsB,GAAG9L,MAAM,CAACE,IAAI,CACxCC,MAAM,CAAC,IAAI,EAAE;AACX4L,IAAAA,QAAQ,EAAE;AACRR,MAAAA,QAAQ,EAAE,IAAI;AACdC,MAAAA,YAAY,EAAE,KAAK;AACnBC,MAAAA,UAAU,EAAE,IAAI;AAChBlH,MAAAA,KAAK,EAAE,IAAA;KACR;AACDyH,IAAAA,cAAc,EAAE;AACdT,MAAAA,QAAQ,EAAE,IAAI;AACdC,MAAAA,YAAY,EAAE,KAAK;AACnBC,MAAAA,UAAU,EAAE,IAAI;AAChBlH,MAAAA,KAAK,EAAE,IAAA;AACR,KAAA;AACF,GAAA,CAAC,CACH,CAAA;AAED;EACA,IAAI0H,eAAe,GAAG,IAAI,CAAA;AAE1B;EACA,IAAIC,eAAe,GAAG,IAAI,CAAA;AAE1B;EACA,IAAIC,uBAAuB,GAAG,KAAK,CAAA;AAEnC;AACuD;EACvD,IAAIC,wBAAwB,GAAG,IAAI,CAAA;AAEnC;;AAEG;EACH,IAAIC,kBAAkB,GAAG,KAAK,CAAA;AAE9B;;AAEG;EACH,IAAIC,YAAY,GAAG,IAAI,CAAA;AAEvB;EACA,IAAIC,cAAc,GAAG,KAAK,CAAA;AAE1B;EACA,IAAIC,UAAU,GAAG,KAAK,CAAA;AAEtB;AAC0E;EAC1E,IAAIC,UAAU,GAAG,KAAK,CAAA;AAEtB;;;AAGG;EACH,IAAIC,UAAU,GAAG,KAAK,CAAA;AAEtB;AACsE;EACtE,IAAIC,mBAAmB,GAAG,KAAK,CAAA;AAE/B;AAC2C;EAC3C,IAAIC,mBAAmB,GAAG,KAAK,CAAA;AAE/B;;AAEG;EACH,IAAIC,YAAY,GAAG,IAAI,CAAA;AAEvB;;;;;;;;;;;;AAYG;EACH,IAAIC,oBAAoB,GAAG,KAAK,CAAA;EAChC,MAAMC,2BAA2B,GAAG,eAAe,CAAA;AAEnD;EACA,IAAIC,YAAY,GAAG,IAAI,CAAA;AAEvB;AACwE;EACxE,IAAIC,QAAQ,GAAG,KAAK,CAAA;AAEpB;EACA,IAAIC,YAAY,GAA8B,EAAE,CAAA;AAEhD;EACA,IAAIC,eAAe,GAAG,IAAI,CAAA;EAC1B,MAAMC,uBAAuB,GAAG3J,QAAQ,CAAC,EAAE,EAAE,CAC3C,gBAAgB,EAChB,OAAO,EACP,UAAU,EACV,MAAM,EACN,eAAe,EACf,MAAM,EACN,QAAQ,EACR,MAAM,EACN,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,OAAO,EACP,SAAS,EACT,UAAU,EACV,UAAU,EACV,WAAW,EACX,QAAQ,EACR,OAAO,EACP,KAAK,EACL,UAAU,EACV,OAAO,EACP,OAAO,EACP,OAAO,EACP,KAAK,CACN,CAAC,CAAA;AAEF;EACA,IAAI4J,aAAa,GAAG,IAAI,CAAA;EACxB,MAAMC,qBAAqB,GAAG7J,QAAQ,CAAC,EAAE,EAAE,CACzC,OAAO,EACP,OAAO,EACP,KAAK,EACL,QAAQ,EACR,OAAO,EACP,OAAO,CACR,CAAC,CAAA;AAEF;EACA,IAAI8J,mBAAmB,GAAG,IAAI,CAAA;AAC9B,EAAA,MAAMC,2BAA2B,GAAG/J,QAAQ,CAAC,EAAE,EAAE,CAC/C,KAAK,EACL,OAAO,EACP,KAAK,EACL,IAAI,EACJ,OAAO,EACP,MAAM,EACN,SAAS,EACT,aAAa,EACb,MAAM,EACN,SAAS,EACT,OAAO,EACP,OAAO,EACP,OAAO,EACP,OAAO,CACR,CAAC,CAAA;EAEF,MAAMgK,gBAAgB,GAAG,oCAAoC,CAAA;EAC7D,MAAMC,aAAa,GAAG,4BAA4B,CAAA;EAClD,MAAMC,cAAc,GAAG,8BAA8B,CAAA;AACrD;EACA,IAAIC,SAAS,GAAGD,cAAc,CAAA;EAC9B,IAAIE,cAAc,GAAG,KAAK,CAAA;AAE1B;EACA,IAAIC,kBAAkB,GAAG,IAAI,CAAA;AAC7B,EAAA,MAAMC,0BAA0B,GAAGtK,QAAQ,CACzC,EAAE,EACF,CAACgK,gBAAgB,EAAEC,aAAa,EAAEC,cAAc,CAAC,EACjDzL,cAAc,CACf,CAAA;AAED,EAAA,IAAI8L,8BAA8B,GAAGvK,QAAQ,CAAC,EAAE,EAAE,CAChD,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,OAAO,CACR,CAAC,CAAA;EAEF,IAAIwK,uBAAuB,GAAGxK,QAAQ,CAAC,EAAE,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAA;AAE9D;AACA;AACA;AACA;AACA,EAAA,MAAMyK,4BAA4B,GAAGzK,QAAQ,CAAC,EAAE,EAAE,CAChD,OAAO,EACP,OAAO,EACP,MAAM,EACN,GAAG,EACH,QAAQ,CACT,CAAC,CAAA;AAEF;EACA,IAAI0K,iBAAiB,GAAkC,IAAI,CAAA;AAC3D,EAAA,MAAMC,4BAA4B,GAAG,CAAC,uBAAuB,EAAE,WAAW,CAAC,CAAA;EAC3E,MAAMC,yBAAyB,GAAG,WAAW,CAAA;EAC7C,IAAIzK,iBAAiB,GAA0C,IAAI,CAAA;AAEnE;EACA,IAAI0K,MAAM,GAAkB,IAAI,CAAA;AAEhC;AACA;AAEA,EAAA,MAAMC,WAAW,GAAG/H,QAAQ,CAAC0D,aAAa,CAAC,MAAM,CAAC,CAAA;AAElD,EAAA,MAAMsE,iBAAiB,GAAG,SAApBA,iBAAiBA,CACrBC,SAAkB,EAAA;AAElB,IAAA,OAAOA,SAAS,YAAY1L,MAAM,IAAI0L,SAAS,YAAYC,QAAQ,CAAA;GACpE,CAAA;AAED;;;;AAIG;AACH;AACA,EAAA,MAAMC,YAAY,GAAG,SAAfA,YAAYA,GAA6B;AAAA,IAAA,IAAhBC,GAAA,GAAAjO,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAA6H,SAAA,GAAA7H,SAAA,CAAA,CAAA,CAAA,GAAc,EAAE,CAAA;AAC7C,IAAA,IAAI2N,MAAM,IAAIA,MAAM,KAAKM,GAAG,EAAE;AAC5B,MAAA,OAAA;AACF,KAAA;AAEA;AACA,IAAA,IAAI,CAACA,GAAG,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;MACnCA,GAAG,GAAG,EAAE,CAAA;AACV,KAAA;AAEA;AACAA,IAAAA,GAAG,GAAGzK,KAAK,CAACyK,GAAG,CAAC,CAAA;IAEhBT,iBAAiB;AACf;AACAC,IAAAA,4BAA4B,CAAC3L,OAAO,CAACmM,GAAG,CAACT,iBAAiB,CAAC,KAAK,CAAC,CAAC,GAC9DE,yBAAyB,GACzBO,GAAG,CAACT,iBAAiB,CAAA;AAE3B;AACAvK,IAAAA,iBAAiB,GACfuK,iBAAiB,KAAK,uBAAuB,GACzCjM,cAAc,GACdH,iBAAiB,CAAA;AAEvB;IACAgJ,YAAY,GAAGnI,oBAAoB,CAACgM,GAAG,EAAE,cAAc,CAAC,GACpDnL,QAAQ,CAAC,EAAE,EAAEmL,GAAG,CAAC7D,YAAY,EAAEnH,iBAAiB,CAAC,GACjDoH,oBAAoB,CAAA;IACxBE,YAAY,GAAGtI,oBAAoB,CAACgM,GAAG,EAAE,cAAc,CAAC,GACpDnL,QAAQ,CAAC,EAAE,EAAEmL,GAAG,CAAC1D,YAAY,EAAEtH,iBAAiB,CAAC,GACjDuH,oBAAoB,CAAA;IACxB2C,kBAAkB,GAAGlL,oBAAoB,CAACgM,GAAG,EAAE,oBAAoB,CAAC,GAChEnL,QAAQ,CAAC,EAAE,EAAEmL,GAAG,CAACd,kBAAkB,EAAE5L,cAAc,CAAC,GACpD6L,0BAA0B,CAAA;IAC9BR,mBAAmB,GAAG3K,oBAAoB,CAACgM,GAAG,EAAE,mBAAmB,CAAC,GAChEnL,QAAQ,CACNU,KAAK,CAACqJ,2BAA2B,CAAC,EAClCoB,GAAG,CAACC,iBAAiB,EACrBjL,iBAAiB,CAClB,GACD4J,2BAA2B,CAAA;IAC/BH,aAAa,GAAGzK,oBAAoB,CAACgM,GAAG,EAAE,mBAAmB,CAAC,GAC1DnL,QAAQ,CACNU,KAAK,CAACmJ,qBAAqB,CAAC,EAC5BsB,GAAG,CAACE,iBAAiB,EACrBlL,iBAAiB,CAClB,GACD0J,qBAAqB,CAAA;IACzBH,eAAe,GAAGvK,oBAAoB,CAACgM,GAAG,EAAE,iBAAiB,CAAC,GAC1DnL,QAAQ,CAAC,EAAE,EAAEmL,GAAG,CAACzB,eAAe,EAAEvJ,iBAAiB,CAAC,GACpDwJ,uBAAuB,CAAA;IAC3BxB,WAAW,GAAGhJ,oBAAoB,CAACgM,GAAG,EAAE,aAAa,CAAC,GAClDnL,QAAQ,CAAC,EAAE,EAAEmL,GAAG,CAAChD,WAAW,EAAEhI,iBAAiB,CAAC,GAChDO,KAAK,CAAC,EAAE,CAAC,CAAA;IACb0H,WAAW,GAAGjJ,oBAAoB,CAACgM,GAAG,EAAE,aAAa,CAAC,GAClDnL,QAAQ,CAAC,EAAE,EAAEmL,GAAG,CAAC/C,WAAW,EAAEjI,iBAAiB,CAAC,GAChDO,KAAK,CAAC,EAAE,CAAC,CAAA;AACb+I,IAAAA,YAAY,GAAGtK,oBAAoB,CAACgM,GAAG,EAAE,cAAc,CAAC,GACpDA,GAAG,CAAC1B,YAAY,GAChB,KAAK,CAAA;AACTjB,IAAAA,eAAe,GAAG2C,GAAG,CAAC3C,eAAe,KAAK,KAAK,CAAC;AAChDC,IAAAA,eAAe,GAAG0C,GAAG,CAAC1C,eAAe,KAAK,KAAK,CAAC;AAChDC,IAAAA,uBAAuB,GAAGyC,GAAG,CAACzC,uBAAuB,IAAI,KAAK,CAAC;AAC/DC,IAAAA,wBAAwB,GAAGwC,GAAG,CAACxC,wBAAwB,KAAK,KAAK,CAAC;AAClEC,IAAAA,kBAAkB,GAAGuC,GAAG,CAACvC,kBAAkB,IAAI,KAAK,CAAC;AACrDC,IAAAA,YAAY,GAAGsC,GAAG,CAACtC,YAAY,KAAK,KAAK,CAAC;AAC1CC,IAAAA,cAAc,GAAGqC,GAAG,CAACrC,cAAc,IAAI,KAAK,CAAC;AAC7CG,IAAAA,UAAU,GAAGkC,GAAG,CAAClC,UAAU,IAAI,KAAK,CAAC;AACrCC,IAAAA,mBAAmB,GAAGiC,GAAG,CAACjC,mBAAmB,IAAI,KAAK,CAAC;AACvDC,IAAAA,mBAAmB,GAAGgC,GAAG,CAAChC,mBAAmB,IAAI,KAAK,CAAC;AACvDH,IAAAA,UAAU,GAAGmC,GAAG,CAACnC,UAAU,IAAI,KAAK,CAAC;AACrCI,IAAAA,YAAY,GAAG+B,GAAG,CAAC/B,YAAY,KAAK,KAAK,CAAC;AAC1CC,IAAAA,oBAAoB,GAAG8B,GAAG,CAAC9B,oBAAoB,IAAI,KAAK,CAAC;AACzDE,IAAAA,YAAY,GAAG4B,GAAG,CAAC5B,YAAY,KAAK,KAAK,CAAC;AAC1CC,IAAAA,QAAQ,GAAG2B,GAAG,CAAC3B,QAAQ,IAAI,KAAK,CAAC;AACjCrH,IAAAA,gBAAc,GAAGgJ,GAAG,CAACG,kBAAkB,IAAIjE,cAA0B,CAAA;AACrE8C,IAAAA,SAAS,GAAGgB,GAAG,CAAChB,SAAS,IAAID,cAAc,CAAA;AAC3CK,IAAAA,8BAA8B,GAC5BY,GAAG,CAACZ,8BAA8B,IAAIA,8BAA8B,CAAA;AACtEC,IAAAA,uBAAuB,GACrBW,GAAG,CAACX,uBAAuB,IAAIA,uBAAuB,CAAA;AAExD5C,IAAAA,uBAAuB,GAAGuD,GAAG,CAACvD,uBAAuB,IAAI,EAAE,CAAA;AAC3D,IAAA,IACEuD,GAAG,CAACvD,uBAAuB,IAC3BmD,iBAAiB,CAACI,GAAG,CAACvD,uBAAuB,CAACC,YAAY,CAAC,EAC3D;AACAD,MAAAA,uBAAuB,CAACC,YAAY,GAClCsD,GAAG,CAACvD,uBAAuB,CAACC,YAAY,CAAA;AAC5C,KAAA;AAEA,IAAA,IACEsD,GAAG,CAACvD,uBAAuB,IAC3BmD,iBAAiB,CAACI,GAAG,CAACvD,uBAAuB,CAACK,kBAAkB,CAAC,EACjE;AACAL,MAAAA,uBAAuB,CAACK,kBAAkB,GACxCkD,GAAG,CAACvD,uBAAuB,CAACK,kBAAkB,CAAA;AAClD,KAAA;AAEA,IAAA,IACEkD,GAAG,CAACvD,uBAAuB,IAC3B,OAAOuD,GAAG,CAACvD,uBAAuB,CAACM,8BAA8B,KAC/D,SAAS,EACX;AACAN,MAAAA,uBAAuB,CAACM,8BAA8B,GACpDiD,GAAG,CAACvD,uBAAuB,CAACM,8BAA8B,CAAA;AAC9D,KAAA;AAEA,IAAA,IAAIU,kBAAkB,EAAE;AACtBH,MAAAA,eAAe,GAAG,KAAK,CAAA;AACzB,KAAA;AAEA,IAAA,IAAIS,mBAAmB,EAAE;AACvBD,MAAAA,UAAU,GAAG,IAAI,CAAA;AACnB,KAAA;AAEA;AACA,IAAA,IAAIQ,YAAY,EAAE;MAChBnC,YAAY,GAAGtH,QAAQ,CAAC,EAAE,EAAEwH,IAAS,CAAC,CAAA;AACtCC,MAAAA,YAAY,GAAG,EAAE,CAAA;AACjB,MAAA,IAAIgC,YAAY,CAACnI,IAAI,KAAK,IAAI,EAAE;AAC9BtB,QAAAA,QAAQ,CAACsH,YAAY,EAAEE,MAAS,CAAC,CAAA;AACjCxH,QAAAA,QAAQ,CAACyH,YAAY,EAAEE,IAAU,CAAC,CAAA;AACpC,OAAA;AAEA,MAAA,IAAI8B,YAAY,CAAClI,GAAG,KAAK,IAAI,EAAE;AAC7BvB,QAAAA,QAAQ,CAACsH,YAAY,EAAEE,KAAQ,CAAC,CAAA;AAChCxH,QAAAA,QAAQ,CAACyH,YAAY,EAAEE,GAAS,CAAC,CAAA;AACjC3H,QAAAA,QAAQ,CAACyH,YAAY,EAAEE,GAAS,CAAC,CAAA;AACnC,OAAA;AAEA,MAAA,IAAI8B,YAAY,CAACjI,UAAU,KAAK,IAAI,EAAE;AACpCxB,QAAAA,QAAQ,CAACsH,YAAY,EAAEE,UAAe,CAAC,CAAA;AACvCxH,QAAAA,QAAQ,CAACyH,YAAY,EAAEE,GAAS,CAAC,CAAA;AACjC3H,QAAAA,QAAQ,CAACyH,YAAY,EAAEE,GAAS,CAAC,CAAA;AACnC,OAAA;AAEA,MAAA,IAAI8B,YAAY,CAAC/H,MAAM,KAAK,IAAI,EAAE;AAChC1B,QAAAA,QAAQ,CAACsH,YAAY,EAAEE,QAAW,CAAC,CAAA;AACnCxH,QAAAA,QAAQ,CAACyH,YAAY,EAAEE,MAAY,CAAC,CAAA;AACpC3H,QAAAA,QAAQ,CAACyH,YAAY,EAAEE,GAAS,CAAC,CAAA;AACnC,OAAA;AACF,KAAA;AAEA;IACA,IAAIwD,GAAG,CAACI,QAAQ,EAAE;AAChB,MAAA,IAAI,OAAOJ,GAAG,CAACI,QAAQ,KAAK,UAAU,EAAE;AACtClD,QAAAA,sBAAsB,CAACC,QAAQ,GAAG6C,GAAG,CAACI,QAAQ,CAAA;AAChD,OAAC,MAAM;QACL,IAAIjE,YAAY,KAAKC,oBAAoB,EAAE;AACzCD,UAAAA,YAAY,GAAG5G,KAAK,CAAC4G,YAAY,CAAC,CAAA;AACpC,SAAA;QAEAtH,QAAQ,CAACsH,YAAY,EAAE6D,GAAG,CAACI,QAAQ,EAAEpL,iBAAiB,CAAC,CAAA;AACzD,OAAA;AACF,KAAA;IAEA,IAAIgL,GAAG,CAACK,QAAQ,EAAE;AAChB,MAAA,IAAI,OAAOL,GAAG,CAACK,QAAQ,KAAK,UAAU,EAAE;AACtCnD,QAAAA,sBAAsB,CAACE,cAAc,GAAG4C,GAAG,CAACK,QAAQ,CAAA;AACtD,OAAC,MAAM;QACL,IAAI/D,YAAY,KAAKC,oBAAoB,EAAE;AACzCD,UAAAA,YAAY,GAAG/G,KAAK,CAAC+G,YAAY,CAAC,CAAA;AACpC,SAAA;QAEAzH,QAAQ,CAACyH,YAAY,EAAE0D,GAAG,CAACK,QAAQ,EAAErL,iBAAiB,CAAC,CAAA;AACzD,OAAA;AACF,KAAA;IAEA,IAAIgL,GAAG,CAACC,iBAAiB,EAAE;MACzBpL,QAAQ,CAAC8J,mBAAmB,EAAEqB,GAAG,CAACC,iBAAiB,EAAEjL,iBAAiB,CAAC,CAAA;AACzE,KAAA;IAEA,IAAIgL,GAAG,CAACzB,eAAe,EAAE;MACvB,IAAIA,eAAe,KAAKC,uBAAuB,EAAE;AAC/CD,QAAAA,eAAe,GAAGhJ,KAAK,CAACgJ,eAAe,CAAC,CAAA;AAC1C,OAAA;MAEA1J,QAAQ,CAAC0J,eAAe,EAAEyB,GAAG,CAACzB,eAAe,EAAEvJ,iBAAiB,CAAC,CAAA;AACnE,KAAA;IAEA,IAAIgL,GAAG,CAACM,mBAAmB,EAAE;MAC3B,IAAI/B,eAAe,KAAKC,uBAAuB,EAAE;AAC/CD,QAAAA,eAAe,GAAGhJ,KAAK,CAACgJ,eAAe,CAAC,CAAA;AAC1C,OAAA;MAEA1J,QAAQ,CAAC0J,eAAe,EAAEyB,GAAG,CAACM,mBAAmB,EAAEtL,iBAAiB,CAAC,CAAA;AACvE,KAAA;AAEA;AACA,IAAA,IAAIoJ,YAAY,EAAE;AAChBjC,MAAAA,YAAY,CAAC,OAAO,CAAC,GAAG,IAAI,CAAA;AAC9B,KAAA;AAEA;AACA,IAAA,IAAIwB,cAAc,EAAE;MAClB9I,QAAQ,CAACsH,YAAY,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC,CAAA;AAClD,KAAA;AAEA;IACA,IAAIA,YAAY,CAACoE,KAAK,EAAE;AACtB1L,MAAAA,QAAQ,CAACsH,YAAY,EAAE,CAAC,OAAO,CAAC,CAAC,CAAA;MACjC,OAAOa,WAAW,CAACwD,KAAK,CAAA;AAC1B,KAAA;IAEA,IAAIR,GAAG,CAACS,oBAAoB,EAAE;MAC5B,IAAI,OAAOT,GAAG,CAACS,oBAAoB,CAAC9H,UAAU,KAAK,UAAU,EAAE;QAC7D,MAAMtE,eAAe,CACnB,6EAA6E,CAC9E,CAAA;AACH,OAAA;MAEA,IAAI,OAAO2L,GAAG,CAACS,oBAAoB,CAAC7H,eAAe,KAAK,UAAU,EAAE;QAClE,MAAMvE,eAAe,CACnB,kFAAkF,CACnF,CAAA;AACH,OAAA;AAEA;MACAoH,kBAAkB,GAAGuE,GAAG,CAACS,oBAAoB,CAAA;AAE7C;AACA/E,MAAAA,SAAS,GAAGD,kBAAkB,CAAC9C,UAAU,CAAC,EAAE,CAAC,CAAA;AAC/C,KAAC,MAAM;AACL;MACA,IAAI8C,kBAAkB,KAAK7B,SAAS,EAAE;AACpC6B,QAAAA,kBAAkB,GAAGvD,yBAAyB,CAC5CC,YAAY,EACZmC,aAAa,CACd,CAAA;AACH,OAAA;AAEA;MACA,IAAImB,kBAAkB,KAAK,IAAI,IAAI,OAAOC,SAAS,KAAK,QAAQ,EAAE;AAChEA,QAAAA,SAAS,GAAGD,kBAAkB,CAAC9C,UAAU,CAAC,EAAE,CAAC,CAAA;AAC/C,OAAA;AACF,KAAA;AAEA;AACA;AACA,IAAA,IAAItH,MAAM,EAAE;MACVA,MAAM,CAAC2O,GAAG,CAAC,CAAA;AACb,KAAA;AAEAN,IAAAA,MAAM,GAAGM,GAAG,CAAA;GACb,CAAA;AAED;;AAEgB;EAChB,MAAMU,YAAY,GAAG7L,QAAQ,CAAC,EAAE,EAAE,CAChC,GAAGwH,KAAQ,EACX,GAAGA,UAAe,EAClB,GAAGA,aAAkB,CACtB,CAAC,CAAA;AACF,EAAA,MAAMsE,eAAe,GAAG9L,QAAQ,CAAC,EAAE,EAAE,CACnC,GAAGwH,QAAW,EACd,GAAGA,gBAAqB,CACzB,CAAC,CAAA;AAEF;;;;;AAKG;AACH,EAAA,MAAMuE,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAa1L,OAAgB,EAAA;AACrD,IAAA,IAAI2L,MAAM,GAAGzF,aAAa,CAAClG,OAAO,CAAC,CAAA;AAEnC;AACA;AACA,IAAA,IAAI,CAAC2L,MAAM,IAAI,CAACA,MAAM,CAACC,OAAO,EAAE;AAC9BD,MAAAA,MAAM,GAAG;AACPE,QAAAA,YAAY,EAAE/B,SAAS;AACvB8B,QAAAA,OAAO,EAAE,UAAA;OACV,CAAA;AACH,KAAA;AAEA,IAAA,MAAMA,OAAO,GAAG3N,iBAAiB,CAAC+B,OAAO,CAAC4L,OAAO,CAAC,CAAA;AAClD,IAAA,MAAME,aAAa,GAAG7N,iBAAiB,CAAC0N,MAAM,CAACC,OAAO,CAAC,CAAA;AAEvD,IAAA,IAAI,CAAC5B,kBAAkB,CAAChK,OAAO,CAAC6L,YAAY,CAAC,EAAE;AAC7C,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;AAEA,IAAA,IAAI7L,OAAO,CAAC6L,YAAY,KAAKjC,aAAa,EAAE;AAC1C;AACA;AACA;AACA,MAAA,IAAI+B,MAAM,CAACE,YAAY,KAAKhC,cAAc,EAAE;QAC1C,OAAO+B,OAAO,KAAK,KAAK,CAAA;AAC1B,OAAA;AAEA;AACA;AACA;AACA,MAAA,IAAID,MAAM,CAACE,YAAY,KAAKlC,gBAAgB,EAAE;AAC5C,QAAA,OACEiC,OAAO,KAAK,KAAK,KAChBE,aAAa,KAAK,gBAAgB,IACjC5B,8BAA8B,CAAC4B,aAAa,CAAC,CAAC,CAAA;AAEpD,OAAA;AAEA;AACA;AACA,MAAA,OAAOC,OAAO,CAACP,YAAY,CAACI,OAAO,CAAC,CAAC,CAAA;AACvC,KAAA;AAEA,IAAA,IAAI5L,OAAO,CAAC6L,YAAY,KAAKlC,gBAAgB,EAAE;AAC7C;AACA;AACA;AACA,MAAA,IAAIgC,MAAM,CAACE,YAAY,KAAKhC,cAAc,EAAE;QAC1C,OAAO+B,OAAO,KAAK,MAAM,CAAA;AAC3B,OAAA;AAEA;AACA;AACA,MAAA,IAAID,MAAM,CAACE,YAAY,KAAKjC,aAAa,EAAE;AACzC,QAAA,OAAOgC,OAAO,KAAK,MAAM,IAAIzB,uBAAuB,CAAC2B,aAAa,CAAC,CAAA;AACrE,OAAA;AAEA;AACA;AACA,MAAA,OAAOC,OAAO,CAACN,eAAe,CAACG,OAAO,CAAC,CAAC,CAAA;AAC1C,KAAA;AAEA,IAAA,IAAI5L,OAAO,CAAC6L,YAAY,KAAKhC,cAAc,EAAE;AAC3C;AACA;AACA;MACA,IACE8B,MAAM,CAACE,YAAY,KAAKjC,aAAa,IACrC,CAACO,uBAAuB,CAAC2B,aAAa,CAAC,EACvC;AACA,QAAA,OAAO,KAAK,CAAA;AACd,OAAA;MAEA,IACEH,MAAM,CAACE,YAAY,KAAKlC,gBAAgB,IACxC,CAACO,8BAA8B,CAAC4B,aAAa,CAAC,EAC9C;AACA,QAAA,OAAO,KAAK,CAAA;AACd,OAAA;AAEA;AACA;AACA,MAAA,OACE,CAACL,eAAe,CAACG,OAAO,CAAC,KACxBxB,4BAA4B,CAACwB,OAAO,CAAC,IAAI,CAACJ,YAAY,CAACI,OAAO,CAAC,CAAC,CAAA;AAErE,KAAA;AAEA;IACA,IACEvB,iBAAiB,KAAK,uBAAuB,IAC7CL,kBAAkB,CAAChK,OAAO,CAAC6L,YAAY,CAAC,EACxC;AACA,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA;AACA;AACA;AACA;AACA,IAAA,OAAO,KAAK,CAAA;GACb,CAAA;AAED;;;;AAIG;AACH,EAAA,MAAMG,YAAY,GAAG,SAAfA,YAAYA,CAAaC,IAAU,EAAA;AACvCpO,IAAAA,SAAS,CAAC8G,SAAS,CAACI,OAAO,EAAE;AAAE/E,MAAAA,OAAO,EAAEiM,IAAAA;AAAM,KAAA,CAAC,CAAA;IAE/C,IAAI;AACF;AACA/F,MAAAA,aAAa,CAAC+F,IAAI,CAAC,CAACC,WAAW,CAACD,IAAI,CAAC,CAAA;KACtC,CAAC,OAAOrI,CAAC,EAAE;MACVmC,MAAM,CAACkG,IAAI,CAAC,CAAA;AACd,KAAA;GACD,CAAA;AAED;;;;;AAKG;EACH,MAAME,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAaC,IAAY,EAAEpM,OAAgB,EAAA;IAC/D,IAAI;AACFnC,MAAAA,SAAS,CAAC8G,SAAS,CAACI,OAAO,EAAE;AAC3B3C,QAAAA,SAAS,EAAEpC,OAAO,CAACqM,gBAAgB,CAACD,IAAI,CAAC;AACzCE,QAAAA,IAAI,EAAEtM,OAAAA;AACP,OAAA,CAAC,CAAA;KACH,CAAC,OAAO4D,CAAC,EAAE;AACV/F,MAAAA,SAAS,CAAC8G,SAAS,CAACI,OAAO,EAAE;AAC3B3C,QAAAA,SAAS,EAAE,IAAI;AACfkK,QAAAA,IAAI,EAAEtM,OAAAA;AACP,OAAA,CAAC,CAAA;AACJ,KAAA;AAEAA,IAAAA,OAAO,CAACuM,eAAe,CAACH,IAAI,CAAC,CAAA;AAE7B;IACA,IAAIA,IAAI,KAAK,IAAI,EAAE;MACjB,IAAIxD,UAAU,IAAIC,mBAAmB,EAAE;QACrC,IAAI;UACFmD,YAAY,CAAChM,OAAO,CAAC,CAAA;AACvB,SAAC,CAAC,OAAO4D,CAAC,EAAE,EAAC;AACf,OAAC,MAAM;QACL,IAAI;AACF5D,UAAAA,OAAO,CAACwM,YAAY,CAACJ,IAAI,EAAE,EAAE,CAAC,CAAA;AAChC,SAAC,CAAC,OAAOxI,CAAC,EAAE,EAAC;AACf,OAAA;AACF,KAAA;GACD,CAAA;AAED;;;;;AAKG;AACH,EAAA,MAAM6I,aAAa,GAAG,SAAhBA,aAAaA,CAAaC,KAAa,EAAA;AAC3C;IACA,IAAIC,GAAG,GAAG,IAAI,CAAA;IACd,IAAIC,iBAAiB,GAAG,IAAI,CAAA;AAE5B,IAAA,IAAIjE,UAAU,EAAE;MACd+D,KAAK,GAAG,mBAAmB,GAAGA,KAAK,CAAA;AACrC,KAAC,MAAM;AACL;AACA,MAAA,MAAMG,OAAO,GAAGvO,WAAW,CAACoO,KAAK,EAAE,aAAa,CAAC,CAAA;AACjDE,MAAAA,iBAAiB,GAAGC,OAAO,IAAIA,OAAO,CAAC,CAAC,CAAC,CAAA;AAC3C,KAAA;AAEA,IAAA,IACExC,iBAAiB,KAAK,uBAAuB,IAC7CP,SAAS,KAAKD,cAAc,EAC5B;AACA;AACA6C,MAAAA,KAAK,GACH,gEAAgE,GAChEA,KAAK,GACL,gBAAgB,CAAA;AACpB,KAAA;IAEA,MAAMI,YAAY,GAAGvG,kBAAkB,GACnCA,kBAAkB,CAAC9C,UAAU,CAACiJ,KAAK,CAAC,GACpCA,KAAK,CAAA;AACT;;;AAGG;IACH,IAAI5C,SAAS,KAAKD,cAAc,EAAE;MAChC,IAAI;QACF8C,GAAG,GAAG,IAAI/G,SAAS,EAAE,CAACmH,eAAe,CAACD,YAAY,EAAEzC,iBAAiB,CAAC,CAAA;AACxE,OAAC,CAAC,OAAOzG,CAAC,EAAE,EAAC;AACf,KAAA;AAEA;AACA,IAAA,IAAI,CAAC+I,GAAG,IAAI,CAACA,GAAG,CAACK,eAAe,EAAE;MAChCL,GAAG,GAAGlG,cAAc,CAACwG,cAAc,CAACnD,SAAS,EAAE,UAAU,EAAE,IAAI,CAAC,CAAA;MAChE,IAAI;QACF6C,GAAG,CAACK,eAAe,CAACE,SAAS,GAAGnD,cAAc,GAC1CvD,SAAS,GACTsG,YAAY,CAAA;OACjB,CAAC,OAAOlJ,CAAC,EAAE;AACV;AAAA,OAAA;AAEJ,KAAA;IAEA,MAAMuJ,IAAI,GAAGR,GAAG,CAACQ,IAAI,IAAIR,GAAG,CAACK,eAAe,CAAA;IAE5C,IAAIN,KAAK,IAAIE,iBAAiB,EAAE;AAC9BO,MAAAA,IAAI,CAACC,YAAY,CACf1K,QAAQ,CAAC2K,cAAc,CAACT,iBAAiB,CAAC,EAC1CO,IAAI,CAACG,UAAU,CAAC,CAAC,CAAC,IAAI,IAAI,CAC3B,CAAA;AACH,KAAA;AAEA;IACA,IAAIxD,SAAS,KAAKD,cAAc,EAAE;AAChC,MAAA,OAAOjD,oBAAoB,CAAC2G,IAAI,CAC9BZ,GAAG,EACHlE,cAAc,GAAG,MAAM,GAAG,MAAM,CACjC,CAAC,CAAC,CAAC,CAAA;AACN,KAAA;AAEA,IAAA,OAAOA,cAAc,GAAGkE,GAAG,CAACK,eAAe,GAAGG,IAAI,CAAA;GACnD,CAAA;AAED;;;;;AAKG;AACH,EAAA,MAAMK,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAa5I,IAAU,EAAA;IAC9C,OAAO8B,kBAAkB,CAAC6G,IAAI,CAC5B3I,IAAI,CAAC0B,aAAa,IAAI1B,IAAI,EAC1BA,IAAI;AACJ;IACAY,UAAU,CAACiI,YAAY,GACrBjI,UAAU,CAACkI,YAAY,GACvBlI,UAAU,CAACmI,SAAS,GACpBnI,UAAU,CAACoI,2BAA2B,GACtCpI,UAAU,CAACqI,kBAAkB,EAC/B,IAAI,CACL,CAAA;GACF,CAAA;AAED;;;;;AAKG;AACH,EAAA,MAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAa9N,OAAgB,EAAA;AAC7C,IAAA,OACEA,OAAO,YAAY2F,eAAe,KACjC,OAAO3F,OAAO,CAAC+N,QAAQ,KAAK,QAAQ,IACnC,OAAO/N,OAAO,CAACgO,WAAW,KAAK,QAAQ,IACvC,OAAOhO,OAAO,CAACkM,WAAW,KAAK,UAAU,IACzC,EAAElM,OAAO,CAACiO,UAAU,YAAYxI,YAAY,CAAC,IAC7C,OAAOzF,OAAO,CAACuM,eAAe,KAAK,UAAU,IAC7C,OAAOvM,OAAO,CAACwM,YAAY,KAAK,UAAU,IAC1C,OAAOxM,OAAO,CAAC6L,YAAY,KAAK,QAAQ,IACxC,OAAO7L,OAAO,CAACoN,YAAY,KAAK,UAAU,IAC1C,OAAOpN,OAAO,CAACkO,aAAa,KAAK,UAAU,CAAC,CAAA;GAEjD,CAAA;AAED;;;;;AAKG;AACH,EAAA,MAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAa1N,KAAc,EAAA;AACtC,IAAA,OAAO,OAAO8E,IAAI,KAAK,UAAU,IAAI9E,KAAK,YAAY8E,IAAI,CAAA;GAC3D,CAAA;AAED,EAAA,SAAS6I,aAAaA,CACpBtH,KAAqB,EACrBuH,WAA6B,EAC7BC,IAAsB,EAAA;AAEtBjR,IAAAA,YAAY,CAACyJ,KAAK,EAAGyH,IAAO,IAAI;MAC9BA,IAAI,CAAChB,IAAI,CAAC5I,SAAS,EAAE0J,WAAW,EAAEC,IAAI,EAAE9D,MAAM,CAAC,CAAA;AACjD,KAAC,CAAC,CAAA;AACJ,GAAA;AAEA;;;;;;;;AAQG;AACH,EAAA,MAAMgE,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAaH,WAAgB,EAAA;IAClD,IAAIhI,OAAO,GAAG,IAAI,CAAA;AAElB;IACA+H,aAAa,CAACtH,KAAK,CAAC1C,sBAAsB,EAAEiK,WAAW,EAAE,IAAI,CAAC,CAAA;AAE9D;AACA,IAAA,IAAIP,YAAY,CAACO,WAAW,CAAC,EAAE;MAC7BrC,YAAY,CAACqC,WAAW,CAAC,CAAA;AACzB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA;AACA,IAAA,MAAMzC,OAAO,GAAG9L,iBAAiB,CAACuO,WAAW,CAACN,QAAQ,CAAC,CAAA;AAEvD;AACAK,IAAAA,aAAa,CAACtH,KAAK,CAACvC,mBAAmB,EAAE8J,WAAW,EAAE;MACpDzC,OAAO;AACP6C,MAAAA,WAAW,EAAExH,YAAAA;AACd,KAAA,CAAC,CAAA;AAEF;AACA,IAAA,IACEuB,YAAY,IACZ6F,WAAW,CAACH,aAAa,EAAE,IAC3B,CAACC,OAAO,CAACE,WAAW,CAACK,iBAAiB,CAAC,IACvC1P,UAAU,CAAC,UAAU,EAAEqP,WAAW,CAACnB,SAAS,CAAC,IAC7ClO,UAAU,CAAC,UAAU,EAAEqP,WAAW,CAACL,WAAW,CAAC,EAC/C;MACAhC,YAAY,CAACqC,WAAW,CAAC,CAAA;AACzB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA;AACA,IAAA,IAAIA,WAAW,CAACrJ,QAAQ,KAAK7C,SAAS,CAACK,sBAAsB,EAAE;MAC7DwJ,YAAY,CAACqC,WAAW,CAAC,CAAA;AACzB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA;AACA,IAAA,IACE7F,YAAY,IACZ6F,WAAW,CAACrJ,QAAQ,KAAK7C,SAAS,CAACM,OAAO,IAC1CzD,UAAU,CAAC,SAAS,EAAEqP,WAAW,CAACC,IAAI,CAAC,EACvC;MACAtC,YAAY,CAACqC,WAAW,CAAC,CAAA;AACzB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA;IACA,IACE,EACErG,sBAAsB,CAACC,QAAQ,YAAY2C,QAAQ,IACnD5C,sBAAsB,CAACC,QAAQ,CAAC2D,OAAO,CAAC,CACzC,KACA,CAAC3E,YAAY,CAAC2E,OAAO,CAAC,IAAI9D,WAAW,CAAC8D,OAAO,CAAC,CAAC,EAChD;AACA;MACA,IAAI,CAAC9D,WAAW,CAAC8D,OAAO,CAAC,IAAI+C,qBAAqB,CAAC/C,OAAO,CAAC,EAAE;AAC3D,QAAA,IACErE,uBAAuB,CAACC,YAAY,YAAYvI,MAAM,IACtDD,UAAU,CAACuI,uBAAuB,CAACC,YAAY,EAAEoE,OAAO,CAAC,EACzD;AACA,UAAA,OAAO,KAAK,CAAA;AACd,SAAA;AAEA,QAAA,IACErE,uBAAuB,CAACC,YAAY,YAAYoD,QAAQ,IACxDrD,uBAAuB,CAACC,YAAY,CAACoE,OAAO,CAAC,EAC7C;AACA,UAAA,OAAO,KAAK,CAAA;AACd,SAAA;AACF,OAAA;AAEA;AACA,MAAA,IAAI1C,YAAY,IAAI,CAACG,eAAe,CAACuC,OAAO,CAAC,EAAE;QAC7C,MAAMgD,UAAU,GAAG1I,aAAa,CAACmI,WAAW,CAAC,IAAIA,WAAW,CAACO,UAAU,CAAA;QACvE,MAAMtB,UAAU,GAAGrH,aAAa,CAACoI,WAAW,CAAC,IAAIA,WAAW,CAACf,UAAU,CAAA;QAEvE,IAAIA,UAAU,IAAIsB,UAAU,EAAE;AAC5B,UAAA,MAAMC,UAAU,GAAGvB,UAAU,CAACxQ,MAAM,CAAA;AAEpC,UAAA,KAAK,IAAIgS,CAAC,GAAGD,UAAU,GAAG,CAAC,EAAEC,CAAC,IAAI,CAAC,EAAE,EAAEA,CAAC,EAAE;YACxC,MAAMC,UAAU,GAAGjJ,SAAS,CAACwH,UAAU,CAACwB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;YACjDC,UAAU,CAACC,cAAc,GAAG,CAACX,WAAW,CAACW,cAAc,IAAI,CAAC,IAAI,CAAC,CAAA;YACjEJ,UAAU,CAACxB,YAAY,CAAC2B,UAAU,EAAE/I,cAAc,CAACqI,WAAW,CAAC,CAAC,CAAA;AAClE,WAAA;AACF,SAAA;AACF,OAAA;MAEArC,YAAY,CAACqC,WAAW,CAAC,CAAA;AACzB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA;IACA,IAAIA,WAAW,YAAYpJ,OAAO,IAAI,CAACyG,oBAAoB,CAAC2C,WAAW,CAAC,EAAE;MACxErC,YAAY,CAACqC,WAAW,CAAC,CAAA;AACzB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA;IACA,IACE,CAACzC,OAAO,KAAK,UAAU,IACrBA,OAAO,KAAK,SAAS,IACrBA,OAAO,KAAK,UAAU,KACxB5M,UAAU,CAAC,6BAA6B,EAAEqP,WAAW,CAACnB,SAAS,CAAC,EAChE;MACAlB,YAAY,CAACqC,WAAW,CAAC,CAAA;AACzB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA;IACA,IAAI9F,kBAAkB,IAAI8F,WAAW,CAACrJ,QAAQ,KAAK7C,SAAS,CAACZ,IAAI,EAAE;AACjE;MACA8E,OAAO,GAAGgI,WAAW,CAACL,WAAW,CAAA;MAEjC3Q,YAAY,CAAC,CAACoE,aAAa,EAAEC,QAAQ,EAAEC,WAAW,CAAC,EAAGsN,IAAY,IAAI;QACpE5I,OAAO,GAAG7H,aAAa,CAAC6H,OAAO,EAAE4I,IAAI,EAAE,GAAG,CAAC,CAAA;AAC7C,OAAC,CAAC,CAAA;AAEF,MAAA,IAAIZ,WAAW,CAACL,WAAW,KAAK3H,OAAO,EAAE;AACvCxI,QAAAA,SAAS,CAAC8G,SAAS,CAACI,OAAO,EAAE;AAAE/E,UAAAA,OAAO,EAAEqO,WAAW,CAACvI,SAAS,EAAE;AAAA,SAAE,CAAC,CAAA;QAClEuI,WAAW,CAACL,WAAW,GAAG3H,OAAO,CAAA;AACnC,OAAA;AACF,KAAA;AAEA;IACA+H,aAAa,CAACtH,KAAK,CAAC7C,qBAAqB,EAAEoK,WAAW,EAAE,IAAI,CAAC,CAAA;AAE7D,IAAA,OAAO,KAAK,CAAA;GACb,CAAA;AAED;;;;;;;AAOG;AACH;EACA,MAAMa,iBAAiB,GAAG,SAApBA,iBAAiBA,CACrBC,KAAa,EACbC,MAAc,EACd3O,KAAa,EAAA;AAEb;AACA,IAAA,IACEsI,YAAY,KACXqG,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,MAAM,CAAC,KACrC3O,KAAK,IAAIiC,QAAQ,IAAIjC,KAAK,IAAIgK,WAAW,CAAC,EAC3C;AACA,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;AAEA;;;AAG8D;AAC9D,IAAA,IACErC,eAAe,IACf,CAACL,WAAW,CAACqH,MAAM,CAAC,IACpBpQ,UAAU,CAAC4C,SAAS,EAAEwN,MAAM,CAAC,EAC7B,CAED,MAAM,IAAIjH,eAAe,IAAInJ,UAAU,CAAC6C,SAAS,EAAEuN,MAAM,CAAC,EAAE,CAG5D,MAAM,IACLpH,sBAAsB,CAACE,cAAc,YAAY0C,QAAQ,IACzD5C,sBAAsB,CAACE,cAAc,CAACkH,MAAM,EAAED,KAAK,CAAC,EACpD,CAGD,MAAM,IAAI,CAAC/H,YAAY,CAACgI,MAAM,CAAC,IAAIrH,WAAW,CAACqH,MAAM,CAAC,EAAE;AACvD,MAAA;AACE;AACA;AACA;AACCT,MAAAA,qBAAqB,CAACQ,KAAK,CAAC,KACzB5H,uBAAuB,CAACC,YAAY,YAAYvI,MAAM,IACtDD,UAAU,CAACuI,uBAAuB,CAACC,YAAY,EAAE2H,KAAK,CAAC,IACtD5H,uBAAuB,CAACC,YAAY,YAAYoD,QAAQ,IACvDrD,uBAAuB,CAACC,YAAY,CAAC2H,KAAK,CAAE,CAAC,KAC/C5H,uBAAuB,CAACK,kBAAkB,YAAY3I,MAAM,IAC5DD,UAAU,CAACuI,uBAAuB,CAACK,kBAAkB,EAAEwH,MAAM,CAAC,IAC7D7H,uBAAuB,CAACK,kBAAkB,YAAYgD,QAAQ,IAC7DrD,uBAAuB,CAACK,kBAAkB,CAACwH,MAAM,EAAED,KAAK,CAAE,CAAC;AACjE;AACA;AACCC,MAAAA,MAAM,KAAK,IAAI,IACd7H,uBAAuB,CAACM,8BAA8B,KACpDN,uBAAuB,CAACC,YAAY,YAAYvI,MAAM,IACtDD,UAAU,CAACuI,uBAAuB,CAACC,YAAY,EAAE/G,KAAK,CAAC,IACtD8G,uBAAuB,CAACC,YAAY,YAAYoD,QAAQ,IACvDrD,uBAAuB,CAACC,YAAY,CAAC/G,KAAK,CAAE,CAAE,EACpD,CAGD,MAAM;AACL,QAAA,OAAO,KAAK,CAAA;AACd,OAAA;AACA;AACF,KAAC,MAAM,IAAIgJ,mBAAmB,CAAC2F,MAAM,CAAC,EAAE,CAIvC,MAAM,IACLpQ,UAAU,CAAC8C,gBAAc,EAAEtD,aAAa,CAACiC,KAAK,EAAEuB,eAAe,EAAE,EAAE,CAAC,CAAC,EACrE,CAID,MAAM,IACL,CAACoN,MAAM,KAAK,KAAK,IAAIA,MAAM,KAAK,YAAY,IAAIA,MAAM,KAAK,MAAM,KACjED,KAAK,KAAK,QAAQ,IAClBzQ,aAAa,CAAC+B,KAAK,EAAE,OAAO,CAAC,KAAK,CAAC,IACnC8I,aAAa,CAAC4F,KAAK,CAAC,EACpB,CAKD,MAAM,IACL9G,uBAAuB,IACvB,CAACrJ,UAAU,CAAC+C,iBAAiB,EAAEvD,aAAa,CAACiC,KAAK,EAAEuB,eAAe,EAAE,EAAE,CAAC,CAAC,EACzE,CAGD,MAAM,IAAIvB,KAAK,EAAE;AAChB,MAAA,OAAO,KAAK,CAAA;AACd,KAAC,MAAM,CAEL;AAGF,IAAA,OAAO,IAAI,CAAA;GACZ,CAAA;AAED;;;;;;;AAOG;AACH,EAAA,MAAMkO,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAa/C,OAAe,EAAA;IACrD,OAAOA,OAAO,KAAK,gBAAgB,IAAItN,WAAW,CAACsN,OAAO,EAAE1J,cAAc,CAAC,CAAA;GAC5E,CAAA;AAED;;;;;;;;;AASG;AACH,EAAA,MAAMmN,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAahB,WAAoB,EAAA;AACxD;IACAD,aAAa,CAACtH,KAAK,CAAC3C,wBAAwB,EAAEkK,WAAW,EAAE,IAAI,CAAC,CAAA;IAEhE,MAAM;AAAEJ,MAAAA,UAAAA;AAAY,KAAA,GAAGI,WAAW,CAAA;AAElC;AACA,IAAA,IAAI,CAACJ,UAAU,IAAIH,YAAY,CAACO,WAAW,CAAC,EAAE;AAC5C,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMiB,SAAS,GAAG;AAChBC,MAAAA,QAAQ,EAAE,EAAE;AACZC,MAAAA,SAAS,EAAE,EAAE;AACbC,MAAAA,QAAQ,EAAE,IAAI;AACdC,MAAAA,iBAAiB,EAAEtI,YAAY;AAC/BuI,MAAAA,aAAa,EAAEjL,SAAAA;KAChB,CAAA;AACD,IAAA,IAAI3E,CAAC,GAAGkO,UAAU,CAACnR,MAAM,CAAA;AAEzB;IACA,OAAOiD,CAAC,EAAE,EAAE;AACV,MAAA,MAAM6P,IAAI,GAAG3B,UAAU,CAAClO,CAAC,CAAC,CAAA;MAC1B,MAAM;QAAEqM,IAAI;QAAEP,YAAY;AAAEpL,QAAAA,KAAK,EAAE+O,SAAAA;AAAS,OAAE,GAAGI,IAAI,CAAA;AACrD,MAAA,MAAMR,MAAM,GAAGtP,iBAAiB,CAACsM,IAAI,CAAC,CAAA;MAEtC,MAAMyD,SAAS,GAAGL,SAAS,CAAA;MAC3B,IAAI/O,KAAK,GAAG2L,IAAI,KAAK,OAAO,GAAGyD,SAAS,GAAGjR,UAAU,CAACiR,SAAS,CAAC,CAAA;AAEhE;MACAP,SAAS,CAACC,QAAQ,GAAGH,MAAM,CAAA;MAC3BE,SAAS,CAACE,SAAS,GAAG/O,KAAK,CAAA;MAC3B6O,SAAS,CAACG,QAAQ,GAAG,IAAI,CAAA;AACzBH,MAAAA,SAAS,CAACK,aAAa,GAAGjL,SAAS,CAAC;MACpC0J,aAAa,CAACtH,KAAK,CAACxC,qBAAqB,EAAE+J,WAAW,EAAEiB,SAAS,CAAC,CAAA;MAClE7O,KAAK,GAAG6O,SAAS,CAACE,SAAS,CAAA;AAE3B;;AAEG;MACH,IAAIxG,oBAAoB,KAAKoG,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,MAAM,CAAC,EAAE;AAClE;AACAjD,QAAAA,gBAAgB,CAACC,IAAI,EAAEiC,WAAW,CAAC,CAAA;AAEnC;QACA5N,KAAK,GAAGwI,2BAA2B,GAAGxI,KAAK,CAAA;AAC7C,OAAA;AAEA;MACA,IACE+H,YAAY,IACZxJ,UAAU,CAAC,wCAAwC,EAAEyB,KAAK,CAAC,EAC3D;AACA0L,QAAAA,gBAAgB,CAACC,IAAI,EAAEiC,WAAW,CAAC,CAAA;AACnC,QAAA,SAAA;AACF,OAAA;AAEA;MACA,IAAIe,MAAM,KAAK,eAAe,IAAI9Q,WAAW,CAACmC,KAAK,EAAE,MAAM,CAAC,EAAE;AAC5D0L,QAAAA,gBAAgB,CAACC,IAAI,EAAEiC,WAAW,CAAC,CAAA;AACnC,QAAA,SAAA;AACF,OAAA;AAEA;MACA,IAAIiB,SAAS,CAACK,aAAa,EAAE;AAC3B,QAAA,SAAA;AACF,OAAA;AAEA;AACA,MAAA,IAAI,CAACL,SAAS,CAACG,QAAQ,EAAE;AACvBtD,QAAAA,gBAAgB,CAACC,IAAI,EAAEiC,WAAW,CAAC,CAAA;AACnC,QAAA,SAAA;AACF,OAAA;AAEA;MACA,IAAI,CAAC/F,wBAAwB,IAAItJ,UAAU,CAAC,MAAM,EAAEyB,KAAK,CAAC,EAAE;AAC1D0L,QAAAA,gBAAgB,CAACC,IAAI,EAAEiC,WAAW,CAAC,CAAA;AACnC,QAAA,SAAA;AACF,OAAA;AAEA;AACA,MAAA,IAAI9F,kBAAkB,EAAE;QACtBlL,YAAY,CAAC,CAACoE,aAAa,EAAEC,QAAQ,EAAEC,WAAW,CAAC,EAAGsN,IAAY,IAAI;UACpExO,KAAK,GAAGjC,aAAa,CAACiC,KAAK,EAAEwO,IAAI,EAAE,GAAG,CAAC,CAAA;AACzC,SAAC,CAAC,CAAA;AACJ,OAAA;AAEA;AACA,MAAA,MAAME,KAAK,GAAGrP,iBAAiB,CAACuO,WAAW,CAACN,QAAQ,CAAC,CAAA;MACrD,IAAI,CAACmB,iBAAiB,CAACC,KAAK,EAAEC,MAAM,EAAE3O,KAAK,CAAC,EAAE;AAC5C0L,QAAAA,gBAAgB,CAACC,IAAI,EAAEiC,WAAW,CAAC,CAAA;AACnC,QAAA,SAAA;AACF,OAAA;AAEA;AACA,MAAA,IACE9H,kBAAkB,IAClB,OAAOtD,YAAY,KAAK,QAAQ,IAChC,OAAOA,YAAY,CAAC6M,gBAAgB,KAAK,UAAU,EACnD;AACA,QAAA,IAAIjE,YAAY,EAAE,CAEjB,MAAM;AACL,UAAA,QAAQ5I,YAAY,CAAC6M,gBAAgB,CAACX,KAAK,EAAEC,MAAM,CAAC;AAClD,YAAA,KAAK,aAAa;AAAE,cAAA;AAClB3O,gBAAAA,KAAK,GAAG8F,kBAAkB,CAAC9C,UAAU,CAAChD,KAAK,CAAC,CAAA;AAC5C,gBAAA,MAAA;AACF,eAAA;AAEA,YAAA,KAAK,kBAAkB;AAAE,cAAA;AACvBA,gBAAAA,KAAK,GAAG8F,kBAAkB,CAAC7C,eAAe,CAACjD,KAAK,CAAC,CAAA;AACjD,gBAAA,MAAA;AACF,eAAA;AAKF,WAAA;AACF,SAAA;AACF,OAAA;AAEA;MACA,IAAIA,KAAK,KAAKoP,SAAS,EAAE;QACvB,IAAI;AACF,UAAA,IAAIhE,YAAY,EAAE;YAChBwC,WAAW,CAAC0B,cAAc,CAAClE,YAAY,EAAEO,IAAI,EAAE3L,KAAK,CAAC,CAAA;AACvD,WAAC,MAAM;AACL;AACA4N,YAAAA,WAAW,CAAC7B,YAAY,CAACJ,IAAI,EAAE3L,KAAK,CAAC,CAAA;AACvC,WAAA;AAEA,UAAA,IAAIqN,YAAY,CAACO,WAAW,CAAC,EAAE;YAC7BrC,YAAY,CAACqC,WAAW,CAAC,CAAA;AAC3B,WAAC,MAAM;AACL1Q,YAAAA,QAAQ,CAACgH,SAAS,CAACI,OAAO,CAAC,CAAA;AAC7B,WAAA;SACD,CAAC,OAAOnB,CAAC,EAAE;AACVuI,UAAAA,gBAAgB,CAACC,IAAI,EAAEiC,WAAW,CAAC,CAAA;AACrC,SAAA;AACF,OAAA;AACF,KAAA;AAEA;IACAD,aAAa,CAACtH,KAAK,CAAC9C,uBAAuB,EAAEqK,WAAW,EAAE,IAAI,CAAC,CAAA;GAChE,CAAA;AAED;;;;AAIG;AACH,EAAA,MAAM2B,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAaC,QAA0B,EAAA;IAC7D,IAAIC,UAAU,GAAG,IAAI,CAAA;AACrB,IAAA,MAAMC,cAAc,GAAG3C,mBAAmB,CAACyC,QAAQ,CAAC,CAAA;AAEpD;IACA7B,aAAa,CAACtH,KAAK,CAACzC,uBAAuB,EAAE4L,QAAQ,EAAE,IAAI,CAAC,CAAA;AAE5D,IAAA,OAAQC,UAAU,GAAGC,cAAc,CAACC,QAAQ,EAAE,EAAG;AAC/C;MACAhC,aAAa,CAACtH,KAAK,CAACtC,sBAAsB,EAAE0L,UAAU,EAAE,IAAI,CAAC,CAAA;AAE7D;MACA1B,iBAAiB,CAAC0B,UAAU,CAAC,CAAA;AAE7B;MACAb,mBAAmB,CAACa,UAAU,CAAC,CAAA;AAE/B;AACA,MAAA,IAAIA,UAAU,CAAC7J,OAAO,YAAYhB,gBAAgB,EAAE;AAClD2K,QAAAA,kBAAkB,CAACE,UAAU,CAAC7J,OAAO,CAAC,CAAA;AACxC,OAAA;AACF,KAAA;AAEA;IACA+H,aAAa,CAACtH,KAAK,CAAC5C,sBAAsB,EAAE+L,QAAQ,EAAE,IAAI,CAAC,CAAA;GAC5D,CAAA;AAED;AACAtL,EAAAA,SAAS,CAAC0L,QAAQ,GAAG,UAAU3D,KAAK,EAAU;AAAA,IAAA,IAAR5B,GAAG,GAAAjO,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAA6H,SAAA,GAAA7H,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IAC5C,IAAIsQ,IAAI,GAAG,IAAI,CAAA;IACf,IAAImD,YAAY,GAAG,IAAI,CAAA;IACvB,IAAIjC,WAAW,GAAG,IAAI,CAAA;IACtB,IAAIkC,UAAU,GAAG,IAAI,CAAA;AACrB;;AAE6D;IAC7DxG,cAAc,GAAG,CAAC2C,KAAK,CAAA;AACvB,IAAA,IAAI3C,cAAc,EAAE;AAClB2C,MAAAA,KAAK,GAAG,OAAO,CAAA;AACjB,KAAA;AAEA;IACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAI,CAACyB,OAAO,CAACzB,KAAK,CAAC,EAAE;AAChD,MAAA,IAAI,OAAOA,KAAK,CAACrO,QAAQ,KAAK,UAAU,EAAE;AACxCqO,QAAAA,KAAK,GAAGA,KAAK,CAACrO,QAAQ,EAAE,CAAA;AACxB,QAAA,IAAI,OAAOqO,KAAK,KAAK,QAAQ,EAAE;UAC7B,MAAMvN,eAAe,CAAC,iCAAiC,CAAC,CAAA;AAC1D,SAAA;AACF,OAAC,MAAM;QACL,MAAMA,eAAe,CAAC,4BAA4B,CAAC,CAAA;AACrD,OAAA;AACF,KAAA;AAEA;AACA,IAAA,IAAI,CAACwF,SAAS,CAACO,WAAW,EAAE;AAC1B,MAAA,OAAOwH,KAAK,CAAA;AACd,KAAA;AAEA;IACA,IAAI,CAAChE,UAAU,EAAE;MACfmC,YAAY,CAACC,GAAG,CAAC,CAAA;AACnB,KAAA;AAEA;IACAnG,SAAS,CAACI,OAAO,GAAG,EAAE,CAAA;AAEtB;AACA,IAAA,IAAI,OAAO2H,KAAK,KAAK,QAAQ,EAAE;AAC7BvD,MAAAA,QAAQ,GAAG,KAAK,CAAA;AAClB,KAAA;AAEA,IAAA,IAAIA,QAAQ,EAAE;AACZ;MACA,IAAKuD,KAAc,CAACqB,QAAQ,EAAE;AAC5B,QAAA,MAAMnC,OAAO,GAAG9L,iBAAiB,CAAE4M,KAAc,CAACqB,QAAQ,CAAC,CAAA;QAC3D,IAAI,CAAC9G,YAAY,CAAC2E,OAAO,CAAC,IAAI9D,WAAW,CAAC8D,OAAO,CAAC,EAAE;UAClD,MAAMzM,eAAe,CACnB,yDAAyD,CAC1D,CAAA;AACH,SAAA;AACF,OAAA;AACF,KAAC,MAAM,IAAIuN,KAAK,YAAYnH,IAAI,EAAE;AAChC;AAC2C;AAC3C4H,MAAAA,IAAI,GAAGV,aAAa,CAAC,SAAS,CAAC,CAAA;MAC/B6D,YAAY,GAAGnD,IAAI,CAAC7G,aAAa,CAACO,UAAU,CAAC6F,KAAK,EAAE,IAAI,CAAC,CAAA;AACzD,MAAA,IACE4D,YAAY,CAACtL,QAAQ,KAAK7C,SAAS,CAACnC,OAAO,IAC3CsQ,YAAY,CAACvC,QAAQ,KAAK,MAAM,EAChC;AACA;AACAZ,QAAAA,IAAI,GAAGmD,YAAY,CAAA;AACrB,OAAC,MAAM,IAAIA,YAAY,CAACvC,QAAQ,KAAK,MAAM,EAAE;AAC3CZ,QAAAA,IAAI,GAAGmD,YAAY,CAAA;AACrB,OAAC,MAAM;AACL;AACAnD,QAAAA,IAAI,CAACqD,WAAW,CAACF,YAAY,CAAC,CAAA;AAChC,OAAA;AACF,KAAC,MAAM;AACL;AACA,MAAA,IACE,CAAC1H,UAAU,IACX,CAACL,kBAAkB,IACnB,CAACE,cAAc;AACf;MACAiE,KAAK,CAAC/N,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EACzB;QACA,OAAO4H,kBAAkB,IAAIuC,mBAAmB,GAC5CvC,kBAAkB,CAAC9C,UAAU,CAACiJ,KAAK,CAAC,GACpCA,KAAK,CAAA;AACX,OAAA;AAEA;AACAS,MAAAA,IAAI,GAAGV,aAAa,CAACC,KAAK,CAAC,CAAA;AAE3B;MACA,IAAI,CAACS,IAAI,EAAE;QACT,OAAOvE,UAAU,GAAG,IAAI,GAAGE,mBAAmB,GAAGtC,SAAS,GAAG,EAAE,CAAA;AACjE,OAAA;AACF,KAAA;AAEA;IACA,IAAI2G,IAAI,IAAIxE,UAAU,EAAE;AACtBqD,MAAAA,YAAY,CAACmB,IAAI,CAACsD,UAAU,CAAC,CAAA;AAC/B,KAAA;AAEA;IACA,MAAMC,YAAY,GAAGlD,mBAAmB,CAACrE,QAAQ,GAAGuD,KAAK,GAAGS,IAAI,CAAC,CAAA;AAEjE;AACA,IAAA,OAAQkB,WAAW,GAAGqC,YAAY,CAACN,QAAQ,EAAE,EAAG;AAC9C;MACA5B,iBAAiB,CAACH,WAAW,CAAC,CAAA;AAE9B;MACAgB,mBAAmB,CAAChB,WAAW,CAAC,CAAA;AAEhC;AACA,MAAA,IAAIA,WAAW,CAAChI,OAAO,YAAYhB,gBAAgB,EAAE;AACnD2K,QAAAA,kBAAkB,CAAC3B,WAAW,CAAChI,OAAO,CAAC,CAAA;AACzC,OAAA;AACF,KAAA;AAEA;AACA,IAAA,IAAI8C,QAAQ,EAAE;AACZ,MAAA,OAAOuD,KAAK,CAAA;AACd,KAAA;AAEA;AACA,IAAA,IAAI9D,UAAU,EAAE;AACd,MAAA,IAAIC,mBAAmB,EAAE;QACvB0H,UAAU,GAAG5J,sBAAsB,CAAC4G,IAAI,CAACJ,IAAI,CAAC7G,aAAa,CAAC,CAAA;QAE5D,OAAO6G,IAAI,CAACsD,UAAU,EAAE;AACtB;AACAF,UAAAA,UAAU,CAACC,WAAW,CAACrD,IAAI,CAACsD,UAAU,CAAC,CAAA;AACzC,SAAA;AACF,OAAC,MAAM;AACLF,QAAAA,UAAU,GAAGpD,IAAI,CAAA;AACnB,OAAA;AAEA,MAAA,IAAI/F,YAAY,CAACuJ,UAAU,IAAIvJ,YAAY,CAACwJ,cAAc,EAAE;AAC1D;;;;;;AAME;QACFL,UAAU,GAAG1J,UAAU,CAAC0G,IAAI,CAACpI,gBAAgB,EAAEoL,UAAU,EAAE,IAAI,CAAC,CAAA;AAClE,OAAA;AAEA,MAAA,OAAOA,UAAU,CAAA;AACnB,KAAA;IAEA,IAAIM,cAAc,GAAGpI,cAAc,GAAG0E,IAAI,CAAC2D,SAAS,GAAG3D,IAAI,CAACD,SAAS,CAAA;AAErE;AACA,IAAA,IACEzE,cAAc,IACdxB,YAAY,CAAC,UAAU,CAAC,IACxBkG,IAAI,CAAC7G,aAAa,IAClB6G,IAAI,CAAC7G,aAAa,CAACyK,OAAO,IAC1B5D,IAAI,CAAC7G,aAAa,CAACyK,OAAO,CAAC3E,IAAI,IAC/BpN,UAAU,CAACgI,YAAwB,EAAEmG,IAAI,CAAC7G,aAAa,CAACyK,OAAO,CAAC3E,IAAI,CAAC,EACrE;AACAyE,MAAAA,cAAc,GACZ,YAAY,GAAG1D,IAAI,CAAC7G,aAAa,CAACyK,OAAO,CAAC3E,IAAI,GAAG,KAAK,GAAGyE,cAAc,CAAA;AAC3E,KAAA;AAEA;AACA,IAAA,IAAItI,kBAAkB,EAAE;MACtBlL,YAAY,CAAC,CAACoE,aAAa,EAAEC,QAAQ,EAAEC,WAAW,CAAC,EAAGsN,IAAY,IAAI;QACpE4B,cAAc,GAAGrS,aAAa,CAACqS,cAAc,EAAE5B,IAAI,EAAE,GAAG,CAAC,CAAA;AAC3D,OAAC,CAAC,CAAA;AACJ,KAAA;IAEA,OAAO1I,kBAAkB,IAAIuC,mBAAmB,GAC5CvC,kBAAkB,CAAC9C,UAAU,CAACoN,cAAc,CAAC,GAC7CA,cAAc,CAAA;GACnB,CAAA;EAEDlM,SAAS,CAACqM,SAAS,GAAG,YAAkB;AAAA,IAAA,IAARlG,GAAG,GAAAjO,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAA6H,SAAA,GAAA7H,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IACtCgO,YAAY,CAACC,GAAG,CAAC,CAAA;AACjBpC,IAAAA,UAAU,GAAG,IAAI,CAAA;GAClB,CAAA;EAED/D,SAAS,CAACsM,WAAW,GAAG,YAAA;AACtBzG,IAAAA,MAAM,GAAG,IAAI,CAAA;AACb9B,IAAAA,UAAU,GAAG,KAAK,CAAA;GACnB,CAAA;EAED/D,SAAS,CAACuM,gBAAgB,GAAG,UAAUC,GAAG,EAAEvB,IAAI,EAAEnP,KAAK,EAAA;AACrD;IACA,IAAI,CAAC+J,MAAM,EAAE;MACXK,YAAY,CAAC,EAAE,CAAC,CAAA;AAClB,KAAA;AAEA,IAAA,MAAMsE,KAAK,GAAGrP,iBAAiB,CAACqR,GAAG,CAAC,CAAA;AACpC,IAAA,MAAM/B,MAAM,GAAGtP,iBAAiB,CAAC8P,IAAI,CAAC,CAAA;AACtC,IAAA,OAAOV,iBAAiB,CAACC,KAAK,EAAEC,MAAM,EAAE3O,KAAK,CAAC,CAAA;GAC/C,CAAA;AAEDkE,EAAAA,SAAS,CAACyM,OAAO,GAAG,UAClBC,UAA0B,EAC1BC,YAA0B,EAAA;AAE1B,IAAA,IAAI,OAAOA,YAAY,KAAK,UAAU,EAAE;AACtC,MAAA,OAAA;AACF,KAAA;AAEAzT,IAAAA,SAAS,CAACiJ,KAAK,CAACuK,UAAU,CAAC,EAAEC,YAAY,CAAC,CAAA;GAC3C,CAAA;AAED3M,EAAAA,SAAS,CAAC4M,UAAU,GAAG,UACrBF,UAA0B,EAC1BC,YAA0B,EAAA;IAE1B,IAAIA,YAAY,KAAK5M,SAAS,EAAE;MAC9B,MAAMvE,KAAK,GAAG1C,gBAAgB,CAACqJ,KAAK,CAACuK,UAAU,CAAC,EAAEC,YAAY,CAAC,CAAA;MAE/D,OAAOnR,KAAK,KAAK,CAAC,CAAC,GACfuE,SAAS,GACT3G,WAAW,CAAC+I,KAAK,CAACuK,UAAU,CAAC,EAAElR,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;AACjD,KAAA;AAEA,IAAA,OAAOxC,QAAQ,CAACmJ,KAAK,CAACuK,UAAU,CAAC,CAAC,CAAA;GACnC,CAAA;AAED1M,EAAAA,SAAS,CAAC6M,WAAW,GAAG,UAAUH,UAA0B,EAAA;AAC1DvK,IAAAA,KAAK,CAACuK,UAAU,CAAC,GAAG,EAAE,CAAA;GACvB,CAAA;EAED1M,SAAS,CAAC8M,cAAc,GAAG,YAAA;IACzB3K,KAAK,GAAG/C,eAAe,EAAE,CAAA;GAC1B,CAAA;AAED,EAAA,OAAOY,SAAS,CAAA;AAClB,CAAA;AAEA,aAAeF,eAAe,EAAE;;;;"}
[35mnode_modules/dompurify/dist/purify.js[m[36m:[m[32m207[m[36m:[m  const svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'ma[1;31msk-[mtype', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);
[35mnode_modules/dompurify/dist/purify.js.map[m[36m:[m[32m1[m[36m:[m{"version":3,"file":"purify.js","sources":["../src/utils.ts","../src/tags.ts","../src/attrs.ts","../src/regexp.ts","../src/purify.ts"],"sourcesContent":["const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!freeze) {\n  freeze = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!apply) {\n  apply = function <T>(\n    func: (thisArg: any, ...args: any[]) => T,\n    thisArg: any,\n    ...args: any[]\n  ): T {\n    return func.apply(thisArg, args);\n  };\n}\n\nif (!construct) {\n  construct = function <T>(Func: new (...args: any[]) => T, ...args: any[]): T {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\nconst arraySplice = unapply(Array.prototype.splice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply<T>(\n  func: (thisArg: any, ...args: any[]) => T\n): (thisArg: any, ...args: any[]) => T {\n  return (thisArg: any, ...args: any[]): T => {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n\n    return apply(func, thisArg, args);\n  };\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct<T>(\n  Func: new (...args: any[]) => T\n): (...args: any[]) => T {\n  return (...args: any[]): T => construct(Func, args);\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(\n  set: Record<string, any>,\n  array: readonly any[],\n  transformCaseFunc: ReturnType<typeof unapply<string>> = stringToLowerCase\n): Record<string, any> {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          (array as any[])[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray<T>(array: T[]): Array<T | null> {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone<T extends Record<string, any>>(object: T): T {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (\n        value &&\n        typeof value === 'object' &&\n        value.constructor === Object\n      ) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter<T extends Record<string, any>>(\n  object: T,\n  prop: string\n): ReturnType<typeof unapply<any>> | (() => null) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(): null {\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  arraySplice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  clone,\n  create,\n  objectHasOwnProperty,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n  addToSet,\n  // Reflect\n  unapply,\n  unconstruct,\n};\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'search',\n  'section',\n  'select',\n  'shadow',\n  'slot',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n] as const);\n\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'enterkeyhint',\n  'exportparts',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'inputmode',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'part',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n] as const);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n] as const);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n] as const);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n  'mprescripts',\n] as const);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n] as const);\n\nexport const text = freeze(['#text'] as const);\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'exportparts',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inert',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'part',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'popover',\n  'popovertarget',\n  'popovertargetaction',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'slot',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'wrap',\n  'xmlns',\n  'slot',\n] as const);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'amplitude',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'exponent',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'intercept',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'ma[1;31msk-[mtype',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'slope',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'tablevalues',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n] as const);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n] as const);\n","import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\nexport const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n","/* eslint-disable @typescript-eslint/indent */\n\nimport type {\n  TrustedHTML,\n  TrustedTypesWindow,\n} from 'trusted-types/lib/index.js';\nimport type { Config, UseProfilesConfig } from './config';\nimport * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySplice,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n  create,\n  objectHasOwnProperty,\n} from './utils.js';\n\nexport type { Config } from './config';\n\ndeclare const VERSION: string;\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5, // Deprecated\n  entityNode: 6, // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12, // Deprecated\n};\n\nconst getGlobal = function (): WindowLike {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function (\n  trustedTypes: TrustedTypePolicyFactory,\n  purifyHostElement: HTMLScriptElement\n) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nconst _createHooksMap = function (): HooksMap {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: [],\n  };\n};\n\nfunction createDOMPurify(window: WindowLike = getGlobal()): DOMPurify {\n  const DOMPurify: DOMPurify = (root: WindowLike) => createDOMPurify(root);\n\n  DOMPurify.version = VERSION;\n\n  DOMPurify.removed = [];\n\n  if (\n    !window ||\n    !window.document ||\n    window.document.nodeType !== NODE_TYPE.document ||\n    !window.Element\n  ) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  let { document } = window;\n\n  const originalDocument = document;\n  const currentScript: HTMLScriptElement =\n    originalDocument.currentScript as HTMLScriptElement;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || (window as any).MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = _createHooksMap();\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n    })\n  );\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (Â§7.3.3)\n   *   - DOM Tree Accessors (Â§3.1.5)\n   *   - Form Element Parent-Child Relations (Â§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (Â§4.8.5)\n   *   - HTMLCollection (Â§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES: UseProfilesConfig | false = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE: null | DOMParserSupportedType = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc: null | Parameters<typeof addToSet>[2] = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG: Config | null = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (\n    testValue: unknown\n  ): testValue is Function | RegExp {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg: Config = {}): void {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? DEFAULT_PARSER_MEDIA_TYPE\n        : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS')\n      ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n      : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR')\n      ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n      : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES')\n      ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n      : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR')\n      ? addToSet(\n          clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n          cfg.ADD_URI_SAFE_ATTR,\n          transformCaseFunc\n        )\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS')\n      ? addToSet(\n          clone(DEFAULT_DATA_URI_TAGS),\n          cfg.ADD_DATA_URI_TAGS,\n          transformCaseFunc\n        )\n      : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS')\n      ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n      : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS')\n      ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n      : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR')\n      ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n      : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES')\n      ? cfg.USE_PROFILES\n      : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || EXPRESSIONS.IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS =\n      cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS =\n      cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, TAGS.text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.ADD_FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'\n        );\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'\n        );\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(\n          trustedTypes,\n          currentScript\n        );\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.svgDisallowed,\n  ]);\n  const ALL_MATHML_TAGS = addToSet({}, [\n    ...TAGS.mathMl,\n    ...TAGS.mathMlDisallowed,\n  ]);\n\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element: Element): boolean {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function (node: Node): void {\n    arrayPush(DOMPurify.removed, { element: node });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function (name: string, element: Element): void {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element,\n      });\n    }\n\n    element.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty: string): Document {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function (root: Node): NodeIterator {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT |\n        NodeFilter.SHOW_COMMENT |\n        NodeFilter.SHOW_TEXT |\n        NodeFilter.SHOW_PROCESSING_INSTRUCTION |\n        NodeFilter.SHOW_CDATA_SECTION,\n      null\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function (element: Element): boolean {\n    return (\n      element instanceof HTMLFormElement &&\n      (typeof element.nodeName !== 'string' ||\n        typeof element.textContent !== 'string' ||\n        typeof element.removeChild !== 'function' ||\n        !(element.attributes instanceof NamedNodeMap) ||\n        typeof element.removeAttribute !== 'function' ||\n        typeof element.setAttribute !== 'function' ||\n        typeof element.namespaceURI !== 'string' ||\n        typeof element.insertBefore !== 'function' ||\n        typeof element.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function (value: unknown): value is Node {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n\n  function _executeHooks<T extends HookFunction>(\n    hooks: HookFunction[],\n    currentNode: Parameters<T>[0],\n    data: Parameters<T>[1]\n  ): void {\n    arrayForEach(hooks, (hook: T) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode: any): boolean {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      regExpTest(/<[/\\w!]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w!]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.nodeType === NODE_TYPE.comment &&\n      regExpTest(/<[/\\w]/g, currentNode.data)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (\n      !(\n        EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function &&\n        EXTRA_ELEMENT_HANDLING.tagCheck(tagName)\n      ) &&\n      (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])\n    ) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        ) {\n          return false;\n        }\n\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        ) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        content = stringReplace(content, expr, ' ');\n      });\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (\n    lcTag: string,\n    lcName: string,\n    value: string\n  ): boolean {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Check if ADD_ATTR function allows this attribute */\n    } else if (\n      EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function &&\n      EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)\n    ) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_isBasicCustomElement(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function (tagName: string): RegExpMatchArray {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode: Element): void {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined,\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const { name, namespaceURI, value: attrValue } = attr;\n      const lcName = transformCaseFunc(name);\n\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Work around a security issue with comments inside attributes */\n      if (\n        SAFE_FOR_XML &&\n        regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)\n      ) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment: DocumentFragment): void {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if ((dirty as Node).nodeName) {\n        const tagName = transformCaseFunc((dirty as Node).nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (\n        importedNode.nodeType === NODE_TYPE.element &&\n        importedNode.nodeName === 'BODY'\n      ) {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  DOMPurify.setConfig = function (cfg = {}) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  DOMPurify.addHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  DOMPurify.removeHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n\n      return index === -1\n        ? undefined\n        : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n\n    return arrayPop(hooks[entryPoint]);\n  };\n\n  DOMPurify.removeHooks = function (entryPoint: keyof HooksMap) {\n    hooks[entryPoint] = [];\n  };\n\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n\nexport interface DOMPurify {\n  /**\n   * Creates a DOMPurify instance using the given window-like object. Defaults to `window`.\n   */\n  (root?: WindowLike): DOMPurify;\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  version: string;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  removed: Array<RemovedElement | RemovedAttribute>;\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  isSupported: boolean;\n\n  /**\n   * Set the configuration once.\n   *\n   * @param cfg configuration object\n   */\n  setConfig(cfg?: Config): void;\n\n  /**\n   * Removes the configuration.\n   */\n  clearConfig(): void;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized TrustedHTML.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_TRUSTED_TYPE: true }\n  ): TrustedHTML;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: Node, cfg: Config & { IN_PLACE: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: string | Node, cfg: Config & { RETURN_DOM: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized document fragment.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_DOM_FRAGMENT: true }\n  ): DocumentFragment;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized string.\n   */\n  sanitize(dirty: string | Node, cfg?: Config): string;\n\n  /**\n   * Checks if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   *\n   * @param tag Tag name of containing element.\n   * @param attr Attribute name.\n   * @param value Attribute value.\n   * @returns Returns true if `value` is valid. Otherwise, returns false.\n   */\n  isValidAttribute(tag: string, attr: string, value: string): boolean;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: BasicHookName, hookFunction: NodeHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: ElementHookName, hookFunction: ElementHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction: DocumentFragmentHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction: UponSanitizeElementHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction: UponSanitizeAttributeHook\n  ): void;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: BasicHookName,\n    hookFunction?: NodeHook\n  ): NodeHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: ElementHookName,\n    hookFunction?: ElementHook\n  ): ElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction?: DocumentFragmentHook\n  ): DocumentFragmentHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction?: UponSanitizeElementHook\n  ): UponSanitizeElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction?: UponSanitizeAttributeHook\n  ): UponSanitizeAttributeHook | undefined;\n\n  /**\n   * Removes all DOMPurify hooks at a given entryPoint\n   *\n   * @param entryPoint entry point for the hooks to remove\n   */\n  removeHooks(entryPoint: HookName): void;\n\n  /**\n   * Removes all DOMPurify hooks.\n   */\n  removeAllHooks(): void;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedElement {\n  /**\n   * The element that was removed.\n   */\n  element: Node;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedAttribute {\n  /**\n   * The attribute that was removed.\n   */\n  attribute: Attr | null;\n\n  /**\n   * The element that the attribute was removed.\n   */\n  from: Node;\n}\n\ntype BasicHookName =\n  | 'beforeSanitizeElements'\n  | 'afterSanitizeElements'\n  | 'uponSanitizeShadowNode';\ntype ElementHookName = 'beforeSanitizeAttributes' | 'afterSanitizeAttributes';\ntype DocumentFragmentHookName =\n  | 'beforeSanitizeShadowDOM'\n  | 'afterSanitizeShadowDOM';\ntype UponSanitizeElementHookName = 'uponSanitizeElement';\ntype UponSanitizeAttributeHookName = 'uponSanitizeAttribute';\n\ninterface HooksMap {\n  beforeSanitizeElements: NodeHook[];\n  afterSanitizeElements: NodeHook[];\n  beforeSanitizeShadowDOM: DocumentFragmentHook[];\n  uponSanitizeShadowNode: NodeHook[];\n  afterSanitizeShadowDOM: DocumentFragmentHook[];\n  beforeSanitizeAttributes: ElementHook[];\n  afterSanitizeAttributes: ElementHook[];\n  uponSanitizeElement: UponSanitizeElementHook[];\n  uponSanitizeAttribute: UponSanitizeAttributeHook[];\n}\n\ntype ArrayElement<T> = T extends Array<infer U> ? U : never;\n\ntype HookFunction = ArrayElement<HooksMap[keyof HooksMap]>;\n\nexport type HookName =\n  | BasicHookName\n  | ElementHookName\n  | DocumentFragmentHookName\n  | UponSanitizeElementHookName\n  | UponSanitizeAttributeHookName;\n\nexport type NodeHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type ElementHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type DocumentFragmentHook = (\n  this: DOMPurify,\n  currentNode: DocumentFragment,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type UponSanitizeElementHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: UponSanitizeElementHookEvent,\n  config: Config\n) => void;\n\nexport type UponSanitizeAttributeHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: UponSanitizeAttributeHookEvent,\n  config: Config\n) => void;\n\nexport interface UponSanitizeElementHookEvent {\n  tagName: string;\n  allowedTags: Record<string, boolean>;\n}\n\nexport interface UponSanitizeAttributeHookEvent {\n  attrName: string;\n  attrValue: string;\n  keepAttr: boolean;\n  allowedAttributes: Record<string, boolean>;\n  forceKeepAttr: boolean | undefined;\n}\n\n/**\n * A `Window`-like object containing the properties and types that DOMPurify requires.\n */\nexport type WindowLike = Pick<\n  typeof globalThis,\n  | 'DocumentFragment'\n  | 'HTMLTemplateElement'\n  | 'Node'\n  | 'Element'\n  | 'NodeFilter'\n  | 'NamedNodeMap'\n  | 'HTMLFormElement'\n  | 'DOMParser'\n> & {\n  document?: Document;\n  MozNamedAttrMap?: typeof window.NamedNodeMap;\n} & Pick<TrustedTypesWindow, 'trustedTypes'>;\n"],"names":["entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","Object","freeze","seal","create","apply","construct","Reflect","x","func","thisArg","_len","arguments","length","args","Array","_key","Func","_len2","_key2","arrayForEach","unapply","prototype","forEach","arrayLastIndexOf","lastIndexOf","arrayPop","pop","arrayPush","push","arraySplice","splice","stringToLowerCase","String","toLowerCase","stringToString","toString","stringMatch","match","stringReplace","replace","stringIndexOf","indexOf","stringTrim","trim","objectHasOwnProperty","hasOwnProperty","regExpTest","RegExp","test","typeErrorCreate","unconstruct","TypeError","lastIndex","_len3","_key3","_len4","_key4","addToSet","set","array","transformCaseFunc","l","element","lcElement","cleanArray","index","isPropertyExist","clone","object","newObject","property","value","isArray","constructor","lookupGetter","prop","desc","get","fallbackValue","html","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","text","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","NODE_TYPE","attribute","cdataSection","entityReference","entityNode","progressingInstruction","comment","document","documentType","documentFragment","notation","getGlobal","window","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","createPolicy","suffix","ATTR_NAME","hasAttribute","getAttribute","policyName","createHTML","createScriptURL","scriptUrl","_","console","warn","_createHooksMap","afterSanitizeAttributes","afterSanitizeElements","afterSanitizeShadowDOM","beforeSanitizeAttributes","beforeSanitizeElements","beforeSanitizeShadowDOM","uponSanitizeAttribute","uponSanitizeElement","uponSanitizeShadowNode","createDOMPurify","undefined","DOMPurify","root","version","VERSION","removed","nodeType","Element","isSupported","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","remove","getNextSibling","getChildNodes","getParentNode","template","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","createHTMLDocument","EXPRESSIONS","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","ATTRS","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","EXTRA_ELEMENT_HANDLING","tagCheck","attributeCheck","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","Function","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","ADD_FORBID_CONTENTS","table","tbody","TRUSTED_TYPES_POLICY","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","Boolean","_forceRemove","node","removeChild","_removeAttribute","name","getAttributeNode","from","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","childNodes","call","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","_isClobbered","nodeName","textContent","attributes","hasChildNodes","_isNode","_executeHooks","currentNode","data","hook","_sanitizeElements","allowedTags","firstElementChild","_isBasicCustomElement","parentNode","childCount","i","childClone","__removalCount","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","forceKeepAttr","attr","initValue","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","appendChild","firstChild","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","entryPoint","hookFunction","removeHook","removeHooks","removeAllHooks"],"mappings":"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"}
[35mnode_modules/dompurify/dist/purify.min.js[m[36m:[m[32m2[m[36m:[m!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,(function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:i,seal:a,create:l}=Object,{apply:c,construct:s}="undefined"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),a||(a=function(e){return e}),c||(c=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return e.apply(t,o)}),s||(s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new e(...n)});const u=D(Array.prototype.forEach),m=D(Array.prototype.lastIndexOf),p=D(Array.prototype.pop),f=D(Array.prototype.push),d=D(Array.prototype.splice),h=D(String.prototype.toLowerCase),g=D(String.prototype.toString),T=D(String.prototype.match),y=D(String.prototype.replace),E=D(String.prototype.indexOf),A=D(String.prototype.trim),_=D(Object.prototype.hasOwnProperty),b=D(RegExp.prototype.test),S=(N=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(N,t)});var N;function D(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return c(e,t,o)}}function R(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;t&&t(e,null);let i=o.length;for(;i--;){let t=o[i];if("string"==typeof t){const e=r(t);e!==t&&(n(o)||(o[i]=e),t=e)}e[t]=!0}return e}function w(e){for(let t=0;t<e.length;t++){_(e,t)||(e[t]=null)}return e}function C(t){const n=l(null);for(const[o,r]of e(t)){_(t,o)&&(Array.isArray(r)?n[o]=w(r):r&&"object"==typeof r&&r.constructor===Object?n[o]=C(r):n[o]=r)}return n}function O(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return D(n.get);if("function"==typeof n.value)return D(n.value)}e=o(e)}return function(){return null}}const v=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),M=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U=i(["#text"]),z=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),P=i(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","ma[1;31msk-[mtype","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=a(/<%[\w\W]*|[\w\W]*%>/gm),W=a(/\$\{[\w\W]*/gm),Y=a(/^data-[\-\w.\u00B7-\uFFFF]+$/),j=a(/^aria-[\-\w]+$/),X=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=a(/^(?:\w+script|data):/i),$=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K=a(/^html$/i),V=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var Z=Object.freeze({__proto__:null,ARIA_ATTR:j,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:V,DATA_ATTR:Y,DOCTYPE_NAME:K,ERB_EXPR:G,IS_ALLOWED_URI:X,IS_SCRIPT_OR_DATA:q,MUSTACHE_EXPR:B,TMPLIT_EXPR:W});const J=1,Q=3,ee=7,te=8,ne=9,oe=function(){return"undefined"==typeof window?null:window};var re=function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe();const o=e=>t(e);if(o.version="3.3.1",o.removed=[],!n||!n.document||n.document.nodeType!==ne||!n.Element)return o.isSupported=!1,o;let{document:r}=n;const a=r,c=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:N,Node:D,Element:w,NodeFilter:B,NamedNodeMap:G=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:W,DOMParser:Y,trustedTypes:j}=n,q=w.prototype,$=O(q,"cloneNode"),V=O(q,"remove"),re=O(q,"nextSibling"),ie=O(q,"childNodes"),ae=O(q,"parentNode");if("function"==typeof N){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let le,ce="";const{implementation:se,createNodeIterator:ue,createDocumentFragment:me,getElementsByTagName:pe}=r,{importNode:fe}=a;let de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};o.isSupported="function"==typeof e&&"function"==typeof ae&&se&&void 0!==se.createHTMLDocument;const{MUSTACHE_EXPR:he,ERB_EXPR:ge,TMPLIT_EXPR:Te,DATA_ATTR:ye,ARIA_ATTR:Ee,IS_SCRIPT_OR_DATA:Ae,ATTR_WHITESPACE:_e,CUSTOM_ELEMENT:be}=Z;let{IS_ALLOWED_URI:Se}=Z,Ne=null;const De=R({},[...v,...x,...L,...I,...U]);let Re=null;const we=R({},[...z,...P,...F,...H]);let Ce=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,ve=null;const xe=Object.seal(l(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Le=!0,ke=!0,Ie=!1,Me=!0,Ue=!1,ze=!0,Pe=!1,Fe=!1,He=!1,Be=!1,Ge=!1,We=!1,Ye=!0,je=!1,Xe=!0,qe=!1,$e={},Ke=null;const Ve=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ze=null;const Je=R({},["audio","video","img","source","image","track"]);let Qe=null;const et=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml";let rt=ot,it=!1,at=null;const lt=R({},[tt,nt,ot],g);let ct=R({},["mi","mo","mn","ms","mtext"]),st=R({},["annotation-xml"]);const ut=R({},["title","style","font","a","script"]);let mt=null;const pt=["application/xhtml+xml","text/html"];let ft=null,dt=null;const ht=r.createElement("form"),gt=function(e){return e instanceof RegExp||e instanceof Function},Tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!dt||dt!==e){if(e&&"object"==typeof e||(e={}),e=C(e),mt=-1===pt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ft="application/xhtml+xml"===mt?g:h,Ne=_(e,"ALLOWED_TAGS")?R({},e.ALLOWED_TAGS,ft):De,Re=_(e,"ALLOWED_ATTR")?R({},e.ALLOWED_ATTR,ft):we,at=_(e,"ALLOWED_NAMESPACES")?R({},e.ALLOWED_NAMESPACES,g):lt,Qe=_(e,"ADD_URI_SAFE_ATTR")?R(C(et),e.ADD_URI_SAFE_ATTR,ft):et,Ze=_(e,"ADD_DATA_URI_TAGS")?R(C(Je),e.ADD_DATA_URI_TAGS,ft):Je,Ke=_(e,"FORBID_CONTENTS")?R({},e.FORBID_CONTENTS,ft):Ve,Oe=_(e,"FORBID_TAGS")?R({},e.FORBID_TAGS,ft):C({}),ve=_(e,"FORBID_ATTR")?R({},e.FORBID_ATTR,ft):C({}),$e=!!_(e,"USE_PROFILES")&&e.USE_PROFILES,Le=!1!==e.ALLOW_ARIA_ATTR,ke=!1!==e.ALLOW_DATA_ATTR,Ie=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Me=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ue=e.SAFE_FOR_TEMPLATES||!1,ze=!1!==e.SAFE_FOR_XML,Pe=e.WHOLE_DOCUMENT||!1,Be=e.RETURN_DOM||!1,Ge=e.RETURN_DOM_FRAGMENT||!1,We=e.RETURN_TRUSTED_TYPE||!1,He=e.FORCE_BODY||!1,Ye=!1!==e.SANITIZE_DOM,je=e.SANITIZE_NAMED_PROPS||!1,Xe=!1!==e.KEEP_CONTENT,qe=e.IN_PLACE||!1,Se=e.ALLOWED_URI_REGEXP||X,rt=e.NAMESPACE||ot,ct=e.MATHML_TEXT_INTEGRATION_POINTS||ct,st=e.HTML_INTEGRATION_POINTS||st,Ce=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ue&&(ke=!1),Ge&&(Be=!0),$e&&(Ne=R({},U),Re=[],!0===$e.html&&(R(Ne,v),R(Re,z)),!0===$e.svg&&(R(Ne,x),R(Re,P),R(Re,H)),!0===$e.svgFilters&&(R(Ne,L),R(Re,P),R(Re,H)),!0===$e.mathMl&&(R(Ne,I),R(Re,F),R(Re,H))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?xe.tagCheck=e.ADD_TAGS:(Ne===De&&(Ne=C(Ne)),R(Ne,e.ADD_TAGS,ft))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?xe.attributeCheck=e.ADD_ATTR:(Re===we&&(Re=C(Re)),R(Re,e.ADD_ATTR,ft))),e.ADD_URI_SAFE_ATTR&&R(Qe,e.ADD_URI_SAFE_ATTR,ft),e.FORBID_CONTENTS&&(Ke===Ve&&(Ke=C(Ke)),R(Ke,e.FORBID_CONTENTS,ft)),e.ADD_FORBID_CONTENTS&&(Ke===Ve&&(Ke=C(Ke)),R(Ke,e.ADD_FORBID_CONTENTS,ft)),Xe&&(Ne["#text"]=!0),Pe&&R(Ne,["html","head","body"]),Ne.table&&(R(Ne,["tbody"]),delete Oe.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');le=e.TRUSTED_TYPES_POLICY,ce=le.createHTML("")}else void 0===le&&(le=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(j,c)),null!==le&&"string"==typeof ce&&(ce=le.createHTML(""));i&&i(e),dt=e}},yt=R({},[...x,...L,...k]),Et=R({},[...I,...M]),At=function(e){f(o.removed,{element:e});try{ae(e).removeChild(e)}catch(t){V(e)}},_t=function(e,t){try{f(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Be||Ge)try{At(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},bt=function(e){let t=null,n=null;if(He)e="<remove></remove>"+e;else{const t=T(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===mt&&rt===ot&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=le?le.createHTML(e):e;if(rt===ot)try{t=(new Y).parseFromString(o,mt)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(rt,"template",null);try{t.documentElement.innerHTML=it?ce:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),rt===ot?pe.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:i},St=function(e){return ue.call(e.ownerDocument||e,e,B.SHOW_ELEMENT|B.SHOW_COMMENT|B.SHOW_TEXT|B.SHOW_PROCESSING_INSTRUCTION|B.SHOW_CDATA_SECTION,null)},Nt=function(e){return e instanceof W&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof G)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Dt=function(e){return"function"==typeof D&&e instanceof D};function Rt(e,t,n){u(e,(e=>{e.call(o,t,n,dt)}))}const wt=function(e){let t=null;if(Rt(de.beforeSanitizeElements,e,null),Nt(e))return At(e),!0;const n=ft(e.nodeName);if(Rt(de.uponSanitizeElement,e,{tagName:n,allowedTags:Ne}),ze&&e.hasChildNodes()&&!Dt(e.firstElementChild)&&b(/<[/\w!]/g,e.innerHTML)&&b(/<[/\w!]/g,e.textContent))return At(e),!0;if(e.nodeType===ee)return At(e),!0;if(ze&&e.nodeType===te&&b(/<[/\w]/g,e.data))return At(e),!0;if(!(xe.tagCheck instanceof Function&&xe.tagCheck(n))&&(!Ne[n]||Oe[n])){if(!Oe[n]&&Ot(n)){if(Ce.tagNameCheck instanceof RegExp&&b(Ce.tagNameCheck,n))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))return!1}if(Xe&&!Ke[n]){const t=ae(e)||e.parentNode,n=ie(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=$(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,re(e))}}}return At(e),!0}return e instanceof w&&!function(e){let t=ae(e);t&&t.tagName||(t={namespaceURI:rt,tagName:"template"});const n=h(e.tagName),o=h(t.tagName);return!!at[e.namespaceURI]&&(e.namespaceURI===nt?t.namespaceURI===ot?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===o||ct[o]):Boolean(yt[n]):e.namespaceURI===tt?t.namespaceURI===ot?"math"===n:t.namespaceURI===nt?"math"===n&&st[o]:Boolean(Et[n]):e.namespaceURI===ot?!(t.namespaceURI===nt&&!st[o])&&!(t.namespaceURI===tt&&!ct[o])&&!Et[n]&&(ut[n]||!yt[n]):!("application/xhtml+xml"!==mt||!at[e.namespaceURI]))}(e)?(At(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!b(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ue&&e.nodeType===Q&&(t=e.textContent,u([he,ge,Te],(e=>{t=y(t,e," ")})),e.textContent!==t&&(f(o.removed,{element:e.cloneNode()}),e.textContent=t)),Rt(de.afterSanitizeElements,e,null),!1):(At(e),!0)},Ct=function(e,t,n){if(Ye&&("id"===t||"name"===t)&&(n in r||n in ht))return!1;if(ke&&!ve[t]&&b(ye,t));else if(Le&&b(Ee,t));else if(xe.attributeCheck instanceof Function&&xe.attributeCheck(t,e));else if(!Re[t]||ve[t]){if(!(Ot(e)&&(Ce.tagNameCheck instanceof RegExp&&b(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&b(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t,e))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&b(Ce.tagNameCheck,n)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))))return!1}else if(Qe[t]);else if(b(Se,y(n,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==E(n,"data:")||!Ze[e]){if(Ie&&!b(Ae,y(n,_e,"")));else if(n)return!1}else;return!0},Ot=function(e){return"annotation-xml"!==e&&T(e,be)},vt=function(e){Rt(de.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Nt(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Re,forceKeepAttr:void 0};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:l,value:c}=i,s=ft(a),m=c;let f="value"===a?m:A(m);if(n.attrName=s,n.attrValue=f,n.keepAttr=!0,n.forceKeepAttr=void 0,Rt(de.uponSanitizeAttribute,e,n),f=n.attrValue,!je||"id"!==s&&"name"!==s||(_t(a,e),f="user-content-"+f),ze&&b(/((--!?|])>)|<\/(style|title|textarea)/i,f)){_t(a,e);continue}if("attributename"===s&&T(f,"href")){_t(a,e);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){_t(a,e);continue}if(!Me&&b(/\/>/i,f)){_t(a,e);continue}Ue&&u([he,ge,Te],(e=>{f=y(f,e," ")}));const d=ft(e.nodeName);if(Ct(d,s,f)){if(le&&"object"==typeof j&&"function"==typeof j.getAttributeType)if(l);else switch(j.getAttributeType(d,s)){case"TrustedHTML":f=le.createHTML(f);break;case"TrustedScriptURL":f=le.createScriptURL(f)}if(f!==m)try{l?e.setAttributeNS(l,a,f):e.setAttribute(a,f),Nt(e)?At(e):p(o.removed)}catch(t){_t(a,e)}}else _t(a,e)}Rt(de.afterSanitizeAttributes,e,null)},xt=function e(t){let n=null;const o=St(t);for(Rt(de.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Rt(de.uponSanitizeShadowNode,n,null),wt(n),vt(n),n.content instanceof s&&e(n.content);Rt(de.afterSanitizeShadowDOM,t,null)};return o.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,i=null,l=null;if(it=!e,it&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Dt(e)){if("function"!=typeof e.toString)throw S("toString is not a function");if("string"!=typeof(e=e.toString()))throw S("dirty is not a string, aborting")}if(!o.isSupported)return e;if(Fe||Tt(t),o.removed=[],"string"==typeof e&&(qe=!1),qe){if(e.nodeName){const t=ft(e.nodeName);if(!Ne[t]||Oe[t])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof D)n=bt("\x3c!----\x3e"),r=n.ownerDocument.importNode(e,!0),r.nodeType===J&&"BODY"===r.nodeName||"HTML"===r.nodeName?n=r:n.appendChild(r);else{if(!Be&&!Ue&&!Pe&&-1===e.indexOf("<"))return le&&We?le.createHTML(e):e;if(n=bt(e),!n)return Be?null:We?ce:""}n&&He&&At(n.firstChild);const c=St(qe?e:n);for(;i=c.nextNode();)wt(i),vt(i),i.content instanceof s&&xt(i.content);if(qe)return e;if(Be){if(Ge)for(l=me.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(Re.shadowroot||Re.shadowrootmode)&&(l=fe.call(a,l,!0)),l}let m=Pe?n.outerHTML:n.innerHTML;return Pe&&Ne["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&b(K,n.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+m),Ue&&u([he,ge,Te],(e=>{m=y(m,e," ")})),le&&We?le.createHTML(m):m},o.setConfig=function(){Tt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Fe=!0},o.clearConfig=function(){dt=null,Fe=!1},o.isValidAttribute=function(e,t,n){dt||Tt({});const o=ft(e),r=ft(t);return Ct(o,r,n)},o.addHook=function(e,t){"function"==typeof t&&f(de[e],t)},o.removeHook=function(e,t){if(void 0!==t){const n=m(de[e],t);return-1===n?void 0:d(de[e],n,1)[0]}return p(de[e])},o.removeHooks=function(e){de[e]=[]},o.removeAllHooks=function(){de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},o}();return re}));
[35mnode_modules/dompurify/dist/purify.min.js.map[m[36m:[m[32m1[m[36m:[m{"version":3,"file":"purify.min.js","sources":["../src/utils.ts","../src/tags.ts","../src/attrs.ts","../src/regexp.ts","../src/purify.ts"],"sourcesContent":["const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!freeze) {\n  freeze = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function <T>(x: T): T {\n    return x;\n  };\n}\n\nif (!apply) {\n  apply = function <T>(\n    func: (thisArg: any, ...args: any[]) => T,\n    thisArg: any,\n    ...args: any[]\n  ): T {\n    return func.apply(thisArg, args);\n  };\n}\n\nif (!construct) {\n  construct = function <T>(Func: new (...args: any[]) => T, ...args: any[]): T {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\nconst arraySplice = unapply(Array.prototype.splice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply<T>(\n  func: (thisArg: any, ...args: any[]) => T\n): (thisArg: any, ...args: any[]) => T {\n  return (thisArg: any, ...args: any[]): T => {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n\n    return apply(func, thisArg, args);\n  };\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct<T>(\n  Func: new (...args: any[]) => T\n): (...args: any[]) => T {\n  return (...args: any[]): T => construct(Func, args);\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(\n  set: Record<string, any>,\n  array: readonly any[],\n  transformCaseFunc: ReturnType<typeof unapply<string>> = stringToLowerCase\n): Record<string, any> {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          (array as any[])[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray<T>(array: T[]): Array<T | null> {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone<T extends Record<string, any>>(object: T): T {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (\n        value &&\n        typeof value === 'object' &&\n        value.constructor === Object\n      ) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter<T extends Record<string, any>>(\n  object: T,\n  prop: string\n): ReturnType<typeof unapply<any>> | (() => null) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(): null {\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  arraySplice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  clone,\n  create,\n  objectHasOwnProperty,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n  addToSet,\n  // Reflect\n  unapply,\n  unconstruct,\n};\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'search',\n  'section',\n  'select',\n  'shadow',\n  'slot',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n] as const);\n\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'enterkeyhint',\n  'exportparts',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'inputmode',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'part',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n] as const);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n] as const);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n] as const);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n  'mprescripts',\n] as const);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n] as const);\n\nexport const text = freeze(['#text'] as const);\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'exportparts',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inert',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'part',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'popover',\n  'popovertarget',\n  'popovertargetaction',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'slot',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'wrap',\n  'xmlns',\n  'slot',\n] as const);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'amplitude',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'exponent',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'intercept',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'ma[1;31msk-[mtype',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'slope',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'tablevalues',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n] as const);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n] as const);\n","import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\nexport const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n","/* eslint-disable @typescript-eslint/indent */\n\nimport type {\n  TrustedHTML,\n  TrustedTypesWindow,\n} from 'trusted-types/lib/index.js';\nimport type { Config, UseProfilesConfig } from './config';\nimport * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayLastIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySplice,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n  create,\n  objectHasOwnProperty,\n} from './utils.js';\n\nexport type { Config } from './config';\n\ndeclare const VERSION: string;\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5, // Deprecated\n  entityNode: 6, // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12, // Deprecated\n};\n\nconst getGlobal = function (): WindowLike {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function (\n  trustedTypes: TrustedTypePolicyFactory,\n  purifyHostElement: HTMLScriptElement\n) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nconst _createHooksMap = function (): HooksMap {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: [],\n  };\n};\n\nfunction createDOMPurify(window: WindowLike = getGlobal()): DOMPurify {\n  const DOMPurify: DOMPurify = (root: WindowLike) => createDOMPurify(root);\n\n  DOMPurify.version = VERSION;\n\n  DOMPurify.removed = [];\n\n  if (\n    !window ||\n    !window.document ||\n    window.document.nodeType !== NODE_TYPE.document ||\n    !window.Element\n  ) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  let { document } = window;\n\n  const originalDocument = document;\n  const currentScript: HTMLScriptElement =\n    originalDocument.currentScript as HTMLScriptElement;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || (window as any).MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = _createHooksMap();\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n    })\n  );\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (Â§7.3.3)\n   *   - DOM Tree Accessors (Â§3.1.5)\n   *   - Form Element Parent-Child Relations (Â§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (Â§4.8.5)\n   *   - HTMLCollection (Â§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES: UseProfilesConfig | false = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE: null | DOMParserSupportedType = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc: null | Parameters<typeof addToSet>[2] = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG: Config | null = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (\n    testValue: unknown\n  ): testValue is Function | RegExp {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg: Config = {}): void {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? DEFAULT_PARSER_MEDIA_TYPE\n        : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS')\n      ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n      : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR')\n      ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n      : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES')\n      ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n      : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR')\n      ? addToSet(\n          clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n          cfg.ADD_URI_SAFE_ATTR,\n          transformCaseFunc\n        )\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS')\n      ? addToSet(\n          clone(DEFAULT_DATA_URI_TAGS),\n          cfg.ADD_DATA_URI_TAGS,\n          transformCaseFunc\n        )\n      : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS')\n      ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n      : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS')\n      ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n      : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR')\n      ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n      : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES')\n      ? cfg.USE_PROFILES\n      : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || EXPRESSIONS.IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS =\n      cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS =\n      cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, TAGS.text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.ADD_FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'\n        );\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'\n        );\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(\n          trustedTypes,\n          currentScript\n        );\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.svgDisallowed,\n  ]);\n  const ALL_MATHML_TAGS = addToSet({}, [\n    ...TAGS.mathMl,\n    ...TAGS.mathMlDisallowed,\n  ]);\n\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element: Element): boolean {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function (node: Node): void {\n    arrayPush(DOMPurify.removed, { element: node });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function (name: string, element: Element): void {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element,\n      });\n    }\n\n    element.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty: string): Document {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function (root: Node): NodeIterator {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT |\n        NodeFilter.SHOW_COMMENT |\n        NodeFilter.SHOW_TEXT |\n        NodeFilter.SHOW_PROCESSING_INSTRUCTION |\n        NodeFilter.SHOW_CDATA_SECTION,\n      null\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function (element: Element): boolean {\n    return (\n      element instanceof HTMLFormElement &&\n      (typeof element.nodeName !== 'string' ||\n        typeof element.textContent !== 'string' ||\n        typeof element.removeChild !== 'function' ||\n        !(element.attributes instanceof NamedNodeMap) ||\n        typeof element.removeAttribute !== 'function' ||\n        typeof element.setAttribute !== 'function' ||\n        typeof element.namespaceURI !== 'string' ||\n        typeof element.insertBefore !== 'function' ||\n        typeof element.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function (value: unknown): value is Node {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n\n  function _executeHooks<T extends HookFunction>(\n    hooks: HookFunction[],\n    currentNode: Parameters<T>[0],\n    data: Parameters<T>[1]\n  ): void {\n    arrayForEach(hooks, (hook: T) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode: any): boolean {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      regExpTest(/<[/\\w!]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w!]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.nodeType === NODE_TYPE.comment &&\n      regExpTest(/<[/\\w]/g, currentNode.data)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (\n      !(\n        EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function &&\n        EXTRA_ELEMENT_HANDLING.tagCheck(tagName)\n      ) &&\n      (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])\n    ) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        ) {\n          return false;\n        }\n\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        ) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        content = stringReplace(content, expr, ' ');\n      });\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (\n    lcTag: string,\n    lcName: string,\n    value: string\n  ): boolean {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Check if ADD_ATTR function allows this attribute */\n    } else if (\n      EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function &&\n      EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)\n    ) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_isBasicCustomElement(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function (tagName: string): RegExpMatchArray {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode: Element): void {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined,\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const { name, namespaceURI, value: attrValue } = attr;\n      const lcName = transformCaseFunc(name);\n\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Work around a security issue with comments inside attributes */\n      if (\n        SAFE_FOR_XML &&\n        regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)\n      ) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment: DocumentFragment): void {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if ((dirty as Node).nodeName) {\n        const tagName = transformCaseFunc((dirty as Node).nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (\n        importedNode.nodeType === NODE_TYPE.element &&\n        importedNode.nodeName === 'BODY'\n      ) {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr: RegExp) => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  DOMPurify.setConfig = function (cfg = {}) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  DOMPurify.addHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  DOMPurify.removeHook = function (\n    entryPoint: keyof HooksMap,\n    hookFunction: HookFunction\n  ) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n\n      return index === -1\n        ? undefined\n        : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n\n    return arrayPop(hooks[entryPoint]);\n  };\n\n  DOMPurify.removeHooks = function (entryPoint: keyof HooksMap) {\n    hooks[entryPoint] = [];\n  };\n\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n\nexport interface DOMPurify {\n  /**\n   * Creates a DOMPurify instance using the given window-like object. Defaults to `window`.\n   */\n  (root?: WindowLike): DOMPurify;\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  version: string;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  removed: Array<RemovedElement | RemovedAttribute>;\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  isSupported: boolean;\n\n  /**\n   * Set the configuration once.\n   *\n   * @param cfg configuration object\n   */\n  setConfig(cfg?: Config): void;\n\n  /**\n   * Removes the configuration.\n   */\n  clearConfig(): void;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized TrustedHTML.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_TRUSTED_TYPE: true }\n  ): TrustedHTML;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: Node, cfg: Config & { IN_PLACE: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized DOM node.\n   */\n  sanitize(dirty: string | Node, cfg: Config & { RETURN_DOM: true }): Node;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized document fragment.\n   */\n  sanitize(\n    dirty: string | Node,\n    cfg: Config & { RETURN_DOM_FRAGMENT: true }\n  ): DocumentFragment;\n\n  /**\n   * Provides core sanitation functionality.\n   *\n   * @param dirty string or DOM node\n   * @param cfg object\n   * @returns Sanitized string.\n   */\n  sanitize(dirty: string | Node, cfg?: Config): string;\n\n  /**\n   * Checks if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   *\n   * @param tag Tag name of containing element.\n   * @param attr Attribute name.\n   * @param value Attribute value.\n   * @returns Returns true if `value` is valid. Otherwise, returns false.\n   */\n  isValidAttribute(tag: string, attr: string, value: string): boolean;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: BasicHookName, hookFunction: NodeHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(entryPoint: ElementHookName, hookFunction: ElementHook): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction: DocumentFragmentHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction: UponSanitizeElementHook\n  ): void;\n\n  /**\n   * Adds a DOMPurify hook.\n   *\n   * @param entryPoint entry point for the hook to add\n   * @param hookFunction function to execute\n   */\n  addHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction: UponSanitizeAttributeHook\n  ): void;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: BasicHookName,\n    hookFunction?: NodeHook\n  ): NodeHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: ElementHookName,\n    hookFunction?: ElementHook\n  ): ElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: DocumentFragmentHookName,\n    hookFunction?: DocumentFragmentHook\n  ): DocumentFragmentHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeElement',\n    hookFunction?: UponSanitizeElementHook\n  ): UponSanitizeElementHook | undefined;\n\n  /**\n   * Remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if hook not specified)\n   *\n   * @param entryPoint entry point for the hook to remove\n   * @param hookFunction optional specific hook to remove\n   * @returns removed hook\n   */\n  removeHook(\n    entryPoint: 'uponSanitizeAttribute',\n    hookFunction?: UponSanitizeAttributeHook\n  ): UponSanitizeAttributeHook | undefined;\n\n  /**\n   * Removes all DOMPurify hooks at a given entryPoint\n   *\n   * @param entryPoint entry point for the hooks to remove\n   */\n  removeHooks(entryPoint: HookName): void;\n\n  /**\n   * Removes all DOMPurify hooks.\n   */\n  removeAllHooks(): void;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedElement {\n  /**\n   * The element that was removed.\n   */\n  element: Node;\n}\n\n/**\n * An element removed by DOMPurify.\n */\nexport interface RemovedAttribute {\n  /**\n   * The attribute that was removed.\n   */\n  attribute: Attr | null;\n\n  /**\n   * The element that the attribute was removed.\n   */\n  from: Node;\n}\n\ntype BasicHookName =\n  | 'beforeSanitizeElements'\n  | 'afterSanitizeElements'\n  | 'uponSanitizeShadowNode';\ntype ElementHookName = 'beforeSanitizeAttributes' | 'afterSanitizeAttributes';\ntype DocumentFragmentHookName =\n  | 'beforeSanitizeShadowDOM'\n  | 'afterSanitizeShadowDOM';\ntype UponSanitizeElementHookName = 'uponSanitizeElement';\ntype UponSanitizeAttributeHookName = 'uponSanitizeAttribute';\n\ninterface HooksMap {\n  beforeSanitizeElements: NodeHook[];\n  afterSanitizeElements: NodeHook[];\n  beforeSanitizeShadowDOM: DocumentFragmentHook[];\n  uponSanitizeShadowNode: NodeHook[];\n  afterSanitizeShadowDOM: DocumentFragmentHook[];\n  beforeSanitizeAttributes: ElementHook[];\n  afterSanitizeAttributes: ElementHook[];\n  uponSanitizeElement: UponSanitizeElementHook[];\n  uponSanitizeAttribute: UponSanitizeAttributeHook[];\n}\n\ntype ArrayElement<T> = T extends Array<infer U> ? U : never;\n\ntype HookFunction = ArrayElement<HooksMap[keyof HooksMap]>;\n\nexport type HookName =\n  | BasicHookName\n  | ElementHookName\n  | DocumentFragmentHookName\n  | UponSanitizeElementHookName\n  | UponSanitizeAttributeHookName;\n\nexport type NodeHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type ElementHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type DocumentFragmentHook = (\n  this: DOMPurify,\n  currentNode: DocumentFragment,\n  hookEvent: null,\n  config: Config\n) => void;\n\nexport type UponSanitizeElementHook = (\n  this: DOMPurify,\n  currentNode: Node,\n  hookEvent: UponSanitizeElementHookEvent,\n  config: Config\n) => void;\n\nexport type UponSanitizeAttributeHook = (\n  this: DOMPurify,\n  currentNode: Element,\n  hookEvent: UponSanitizeAttributeHookEvent,\n  config: Config\n) => void;\n\nexport interface UponSanitizeElementHookEvent {\n  tagName: string;\n  allowedTags: Record<string, boolean>;\n}\n\nexport interface UponSanitizeAttributeHookEvent {\n  attrName: string;\n  attrValue: string;\n  keepAttr: boolean;\n  allowedAttributes: Record<string, boolean>;\n  forceKeepAttr: boolean | undefined;\n}\n\n/**\n * A `Window`-like object containing the properties and types that DOMPurify requires.\n */\nexport type WindowLike = Pick<\n  typeof globalThis,\n  | 'DocumentFragment'\n  | 'HTMLTemplateElement'\n  | 'Node'\n  | 'Element'\n  | 'NodeFilter'\n  | 'NamedNodeMap'\n  | 'HTMLFormElement'\n  | 'DOMParser'\n> & {\n  document?: Document;\n  MozNamedAttrMap?: typeof window.NamedNodeMap;\n} & Pick<TrustedTypesWindow, 'trustedTypes'>;\n"],"names":["entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","Object","freeze","seal","create","apply","construct","Reflect","x","func","thisArg","_len","arguments","length","args","Array","_key","Func","_len2","_key2","arrayForEach","unapply","prototype","forEach","arrayLastIndexOf","lastIndexOf","arrayPop","pop","arrayPush","push","arraySplice","splice","stringToLowerCase","String","toLowerCase","stringToString","toString","stringMatch","match","stringReplace","replace","stringIndexOf","indexOf","stringTrim","trim","objectHasOwnProperty","hasOwnProperty","regExpTest","RegExp","test","typeErrorCreate","TypeError","_len4","_key4","lastIndex","_len3","_key3","addToSet","set","array","transformCaseFunc","l","element","lcElement","cleanArray","index","clone","object","newObject","property","value","isArray","constructor","lookupGetter","prop","desc","get","html","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","text","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","NODE_TYPE","getGlobal","window","purify","createDOMPurify","undefined","DOMPurify","root","version","VERSION","removed","document","nodeType","Element","isSupported","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","cloneNode","remove","getNextSibling","getChildNodes","getParentNode","template","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","afterSanitizeAttributes","afterSanitizeElements","afterSanitizeShadowDOM","beforeSanitizeAttributes","beforeSanitizeElements","beforeSanitizeShadowDOM","uponSanitizeAttribute","uponSanitizeElement","uponSanitizeShadowNode","createHTMLDocument","EXPRESSIONS","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","ATTRS","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","EXTRA_ELEMENT_HANDLING","tagCheck","attributeCheck","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","Function","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","ADD_FORBID_CONTENTS","table","tbody","TRUSTED_TYPES_POLICY","createHTML","createScriptURL","purifyHostElement","createPolicy","suffix","ATTR_NAME","hasAttribute","getAttribute","policyName","scriptUrl","_","console","warn","_createTrustedTypesPolicy","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","node","removeChild","_removeAttribute","name","attribute","getAttributeNode","from","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","childNodes","call","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","_isClobbered","nodeName","textContent","attributes","namespaceURI","hasChildNodes","_isNode","_executeHooks","currentNode","data","hook","_sanitizeElements","tagName","allowedTags","firstElementChild","_isBasicCustomElement","parentNode","i","childClone","__removalCount","parent","parentTagName","Boolean","_checkValidNamespace","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","forceKeepAttr","attr","initValue","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","appendChild","firstChild","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","entryPoint","hookFunction","removeHook","removeHooks","removeAllHooks"],"mappings":"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,UACA,OACA,UACA,QACA,QACA,IACA,MACA,MACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,SACA,OACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,QAGW4E,EAAM5E,EAAO,CACxB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,eACA,cACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,YACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,UAGW6E,EAAa7E,EAAO,CAC/B,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,eACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,iBAOW8E,EAAgB9E,EAAO,CAClC,UACA,gBACA,SACA,UACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,QAGW+E,EAAS/E,EAAO,CAC3B,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,aACA,gBAKWgF,EAAmBhF,EAAO,CACrC,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,SAGWiF,EAAOjF,EAAO,CAAC,UC1Rf2E,EAAO3E,EAAO,CACzB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,cACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,QACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,OACA,UACA,cACA,cACA,UACA,gBACA,sBACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,OACA,QACA,SAGW4E,EAAM5E,EAAO,CACxB,gBACA,aACA,WACA,qBACA,YACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,WACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,YACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,YACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,QACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,cACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,eAGW+E,EAAS/E,EAAO,CAC3B,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,UAGWkF,EAAMlF,EAAO,CACxB,aACA,SACA,cACA,YACA,gBCnXWmF,EAAgBlF,EAAK,6BACrBmF,EAAWnF,EAAK,yBAChBoF,EAAcpF,EAAK,iBACnBqF,EAAYrF,EAAK,gCACjBsF,EAAYtF,EAAK,kBACjBuF,EAAiBvF,EAC5B,oGAEWwF,EAAoBxF,EAAK,yBACzByF,EAAkBzF,EAC7B,+DAEW0F,EAAe1F,EAAK,WACpB2F,EAAiB3F,EAAK,0NCsBnC,MAAM4F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"}
Binary file [35mnode_modules/esbuild/bin/esbuild[m matches
[35mnode_modules/queue-microtask/README.md[m[36m:[m[32m44[m[36m:[mSee the [spec](https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#microta[1;31msk-[mqueuing) or [Node documentation](https://nodejs.org/api/globals.html#globals_queuemicrotask_callback) for more information.
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14111[m[36m:[m// node_modules/autoprefixer/lib/hacks/ma[1;31msk-[mborder.js
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14113[m[36m:[m  "node_modules/autoprefixer/lib/hacks/ma[1;31msk-[mborder.js"(exports2, module2) {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14134[m[36m:[m      "ma[1;31msk-[mborder",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14135[m[36m:[m      "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14136[m[36m:[m      "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14137[m[36m:[m      "ma[1;31msk-[mborder-width",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14138[m[36m:[m      "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14139[m[36m:[m      "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14140[m[36m:[m      "ma[1;31msk-[mbox-image",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14141[m[36m:[m      "ma[1;31msk-[mbox-image-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14142[m[36m:[m      "ma[1;31msk-[mbox-image-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14143[m[36m:[m      "ma[1;31msk-[mbox-image-width",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14144[m[36m:[m      "ma[1;31msk-[mbox-image-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14145[m[36m:[m      "ma[1;31msk-[mbox-image-repeat"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14151[m[36m:[m// node_modules/autoprefixer/lib/hacks/ma[1;31msk-[mcomposite.js
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14153[m[36m:[m  "node_modules/autoprefixer/lib/hacks/ma[1;31msk-[mcomposite.js"(exports2, module2) {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14157[m[36m:[m       * Prefix ma[1;31msk-[mcomposite for webkit
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14160[m[36m:[m        let isCompositeProp = decl.prop === "ma[1;31msk-[mcomposite";
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14176[m[36m:[m          compositeDecl.prop = prefix + "ma[1;31msk-[mcomposite";
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m14205[m[36m:[m    MaskComposite.names = ["mask", "ma[1;31msk-[mcomposite"];
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17149[m[36m:[m            "ma[1;31msk-[mimage"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17205[m[36m:[m          "ma[1;31msk-[mimage"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17232[m[36m:[m          "ma[1;31msk-[mimage"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17615[m[36m:[m          "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17616[m[36m:[m          "ma[1;31msk-[mcomposite",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17617[m[36m:[m          "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17618[m[36m:[m          "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17619[m[36m:[m          "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17620[m[36m:[m          "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17621[m[36m:[m          "ma[1;31msk-[mborder-source"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17631[m[36m:[m          "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17632[m[36m:[m          "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17633[m[36m:[m          "ma[1;31msk-[mborder",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17634[m[36m:[m          "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17635[m[36m:[m          "ma[1;31msk-[mborder-width",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17636[m[36m:[m          "ma[1;31msk-[mborder-slice"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17809[m[36m:[m          "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m17839[m[36m:[m          "ma[1;31msk-[mimage"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m18949[m[36m:[m        "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m18950[m[36m:[m        "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m18951[m[36m:[m        "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m18952[m[36m:[m        "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m18953[m[36m:[m        "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m18954[m[36m:[m        "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m18955[m[36m:[m        "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m18956[m[36m:[m        "ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19434[m[36m:[m      "ma[1;31msk-[mborder",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19435[m[36m:[m      "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19436[m[36m:[m      "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19437[m[36m:[m      "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19438[m[36m:[m      "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19439[m[36m:[m      "ma[1;31msk-[mborder-width",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19440[m[36m:[m      "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19441[m[36m:[m      "ma[1;31msk-[mcomposite",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19442[m[36m:[m      "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19443[m[36m:[m      "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19444[m[36m:[m      "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19445[m[36m:[m      "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19446[m[36m:[m      "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19447[m[36m:[m      "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19448[m[36m:[m      "ma[1;31msk-[mtype",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19705[m[36m:[m      "ma[1;31msk-[mborder",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19706[m[36m:[m      "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19707[m[36m:[m      "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19708[m[36m:[m      "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19709[m[36m:[m      "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19710[m[36m:[m      "ma[1;31msk-[mborder-width",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19711[m[36m:[m      "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19712[m[36m:[m      "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19713[m[36m:[m      "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19714[m[36m:[m      "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19715[m[36m:[m      "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19716[m[36m:[m      "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19717[m[36m:[m      "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19718[m[36m:[m      "ma[1;31msk-[mcomposite",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m19719[m[36m:[m      "ma[1;31msk-[mtype",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20357[m[36m:[m      "ma[1;31msk-[mborder",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20358[m[36m:[m      "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20359[m[36m:[m      "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20360[m[36m:[m      "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20361[m[36m:[m      "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20362[m[36m:[m      "ma[1;31msk-[mborder-width",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20363[m[36m:[m      "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20364[m[36m:[m      "ma[1;31msk-[mcomposite",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20365[m[36m:[m      "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20366[m[36m:[m      "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20367[m[36m:[m      "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20368[m[36m:[m      "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20369[m[36m:[m      "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20370[m[36m:[m      "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m20371[m[36m:[m      "ma[1;31msk-[mtype",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25055[m[36m:[m      "ma[1;31msk-[mborder-mode": "alpha",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25056[m[36m:[m      "ma[1;31msk-[mborder-outset": "0",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25057[m[36m:[m      "ma[1;31msk-[mborder-slice": "0",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25058[m[36m:[m      "ma[1;31msk-[mborder-source": "none",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25059[m[36m:[m      "ma[1;31msk-[mborder-width": "auto",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25060[m[36m:[m      "ma[1;31msk-[mcomposite": "add",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25061[m[36m:[m      "ma[1;31msk-[mimage": "none",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25062[m[36m:[m      "ma[1;31msk-[mposition": "0% 0%",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25063[m[36m:[m      "ma[1;31msk-[mrepeat": "repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25064[m[36m:[m      "ma[1;31msk-[msize": "auto",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25228[m[36m:[m      "ma[1;31msk-[mclip": "border-box",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25229[m[36m:[m      "ma[1;31msk-[mmode": "match-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25230[m[36m:[m      "ma[1;31msk-[morigin": "border-box",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m25231[m[36m:[m      "ma[1;31msk-[mtype": "luminance",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m28456[m[36m:[m          "ma[1;31msk-[mtype",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40142[m[36m:[m        "-webkit-ma[1;31msk-[mbox-image": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40143[m[36m:[m          comment: "missed; https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-ma[1;31msk-[mbox-image",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40144[m[36m:[m          syntax: "[ <url> | <gradient> | none ] [ <length-percentage>{4} <-webkit-ma[1;31msk-[mbox-repeat>{2} ]?"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40574[m[36m:[m        "-webkit-ma[1;31msk-[mbox-repeat": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40575[m[36m:[m          comment: "missed; https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-ma[1;31msk-[mbox-image",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40578[m[36m:[m        "-webkit-ma[1;31msk-[mclip-style": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40579[m[36m:[m          comment: "missed; there is no enough information about `-webkit-ma[1;31msk-[mclip` property, but looks like all those keywords are working",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40650[m[36m:[m        "ma[1;31msk-[mimage": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40651[m[36m:[m          comment: "missed; https://drafts.fxtf.org/css-masking-1/#the-ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m40652[m[36m:[m          syntax: "<ma[1;31msk-[mreference>#"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42716[m[36m:[m        syntax: "[ <ma[1;31msk-[mreference> || <position> [ / <bg-size> ]? || <repeat-style> || [ <box> | border | padding | content | text ] || [ <box> | border | padding | content ] ]#",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42725[m[36m:[m          "-webkit-ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42726[m[36m:[m          "-webkit-ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42727[m[36m:[m          "-webkit-ma[1;31msk-[mattachment",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42728[m[36m:[m          "-webkit-ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42729[m[36m:[m          "-webkit-ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42730[m[36m:[m          "-webkit-ma[1;31msk-[mclip"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42734[m[36m:[m          "-webkit-ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42735[m[36m:[m          "-webkit-ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42736[m[36m:[m          "-webkit-ma[1;31msk-[mattachment",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42737[m[36m:[m          "-webkit-ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42738[m[36m:[m          "-webkit-ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42739[m[36m:[m          "-webkit-ma[1;31msk-[mclip"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42745[m[36m:[m      "-webkit-ma[1;31msk-[mattachment": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42759[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mattachment"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42761[m[36m:[m      "-webkit-ma[1;31msk-[mclip": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42775[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mclip"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42777[m[36m:[m      "-webkit-ma[1;31msk-[mcomposite": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42791[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42793[m[36m:[m      "-webkit-ma[1;31msk-[mimage": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42794[m[36m:[m        syntax: "<ma[1;31msk-[mreference>#",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42807[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mimage"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42809[m[36m:[m      "-webkit-ma[1;31msk-[morigin": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42823[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[morigin"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42825[m[36m:[m      "-webkit-ma[1;31msk-[mposition": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42839[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mposition"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42841[m[36m:[m      "-webkit-ma[1;31msk-[mposition-x": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42855[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mposition-x"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42857[m[36m:[m      "-webkit-ma[1;31msk-[mposition-y": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42871[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mposition-y"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42873[m[36m:[m      "-webkit-ma[1;31msk-[mrepeat": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42887[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mrepeat"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42889[m[36m:[m      "-webkit-ma[1;31msk-[mrepeat-x": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42903[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mrepeat-x"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42905[m[36m:[m      "-webkit-ma[1;31msk-[mrepeat-y": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42919[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mrepeat-y"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42921[m[36m:[m      "-webkit-ma[1;31msk-[msize": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m42935[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[msize"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47723[m[36m:[m        syntax: "<ma[1;31msk-[mlayer>#",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47727[m[36m:[m          "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47728[m[36m:[m          "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47729[m[36m:[m          "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47730[m[36m:[m          "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47731[m[36m:[m          "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47732[m[36m:[m          "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47733[m[36m:[m          "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47734[m[36m:[m          "ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47737[m[36m:[m          "ma[1;31msk-[mposition"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47743[m[36m:[m          "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47744[m[36m:[m          "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47745[m[36m:[m          "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47746[m[36m:[m          "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47747[m[36m:[m          "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47748[m[36m:[m          "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47749[m[36m:[m          "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47750[m[36m:[m          "ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47754[m[36m:[m          "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47755[m[36m:[m          "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47756[m[36m:[m          "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47757[m[36m:[m          "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47758[m[36m:[m          "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47759[m[36m:[m          "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47760[m[36m:[m          "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47761[m[36m:[m          "ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47768[m[36m:[m      "ma[1;31msk-[mborder": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47769[m[36m:[m        syntax: "<'ma[1;31msk-[mborder-source'> || <'ma[1;31msk-[mborder-slice'> [ / <'ma[1;31msk-[mborder-width'>? [ / <'ma[1;31msk-[mborder-outset'> ]? ]? || <'ma[1;31msk-[mborder-repeat'> || <'ma[1;31msk-[mborder-mode'>",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47773[m[36m:[m          "ma[1;31msk-[mborder-mode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47774[m[36m:[m          "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47775[m[36m:[m          "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47776[m[36m:[m          "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47777[m[36m:[m          "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47778[m[36m:[m          "ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47781[m[36m:[m          "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47782[m[36m:[m          "ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47788[m[36m:[m          "ma[1;31msk-[mborder-mode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47789[m[36m:[m          "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47790[m[36m:[m          "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47791[m[36m:[m          "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47792[m[36m:[m          "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47793[m[36m:[m          "ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47797[m[36m:[m          "ma[1;31msk-[mborder-mode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47798[m[36m:[m          "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47799[m[36m:[m          "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47800[m[36m:[m          "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47801[m[36m:[m          "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47802[m[36m:[m          "ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47807[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47809[m[36m:[m      "ma[1;31msk-[mborder-mode": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47823[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-mode"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47825[m[36m:[m      "ma[1;31msk-[mborder-outset": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47839[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-outset"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47841[m[36m:[m      "ma[1;31msk-[mborder-repeat": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47855[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-repeat"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47857[m[36m:[m      "ma[1;31msk-[mborder-slice": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47871[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-slice"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47873[m[36m:[m      "ma[1;31msk-[mborder-source": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47887[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-source"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47889[m[36m:[m      "ma[1;31msk-[mborder-width": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47903[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47905[m[36m:[m      "ma[1;31msk-[mclip": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47919[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mclip"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47921[m[36m:[m      "ma[1;31msk-[mcomposite": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47935[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47937[m[36m:[m      "ma[1;31msk-[mimage": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47938[m[36m:[m        syntax: "<ma[1;31msk-[mreference>#",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47951[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mimage"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47953[m[36m:[m      "ma[1;31msk-[mmode": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47967[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mmode"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47969[m[36m:[m      "ma[1;31msk-[morigin": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47983[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[morigin"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47985[m[36m:[m      "ma[1;31msk-[mposition": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m47999[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mposition"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m48001[m[36m:[m      "ma[1;31msk-[mrepeat": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m48015[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mrepeat"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m48017[m[36m:[m      "ma[1;31msk-[msize": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m48031[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[msize"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m48033[m[36m:[m      "ma[1;31msk-[mtype": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m48047[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mtype"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m51467[m[36m:[m      "ma[1;31msk-[mlayer": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m51468[m[36m:[m        syntax: "<ma[1;31msk-[mreference> || <position> [ / <bg-size> ]? || <repeat-style> || <geometry-box> || [ <geometry-box> | no-clip ] || <compositing-operator> || <masking-mode>"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m51470[m[36m:[m      "ma[1;31msk-[mposition": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m51473[m[36m:[m      "ma[1;31msk-[mreference": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m51474[m[36m:[m        syntax: "none | <image> | <ma[1;31msk-[msource>"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m51476[m[36m:[m      "ma[1;31msk-[msource": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61146[m[36m:[m        "-webkit-ma[1;31msk-[mbox-image": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61147[m[36m:[m          comment: "missed; https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-ma[1;31msk-[mbox-image",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61148[m[36m:[m          syntax: "[ <url> | <gradient> | none ] [ <length-percentage>{4} <-webkit-ma[1;31msk-[mbox-repeat>{2} ]?"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61578[m[36m:[m        "-webkit-ma[1;31msk-[mbox-repeat": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61579[m[36m:[m          comment: "missed; https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-ma[1;31msk-[mbox-image",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61582[m[36m:[m        "-webkit-ma[1;31msk-[mclip-style": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61583[m[36m:[m          comment: "missed; there is no enough information about `-webkit-ma[1;31msk-[mclip` property, but looks like all those keywords are working",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61666[m[36m:[m        "ma[1;31msk-[mimage": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61667[m[36m:[m          comment: "missed; https://drafts.fxtf.org/css-masking-1/#the-ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m61668[m[36m:[m          syntax: "<ma[1;31msk-[mreference>#"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63737[m[36m:[m        syntax: "[ <ma[1;31msk-[mreference> || <position> [ / <bg-size> ]? || <repeat-style> || [ <box> | border | padding | content | text ] || [ <box> | border | padding | content ] ]#",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63746[m[36m:[m          "-webkit-ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63747[m[36m:[m          "-webkit-ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63748[m[36m:[m          "-webkit-ma[1;31msk-[mattachment",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63749[m[36m:[m          "-webkit-ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63750[m[36m:[m          "-webkit-ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63751[m[36m:[m          "-webkit-ma[1;31msk-[mclip"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63755[m[36m:[m          "-webkit-ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63756[m[36m:[m          "-webkit-ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63757[m[36m:[m          "-webkit-ma[1;31msk-[mattachment",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63758[m[36m:[m          "-webkit-ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63759[m[36m:[m          "-webkit-ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63760[m[36m:[m          "-webkit-ma[1;31msk-[mclip"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63766[m[36m:[m      "-webkit-ma[1;31msk-[mattachment": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63780[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mattachment"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63782[m[36m:[m      "-webkit-ma[1;31msk-[mclip": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63796[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mclip"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63798[m[36m:[m      "-webkit-ma[1;31msk-[mcomposite": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63812[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63814[m[36m:[m      "-webkit-ma[1;31msk-[mimage": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63815[m[36m:[m        syntax: "<ma[1;31msk-[mreference>#",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63828[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mimage"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63830[m[36m:[m      "-webkit-ma[1;31msk-[morigin": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63844[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[morigin"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63846[m[36m:[m      "-webkit-ma[1;31msk-[mposition": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63860[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mposition"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63862[m[36m:[m      "-webkit-ma[1;31msk-[mposition-x": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63876[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mposition-x"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63878[m[36m:[m      "-webkit-ma[1;31msk-[mposition-y": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63892[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mposition-y"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63894[m[36m:[m      "-webkit-ma[1;31msk-[mrepeat": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63908[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mrepeat"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63910[m[36m:[m      "-webkit-ma[1;31msk-[mrepeat-x": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63924[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mrepeat-x"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63926[m[36m:[m      "-webkit-ma[1;31msk-[mrepeat-y": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63940[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/-webkit-ma[1;31msk-[mrepeat-y"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63942[m[36m:[m      "-webkit-ma[1;31msk-[msize": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m63956[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[msize"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68566[m[36m:[m        syntax: "<ma[1;31msk-[mlayer>#",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68570[m[36m:[m          "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68571[m[36m:[m          "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68572[m[36m:[m          "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68573[m[36m:[m          "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68574[m[36m:[m          "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68575[m[36m:[m          "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68576[m[36m:[m          "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68577[m[36m:[m          "ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68580[m[36m:[m          "ma[1;31msk-[mposition"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68586[m[36m:[m          "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68587[m[36m:[m          "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68588[m[36m:[m          "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68589[m[36m:[m          "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68590[m[36m:[m          "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68591[m[36m:[m          "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68592[m[36m:[m          "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68593[m[36m:[m          "ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68597[m[36m:[m          "ma[1;31msk-[mimage",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68598[m[36m:[m          "ma[1;31msk-[mmode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68599[m[36m:[m          "ma[1;31msk-[mrepeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68600[m[36m:[m          "ma[1;31msk-[mposition",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68601[m[36m:[m          "ma[1;31msk-[mclip",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68602[m[36m:[m          "ma[1;31msk-[morigin",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68603[m[36m:[m          "ma[1;31msk-[msize",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68604[m[36m:[m          "ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68611[m[36m:[m      "ma[1;31msk-[mborder": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68612[m[36m:[m        syntax: "<'ma[1;31msk-[mborder-source'> || <'ma[1;31msk-[mborder-slice'> [ / <'ma[1;31msk-[mborder-width'>? [ / <'ma[1;31msk-[mborder-outset'> ]? ]? || <'ma[1;31msk-[mborder-repeat'> || <'ma[1;31msk-[mborder-mode'>",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68616[m[36m:[m          "ma[1;31msk-[mborder-mode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68617[m[36m:[m          "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68618[m[36m:[m          "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68619[m[36m:[m          "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68620[m[36m:[m          "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68621[m[36m:[m          "ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68624[m[36m:[m          "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68625[m[36m:[m          "ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68631[m[36m:[m          "ma[1;31msk-[mborder-mode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68632[m[36m:[m          "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68633[m[36m:[m          "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68634[m[36m:[m          "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68635[m[36m:[m          "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68636[m[36m:[m          "ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68640[m[36m:[m          "ma[1;31msk-[mborder-mode",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68641[m[36m:[m          "ma[1;31msk-[mborder-outset",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68642[m[36m:[m          "ma[1;31msk-[mborder-repeat",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68643[m[36m:[m          "ma[1;31msk-[mborder-slice",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68644[m[36m:[m          "ma[1;31msk-[mborder-source",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68645[m[36m:[m          "ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68650[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68652[m[36m:[m      "ma[1;31msk-[mborder-mode": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68666[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-mode"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68668[m[36m:[m      "ma[1;31msk-[mborder-outset": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68682[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-outset"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68684[m[36m:[m      "ma[1;31msk-[mborder-repeat": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68698[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-repeat"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68700[m[36m:[m      "ma[1;31msk-[mborder-slice": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68714[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-slice"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68716[m[36m:[m      "ma[1;31msk-[mborder-source": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68730[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-source"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68732[m[36m:[m      "ma[1;31msk-[mborder-width": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68746[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-width"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68748[m[36m:[m      "ma[1;31msk-[mclip": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68762[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mclip"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68764[m[36m:[m      "ma[1;31msk-[mcomposite": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68778[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mcomposite"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68780[m[36m:[m      "ma[1;31msk-[mimage": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68781[m[36m:[m        syntax: "<ma[1;31msk-[mreference>#",
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68794[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mimage"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68796[m[36m:[m      "ma[1;31msk-[mmode": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68810[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mmode"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68812[m[36m:[m      "ma[1;31msk-[morigin": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68826[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[morigin"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68828[m[36m:[m      "ma[1;31msk-[mposition": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68842[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mposition"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68844[m[36m:[m      "ma[1;31msk-[mrepeat": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68858[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mrepeat"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68860[m[36m:[m      "ma[1;31msk-[msize": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68874[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[msize"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68876[m[36m:[m      "ma[1;31msk-[mtype": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m68890[m[36m:[m        mdn_url: "https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mtype"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m72123[m[36m:[m      "ma[1;31msk-[mlayer": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m72124[m[36m:[m        syntax: "<ma[1;31msk-[mreference> || <position> [ / <bg-size> ]? || <repeat-style> || <geometry-box> || [ <geometry-box> | no-clip ] || <compositing-operator> || <masking-mode>"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m72126[m[36m:[m      "ma[1;31msk-[mposition": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m72129[m[36m:[m      "ma[1;31msk-[mreference": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m72130[m[36m:[m        syntax: "none | <image> | <ma[1;31msk-[msource>"
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m72132[m[36m:[m      "ma[1;31msk-[msource": {
[35mnode_modules/tailwindcss/peers/index.js[m[36m:[m[32m96387[m[36m:[m                /^(background(-repeat)?|(-\w+-)?ma[1;31msk-[mrepeat)$/i,
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m4757[m[36m:[m    /** [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mclip) */
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m4759[m[36m:[m    /** [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mcomposite) */
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m4761[m[36m:[m    /** [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mimage) */
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m4763[m[36m:[m    /** [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mmode) */
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m4765[m[36m:[m    /** [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[morigin) */
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m4767[m[36m:[m    /** [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mposition) */
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m4769[m[36m:[m    /** [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mrepeat) */
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m4771[m[36m:[m    /** [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[msize) */
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m4773[m[36m:[m    /** [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mtype) */
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5356[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5362[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-outset)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5368[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-repeat)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5374[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-slice)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5380[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-source)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5386[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mborder-width)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5392[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mclip)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5398[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mcomposite)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5404[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mimage)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5410[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[morigin)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5416[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mposition)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5422[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[mrepeat)
[35mnode_modules/typescript/lib/lib.dom.d.ts[m[36m:[m[32m5428[m[36m:[m     * [MDN Reference](https://developer.mozilla.org/docs/Web/CSS/ma[1;31msk-[msize)
[35mpackage-lock.json[m[36m:[m[32m3024[m[36m:[m      "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microta[1;31msk-[m1.2.3.tgz",
[35mpublic/canvas-fonts/README.md[m[36m:[m[32m5[m[36m:[m- SpaceGrote[1;31msk-[mMedium.woff2
